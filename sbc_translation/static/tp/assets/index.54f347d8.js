var Nt=Object.defineProperty;var Pt=(ye,xe,l)=>xe in ye?Nt(ye,xe,{enumerable:!0,configurable:!0,writable:!0,value:l}):ye[xe]=l;var we=(ye,xe,l)=>(Pt(ye,typeof xe!="symbol"?xe+"":xe,l),l);import{x as at,g as Je,C as st,f as jt,e as wt,h as Dt,M as Ft,B as St,i as Ht,u as Et,m as Fe,n as Te,_ as ke,R as Ut,c as zt}from"./index.79c05fa8.js";import{L as Wt}from"./LetterViewer.1e13920c.js";import"./TranslatorButton.809c59a7.js";import"./TranslatorModal.0abf5672.js";import"./TranslationSkills.c9d4f6f3.js";var Yt=at`<LetterViewer letter="state.letter" loading="state.loading" letterId="props.letterId">
  <!-- action bar buttons -->
  <t t-set-slot="action-buttons" t-slot-scope="buttons">
    <t t-if="state.letter.unreadComments">
      <p class="text-sm text-slate-700">This letter has unread comments</p>
      <Button level="'secondary'" icon="'check'" size="'sm'" onClick="() => this.markCommentsRead()">Mark as read</Button>
      <Button color="'compassion'" level="'secondary'" icon="'reply'" size="'sm'" onClick="() => this.state.showReplyModal = true">Reply to all</Button>
    </t>
    <t t-else="">
      <Button color="'red'" level="'secondary'" icon="'trash'" size="'sm'" onClick="() => this.deleteLetter()">Delete Letter</Button>
      <Button color="'yellow'" level="'secondary'" size="'sm'" icon="'rotate-left'" onClick="() => this.putBackToTranslate()">Put Back to Translate</Button>
      <RouterLink to="'/letters/letter-edit/' + state.letter.id">
        <Button color="'compassion'" icon="'edit'" size="'sm'">Open in Editor</Button>
      </RouterLink>
    </t>
  </t>

  <!-- content -->
  <t t-set-slot="content" t-slot-scope="scope">
    <CommentReplyModal letter="scope.letter" show="state.showReplyModal" onSent="() => this.mailSent()" onClose="() => this.state.showReplyModal = false" />
    <div t-foreach="scope.letter.translatedElements" t-as="element" t-key="element.id">
      <div t-if="element.type == 'pageBreak'" class="relative w-full flex items-center justify-center px-4">
        <div class="bg-slash p-4 w-full flex justify-center">
          <span class="text-slate-400 font-medium text-xs">Page Break</span>
        </div>
      </div>
      <div t-if="element.type == 'paragraph'" class="bg-white shadow-xl relative z-10 mx-4" t-att-class="{
        'border-b border-dashed border-slate-300': !element_last and scope.letter.translatedElements[element_index + 1].type !== 'pageBreak'
      }">
        <div class="grid grid-cols-6 gap-4">
          <div class="col-span-4 py-4 pl-4">
            <h4 class="font-medium text-slate-700">Translated Content</h4>
            <p class="text-xs text-slate-700" t-esc="element.content" />
          </div>
          <div class="col-span-2 bg-slate-50 p-4">
            <div class="flex">
              <h4 class="font-medium text-slate-700">Comment</h4>
            </div>
            <p t-if="element.comments" class="text-xs text-slate-700" t-esc="element.comments" />
          </div>
        </div>
      </div>
    </div>
  </t>
</LetterViewer>`,Tt={exports:{}};/*! For license information please see editor.js.LICENSE.txt */(function(ye,xe){(function(l,b){ye.exports=b()})(window,function(){return function(l){var b={};function e(t){if(b[t])return b[t].exports;var o=b[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=b,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=187)}([function(l,b,e){var t=e(10),o=e(17),i=e(27),n=e(21),r=e(31),c=function(a,s,u){var h,v,g,d,f=a&c.F,p=a&c.G,y=a&c.S,m=a&c.P,k=a&c.B,x=p?t:y?t[s]||(t[s]={}):(t[s]||{}).prototype,E=p?o:o[s]||(o[s]={}),I=E.prototype||(E.prototype={});for(h in p&&(u=s),u)g=((v=!f&&x&&x[h]!==void 0)?x:u)[h],d=k&&v?r(g,t):m&&typeof g=="function"?r(Function.call,g):g,x&&n(x,h,g,a&c.U),E[h]!=g&&i(E,h,d),m&&I[h]!=g&&(I[h]=g)};t.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,l.exports=c},function(l,b){l.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(l,b){l.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(l,b){function e(t,o){for(var i=0;i<o.length;i++){var n=o[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}l.exports=function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}},function(l,b){function e(t){return l.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},e(t)}l.exports=e},function(l,b,e){var t=e(110);l.exports=function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&t(o,i)}},function(l,b,e){var t=e(59),o=e(152);l.exports=function(i,n){return!n||t(n)!=="object"&&typeof n!="function"?o(i):n}},function(l,b,e){var t,o,i;o=[b,e(23),e(371),e(24),e(403),e(14)],(i=typeof(t=function(n,r,c,a,s,u){var h,v=e(1);function g(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"log",R=arguments.length>3?arguments[3]:void 0,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"color: inherit";if("console"in window&&window.console[S]){var B=["info","log","warn","error"].includes(S),C=[];switch(g.logLevel){case h.ERROR:if(S!=="error")return;break;case h.WARN:if(!["error","warn"].includes(S))return;break;case h.INFO:if(!B||_)return}R&&C.push(R);var w="Editor.js ".concat("2.24.3"),L=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;_&&(B?(C.unshift(L,O),T="%c".concat(w,"%c ").concat(T)):T="( ".concat(w," )").concat(T));try{if(B)if(R){var P;(P=console)[S].apply(P,["".concat(T," %o")].concat(C))}else{var N;(N=console)[S].apply(N,[T].concat(C))}else console[S](T)}catch{}}}Object.defineProperty(n,"__esModule",{value:!0}),n.setLogLevel=function(_){g.logLevel=_},n.typeOf=p,n.isFunction=y,n.isObject=m,n.isString=function(_){return p(_)==="string"},n.isBoolean=function(_){return p(_)==="boolean"},n.isNumber=function(_){return p(_)==="number"},n.isUndefined=k,n.isClass=function(_){return y(_)&&/^\s*class\s+/.test(_.toString())},n.isEmpty=function(_){return!_||Object.keys(_).length===0&&_.constructor===Object},n.isPromise=function(_){return Promise.resolve(_)===_},n.isPrintableKey=function(_){return _>47&&_<58||_===32||_===13||_===229||_>64&&_<91||_>95&&_<112||_>185&&_<193||_>218&&_<223},n.sequence=function(_){return x.apply(this,arguments)},n.array=function(_){return Array.prototype.slice.call(_)},n.delay=function(_,T){return function(){var S=this,R=arguments;window.setTimeout(function(){return _.apply(S,R)},T)}},n.getFileExtension=function(_){return _.name.split(".").pop()},n.isValidMimeType=function(_){return/^[-\w]+\/([-+\w]+|\*)$/.test(_)},n.debounce=function(_,T,S){var R,O=this;return function(){for(var B=arguments.length,C=new Array(B),w=0;w<B;w++)C[w]=arguments[w];var L=O,P=function(){R=null,S||_.apply(L,C)},N=S&&!R;window.clearTimeout(R),R=window.setTimeout(P,T),N&&_.apply(L,C)}},n.throttle=function(_,T){var S,R,O,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,C=null,w=0;B||(B={});var L=function(){w=B.leading===!1?0:Date.now(),C=null,O=_.apply(S,R),C||(S=R=null)};return function(){var P=Date.now();w||B.leading!==!1||(w=P);var N=T-(P-w);return S=this,R=arguments,N<=0||N>T?(C&&(clearTimeout(C),C=null),w=P,O=_.apply(S,R),C||(S=R=null)):C||B.trailing===!1||(C=setTimeout(L,N)),O}},n.copyTextToClipboard=function(_){var T=u.default.make("div","codex-editor-clipboard",{innerHTML:_});document.body.appendChild(T);var S=window.getSelection(),R=document.createRange();R.selectNode(T),window.getSelection().removeAllRanges(),S.addRange(R),document.execCommand("copy"),document.body.removeChild(T)},n.getUserOS=E,n.capitalize=function(_){return _[0].toUpperCase()+_.slice(1)},n.deepMerge=function _(T){for(var S=arguments.length,R=new Array(S>1?S-1:0),O=1;O<S;O++)R[O-1]=arguments[O];if(!R.length)return T;var B=R.shift();if(m(T)&&m(B))for(var C in B)m(B[C])?(T[C]||Object.assign(T,(0,c.default)({},C,{})),_(T[C],B[C])):Object.assign(T,(0,c.default)({},C,B[C]));return _.apply(void 0,[T].concat(R))},n.beautifyShortcut=function(_){var T=E();return _=_.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),_=T.mac?_.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):_.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},n.getValidUrl=function(_){try{return new URL(_).href}catch{}return _.substring(0,2)==="//"?window.location.protocol+_:window.location.origin+_},n.generateBlockId=function(){return(0,s.nanoid)(10)},n.openTab=function(_){window.open(_,"_blank")},n.generateId=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"".concat(_).concat(Math.floor(1e8*Math.random()).toString(16))},n.deprecationAssert=function(_,T,S){var R="\xAB".concat(T,"\xBB is deprecated and will be removed in the next major release. Please use the \xAB").concat(S,"\xBB instead.");_&&f(R,"warn")},n.cacheable=function(_,T,S){var R=S.value?"value":"get",O=S[R],B="#".concat(T,"Cache");if(S[R]=function(){if(this[B]===void 0){for(var w=arguments.length,L=new Array(w),P=0;P<w;P++)L[P]=arguments[P];this[B]=O.apply.apply(O,[this].concat(L))}return this[B]},R==="get"&&S.set){var C=S.set;S.set=function(w){delete _[B],C.apply(this,w)}}return S},n.isMobileScreen=function(){return window.matchMedia("(max-width: 650px)").matches},n.isIosDevice=n.isTouchSupported=n.logLabeled=n.log=n.mouseButtons=n.keyCodes=n.LogLevels=void 0,r=v(r),c=v(c),a=v(a),u=v(u),n.LogLevels=h,function(_){_.VERBOSE="VERBOSE",_.INFO="INFO",_.WARN="WARN",_.ERROR="ERROR"}(h||(n.LogLevels=h={})),n.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},n.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},g.logLevel=h.VERBOSE;var d=g.bind(window,!1);n.log=d;var f=g.bind(window,!0);function p(_){return Object.prototype.toString.call(_).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function y(_){return p(_)==="function"||p(_)==="asyncfunction"}function m(_){return p(_)==="object"}function k(_){return p(_)==="undefined"}function x(){return(x=(0,a.default)(r.default.mark(function _(T){var S,R,O,B,C=arguments;return r.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return B=function(){return(B=(0,a.default)(r.default.mark(function L(P,N,A){return r.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,P.function(P.data);case 3:return D.next=5,N(k(P.data)?{}:P.data);case 5:D.next=10;break;case 7:D.prev=7,D.t0=D.catch(0),A(k(P.data)?{}:P.data);case 10:case"end":return D.stop()}},L,null,[[0,7]])}))).apply(this,arguments)},O=function(L,P,N){return B.apply(this,arguments)},S=C.length>1&&C[1]!==void 0?C[1]:function(){},R=C.length>2&&C[2]!==void 0?C[2]:function(){},w.abrupt("return",T.reduce(function(){var L=(0,a.default)(r.default.mark(function P(N,A){return r.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,N;case 2:return D.abrupt("return",O(A,S,R));case 3:case"end":return D.stop()}},P)}));return function(P,N){return L.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return w.stop()}},_)}))).apply(this,arguments)}function E(){var _={win:!1,mac:!1,x11:!1,linux:!1},T=Object.keys(_).find(function(S){return navigator.appVersion.toLowerCase().indexOf(S)!==-1});return T&&(_[T]=!0),_}n.logLabeled=f;var I="ontouchstart"in document.documentElement;n.isTouchSupported=I;var M=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);n.isIosDevice=M})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t=e(59);function o(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return o=function(){return i},i}l.exports=function(i){if(i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var n=o();if(n&&n.has(i))return n.get(i);var r={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){var s=c?Object.getOwnPropertyDescriptor(i,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=i[a]}return r.default=i,n&&n.set(i,r),r}},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(111)],(i=typeof(t=function(n,r,c,a){var s=e(1);function u(g){if(typeof Symbol=="undefined"||g[Symbol.iterator]==null){if(Array.isArray(g)||(g=function(x,E){if(x){if(typeof x=="string")return h(x,E);var I=Object.prototype.toString.call(x).slice(8,-1);return I==="Object"&&x.constructor&&(I=x.constructor.name),I==="Map"||I==="Set"?Array.from(I):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?h(x,E):void 0}}(g))){var d=0,f=function(){};return{s:f,n:function(){return d>=g.length?{done:!0}:{done:!1,value:g[d++]}},e:function(x){throw x},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,y,m=!0,k=!1;return{s:function(){p=g[Symbol.iterator]()},n:function(){var x=p.next();return m=x.done,x},e:function(x){k=!0,y=x},f:function(){try{m||p.return==null||p.return()}finally{if(k)throw y}}}}function h(g,d){(d==null||d>g.length)&&(d=g.length);for(var f=0,p=new Array(d);f<d;f++)p[f]=g[f];return p}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var v=function(){function g(d){var f=this,p=d.config,y=d.eventsDispatcher;if((0,r.default)(this,g),this.nodes={},this.listeners=new a.default,this.readOnlyMutableListeners={on:function(m,k,x){var E=arguments.length>3&&arguments[3]!==void 0&&arguments[3];f.mutableListenerIds.push(f.listeners.on(m,k,x,E))},clearAll:function(){var m,k=u(f.mutableListenerIds);try{for(k.s();!(m=k.n()).done;){var x=m.value;f.listeners.offById(x)}}catch(E){k.e(E)}finally{k.f()}f.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof g?this.constructor:void 0)===g)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=p,this.eventsDispatcher=y}return(0,c.default)(g,[{key:"removeAllNodes",value:function(){for(var d in this.nodes){var f=this.nodes[d];f instanceof HTMLElement&&f.remove()}}},{key:"state",set:function(d){this.Editor=d}},{key:"isRtl",get:function(){return this.config.i18n.direction==="rtl"}}]),g}();n.default=v,v.displayName="Module",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b){var e=l.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=e)},function(l,b){l.exports=function(e){try{return!!e()}catch{return!0}}},function(l,b,e){var t=e(13);l.exports=function(o){if(!t(o))throw TypeError(o+" is not an object!");return o}},function(l,b){l.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},function(l,b,e){var t,o,i;o=[b,e(42),e(2),e(3),e(7)],(i=typeof(t=function(n,r,c,a,s){var u=e(8),h=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=h(r),c=h(c),a=h(a),s=u(s);var v=function(){function g(){(0,c.default)(this,g)}return(0,a.default)(g,null,[{key:"isSingleTag",value:function(d){return d.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(d.tagName)}},{key:"isLineBreakTag",value:function(d){return d&&d.tagName&&["BR","WBR"].includes(d.tagName)}},{key:"make",value:function(d){var f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=document.createElement(d);for(var k in Array.isArray(p)?(f=m.classList).add.apply(f,(0,r.default)(p)):p&&m.classList.add(p),y)Object.prototype.hasOwnProperty.call(y,k)&&(m[k]=y[k]);return m}},{key:"text",value:function(d){return document.createTextNode(d)}},{key:"svg",value:function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:14,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:14,y=document.createElementNS("http://www.w3.org/2000/svg","svg");return y.classList.add("icon","icon--"+d),y.setAttribute("width",f+"px"),y.setAttribute("height",p+"px"),y.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(d,'"></use>'),y}},{key:"append",value:function(d,f){Array.isArray(f)?f.forEach(function(p){return d.appendChild(p)}):d.appendChild(f)}},{key:"prepend",value:function(d,f){Array.isArray(f)?(f=f.reverse()).forEach(function(p){return d.prepend(p)}):d.prepend(f)}},{key:"swap",value:function(d,f){var p=document.createElement("div"),y=d.parentNode;y.insertBefore(p,d),y.insertBefore(d,f),y.insertBefore(f,p),y.removeChild(p)}},{key:"find",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,f=arguments.length>1?arguments[1]:void 0;return d.querySelector(f)}},{key:"get",value:function(d){return document.getElementById(d)}},{key:"findAll",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,f=arguments.length>1?arguments[1]:void 0;return d.querySelectorAll(f)}},{key:"findAllInputs",value:function(d){return s.array(d.querySelectorAll(g.allInputsSelector)).reduce(function(f,p){return g.isNativeInput(p)||g.containsOnlyInlineElements(p)?[].concat((0,r.default)(f),[p]):[].concat((0,r.default)(f),(0,r.default)(g.getDeepestBlockElements(p)))},[])}},{key:"getDeepestNode",value:function(d){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=f?"lastChild":"firstChild",y=f?"previousSibling":"nextSibling";if(d&&d.nodeType===Node.ELEMENT_NODE&&d[p]){var m=d[p];if(g.isSingleTag(m)&&!g.isNativeInput(m)&&!g.isLineBreakTag(m))if(m[y])m=m[y];else{if(!m.parentNode[y])return m.parentNode;m=m.parentNode[y]}return this.getDeepestNode(m,f)}return d}},{key:"isElement",value:function(d){return!s.isNumber(d)&&d&&d.nodeType&&d.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(d){return!s.isNumber(d)&&d&&d.nodeType&&d.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(d){return d.contentEditable==="true"}},{key:"isNativeInput",value:function(d){return!(!d||!d.tagName)&&["INPUT","TEXTAREA"].includes(d.tagName)}},{key:"canSetCaret",value:function(d){var f=!0;if(g.isNativeInput(d))switch(d.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":f=!1}else f=g.isContentEditable(d);return f}},{key:"isNodeEmpty",value:function(d){return!(this.isSingleTag(d)&&!this.isLineBreakTag(d))&&(this.isElement(d)&&this.isNativeInput(d)?d.value:d.textContent.replace("\u200B","")).trim().length===0}},{key:"isLeaf",value:function(d){return!!d&&d.childNodes.length===0}},{key:"isEmpty",value:function(d){d.normalize();for(var f=[d];f.length>0;)if(d=f.shift()){if(this.isLeaf(d)&&!this.isNodeEmpty(d))return!1;d.childNodes&&f.push.apply(f,(0,r.default)(Array.from(d.childNodes)))}return!0}},{key:"isHTMLString",value:function(d){var f=g.make("div");return f.innerHTML=d,f.childElementCount>0}},{key:"getContentLength",value:function(d){return g.isNativeInput(d)?d.value.length:d.nodeType===Node.TEXT_NODE?d.length:d.textContent.length}},{key:"containsOnlyInlineElements",value:function(d){var f;return s.isString(d)?(f=document.createElement("div")).innerHTML=d:f=d,Array.from(f.children).every(function p(y){return!g.blockElements.includes(y.tagName.toLowerCase())&&Array.from(y.children).every(p)})}},{key:"getDeepestBlockElements",value:function(d){return g.containsOnlyInlineElements(d)?[d]:Array.from(d.children).reduce(function(f,p){return[].concat((0,r.default)(f),(0,r.default)(g.getDeepestBlockElements(p)))},[])}},{key:"getHolder",value:function(d){return s.isString(d)?document.getElementById(d):d}},{key:"isExtensionNode",value:function(d){return d&&["GRAMMARLY-EXTENSION"].includes(d.nodeName)}},{key:"isAnchor",value:function(d){return d.tagName.toLowerCase()==="a"}},{key:"offset",value:function(d){var f=d.getBoundingClientRect(),p=window.pageXOffset||document.documentElement.scrollLeft,y=window.pageYOffset||document.documentElement.scrollTop,m=f.top+y,k=f.left+p;return{top:m,left:k,bottom:m+f.height,right:k+f.width}}},{key:"allInputsSelector",get:function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(function(d){return'input[type="'.concat(d,'"]')}).join(", ")}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),g}();n.default=v,v.displayName="Dom",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t=e(69)("wks"),o=e(44),i=e(10).Symbol,n=typeof i=="function";(l.exports=function(r){return t[r]||(t[r]=n&&i[r]||(n?i:o)("Symbol."+r))}).store=t},function(l,b,e){var t=e(33),o=Math.min;l.exports=function(i){return i>0?o(t(i),9007199254740991):0}},function(l,b){var e=l.exports={version:"2.6.11"};typeof __e=="number"&&(__e=e)},function(l,b,e){l.exports=!e(11)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(l,b,e){var t=e(12),o=e(116),i=e(40),n=Object.defineProperty;b.f=e(18)?Object.defineProperty:function(r,c,a){if(t(r),c=i(c,!0),t(a),o)try{return n(r,c,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(r[c]=a.value),r}},function(l,b,e){var t=e(38);l.exports=function(o){return Object(t(o))}},function(l,b,e){var t=e(10),o=e(27),i=e(26),n=e(44)("src"),r=e(192),c=(""+r).split("toString");e(17).inspectSource=function(a){return r.call(a)},(l.exports=function(a,s,u,h){var v=typeof u=="function";v&&(i(u,"name")||o(u,"name",s)),a[s]!==u&&(v&&(i(u,n)||o(u,n,a[s]?""+a[s]:c.join(String(s)))),a===t?a[s]=u:h?a[s]?a[s]=u:o(a,s,u):(delete a[s],o(a,s,u)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[n]||r.call(this)})},function(l,b,e){var t=e(0),o=e(11),i=e(38),n=/"/g,r=function(c,a,s,u){var h=String(i(c)),v="<"+a;return s!==""&&(v+=" "+s+'="'+String(u).replace(n,"&quot;")+'"'),v+">"+h+"</"+a+">"};l.exports=function(c,a){var s={};s[c]=a(r),t(t.P+t.F*o(function(){var u=""[c]('"');return u!==u.toLowerCase()||u.split('"').length>3}),"String",s)}},function(l,b,e){l.exports=e(147)},function(l,b){function e(t,o,i,n,r,c,a){try{var s=t[c](a),u=s.value}catch(h){return void i(h)}s.done?o(u):Promise.resolve(u).then(n,r)}l.exports=function(t){return function(){var o=this,i=arguments;return new Promise(function(n,r){var c=t.apply(o,i);function a(u){e(c,n,r,a,s,"next",u)}function s(u){e(c,n,r,a,s,"throw",u)}a(void 0)})}}},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(7),e(14)],(i=typeof(t=function(n,r,c,a,s){var u=e(8),h=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=h(r),c=h(c),a=u(a),s=h(s);var v=function(){function g(){(0,r.default)(this,g),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,c.default)(g,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=g.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var d=window.getSelection();d.removeAllRanges(),d.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var d=window.getSelection(),f=document.createRange();f.selectNodeContents(d.focusNode),f.collapse(!1),d.removeAllRanges(),d.addRange(f)}},{key:"findParentTag",value:function(d,f){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,y=window.getSelection(),m=null;if(!y||!y.anchorNode||!y.focusNode)return null;var k=[y.anchorNode,y.focusNode];return k.forEach(function(x){for(var E=p;E>0&&x.parentNode&&(x.tagName!==d||(m=x,f&&x.classList&&!x.classList.contains(f)&&(m=null),!m));)x=x.parentNode,E--}),m}},{key:"expandToTag",value:function(d){var f=window.getSelection();f.removeAllRanges();var p=document.createRange();p.selectNodeContents(d),f.addRange(p)}}],[{key:"isSelectionAtEditor",value:function(d){if(!d)return!1;var f=d.anchorNode||d.focusNode;f&&f.nodeType===Node.TEXT_NODE&&(f=f.parentNode);var p=null;return f&&f instanceof Element&&(p=f.closest(".".concat(g.CSS.editorZone))),!!p&&p.nodeType===Node.ELEMENT_NODE}},{key:"isRangeAtEditor",value:function(d){if(d){var f=d.startContainer;f&&f.nodeType===Node.TEXT_NODE&&(f=f.parentNode);var p=null;return f&&f instanceof Element&&(p=f.closest(".".concat(g.CSS.editorZone))),!!p&&p.nodeType===Node.ELEMENT_NODE}}},{key:"getRangeFromSelection",value:function(d){return d&&d.rangeCount?d.getRangeAt(0):null}},{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=document.createRange(),y=window.getSelection();return s.default.isNativeInput(d)?s.default.canSetCaret(d)?(d.focus(),d.selectionStart=d.selectionEnd=f,d.getBoundingClientRect()):void 0:(p.setStart(d,f),p.setEnd(d,f),y.removeAllRanges(),y.addRange(p),p.getBoundingClientRect())}},{key:"addFakeCursor",value:function(d){var f=g.range,p=s.default.make("span","codex-editor__fake-cursor");p.dataset.mutationFree="true",!f||d&&!d.contains(f.startContainer)||(f.collapse(),f.insertNode(p))}},{key:"removeFakeCursor",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body,f=s.default.find(d,".codex-editor__fake-cursor");f&&f.remove()}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var d=window.getSelection();return d?d.anchorNode:null}},{key:"anchorElement",get:function(){var d=window.getSelection();if(!d)return null;var f=d.anchorNode;return f?s.default.isElement(f)?f:f.parentElement:null}},{key:"anchorOffset",get:function(){var d=window.getSelection();return d?d.anchorOffset:null}},{key:"isCollapsed",get:function(){var d=window.getSelection();return d?d.isCollapsed:null}},{key:"isAtEditor",get:function(){return this.isSelectionAtEditor(g.get())}},{key:"isSelectionExists",get:function(){return!!g.get().anchorNode}},{key:"range",get:function(){return this.getRangeFromSelection(this.get())}},{key:"rect",get:function(){var d,f=document.selection,p={x:0,y:0,width:0,height:0};if(f&&f.type!=="Control")return d=(f=f).createRange(),p.x=d.boundingLeft,p.y=d.boundingTop,p.width=d.boundingWidth,p.height=d.boundingHeight,p;if(!window.getSelection)return a.log("Method window.getSelection is not supported","warn"),p;if((f=window.getSelection()).rangeCount===null||isNaN(f.rangeCount))return a.log("Method SelectionUtils.rangeCount is not supported","warn"),p;if(f.rangeCount===0)return p;if((d=f.getRangeAt(0).cloneRange()).getBoundingClientRect&&(p=d.getBoundingClientRect()),p.x===0&&p.y===0){var y=document.createElement("span");if(y.getBoundingClientRect){y.appendChild(document.createTextNode("\u200B")),d.insertNode(y),p=y.getBoundingClientRect();var m=y.parentNode;m.removeChild(y),m.normalize()}}return p}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),g}();n.default=v,v.displayName="SelectionUtils",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b){var e={}.hasOwnProperty;l.exports=function(t,o){return e.call(t,o)}},function(l,b,e){var t=e(19),o=e(43);l.exports=e(18)?function(i,n,r){return t.f(i,n,o(1,r))}:function(i,n,r){return i[n]=r,i}},function(l,b,e){var t=e(62),o=e(38);l.exports=function(i){return t(o(i))}},function(l,b,e){var t=e(11);l.exports=function(o,i){return!!o&&t(function(){i?o.call(null,function(){},1):o.call(null)})}},function(l,b,e){var t=e(361),o=e(362),i=e(148),n=e(363);l.exports=function(r,c){return t(r)||o(r,c)||i(r,c)||n()}},function(l,b,e){var t=e(32);l.exports=function(o,i,n){if(t(o),i===void 0)return o;switch(n){case 1:return function(r){return o.call(i,r)};case 2:return function(r,c){return o.call(i,r,c)};case 3:return function(r,c,a){return o.call(i,r,c,a)}}return function(){return o.apply(i,arguments)}}},function(l,b){l.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(l,b){var e=Math.ceil,t=Math.floor;l.exports=function(o){return isNaN(o=+o)?0:(o>0?t:e)(o)}},function(l,b,e){var t=e(63),o=e(43),i=e(28),n=e(40),r=e(26),c=e(116),a=Object.getOwnPropertyDescriptor;b.f=e(18)?a:function(s,u){if(s=i(s),u=n(u,!0),c)try{return a(s,u)}catch{}if(r(s,u))return o(!t.f.call(s,u),s[u])}},function(l,b,e){var t=e(0),o=e(17),i=e(11);l.exports=function(n,r){var c=(o.Object||{})[n]||Object[n],a={};a[n]=r(c),t(t.S+t.F*i(function(){c(1)}),"Object",a)}},function(l,b,e){var t=e(31),o=e(62),i=e(20),n=e(16),r=e(132);l.exports=function(c,a){var s=c==1,u=c==2,h=c==3,v=c==4,g=c==6,d=c==5||g,f=a||r;return function(p,y,m){for(var k,x,E=i(p),I=o(E),M=t(y,m,3),_=n(I.length),T=0,S=s?f(p,_):u?f(p,0):void 0;_>T;T++)if((d||T in I)&&(x=M(k=I[T],T,E),c)){if(s)S[T]=x;else if(x)switch(c){case 3:return!0;case 5:return k;case 6:return T;case 2:S.push(k)}else if(v)return!1}return g?-1:h||v?v:S}}},function(l,b){var e={}.toString;l.exports=function(t){return e.call(t).slice(8,-1)}},function(l,b){l.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}},function(l,b,e){if(e(18)){var t=e(45),o=e(10),i=e(11),n=e(0),r=e(80),c=e(109),a=e(31),s=e(57),u=e(43),h=e(27),v=e(58),g=e(33),d=e(16),f=e(143),p=e(47),y=e(40),m=e(26),k=e(64),x=e(13),E=e(20),I=e(101),M=e(48),_=e(50),T=e(49).f,S=e(103),R=e(44),O=e(15),B=e(36),C=e(70),w=e(65),L=e(105),P=e(55),N=e(73),A=e(56),D=e(104),H=e(134),j=e(19),F=e(34),U=j.f,z=F.f,W=o.RangeError,G=o.TypeError,V=o.Uint8Array,J=Array.prototype,ee=c.ArrayBuffer,te=c.DataView,Y=B(0),q=B(2),ae=B(3),Q=B(4),re=B(5),de=B(6),pe=C(!0),ue=C(!1),ve=L.values,ge=L.keys,ce=L.entries,X=J.lastIndexOf,$=J.reduce,ie=J.reduceRight,me=J.join,Se=J.sort,Ie=J.slice,Oe=J.toString,$e=J.toLocaleString,Qe=O("iterator"),He=O("toStringTag"),ct=R("typed_constructor"),Ue=R("def_constructor"),lt=r.CONSTR,je=r.TYPED,Ot=r.VIEW,It=B(1,function(K,Z){return We(w(K,K[Ue]),Z)}),ut=i(function(){return new V(new Uint16Array([1]).buffer)[0]===1}),Mt=!!V&&!!V.prototype.set&&i(function(){new V(1).set({})}),ze=function(K,Z){var ne=g(K);if(ne<0||ne%Z)throw W("Wrong offset!");return ne},le=function(K){if(x(K)&&je in K)return K;throw G(K+" is not a typed array!")},We=function(K,Z){if(!x(K)||!(ct in K))throw G("It is not a typed array constructor!");return new K(Z)},ft=function(K,Z){return et(w(K,K[Ue]),Z)},et=function(K,Z){for(var ne=0,he=Z.length,se=We(K,he);he>ne;)se[ne]=Z[ne++];return se},Ye=function(K,Z,ne){U(K,Z,{get:function(){return this._d[ne]}})},tt=function(K){var Z,ne,he,se,Ae,Ge,oe=E(K),Ce=arguments.length,Pe=Ce>1?arguments[1]:void 0,Xe=Pe!==void 0,De=S(oe);if(De!=null&&!I(De)){for(Ge=De.call(oe),he=[],Z=0;!(Ae=Ge.next()).done;Z++)he.push(Ae.value);oe=he}for(Xe&&Ce>2&&(Pe=a(Pe,arguments[2],2)),Z=0,ne=d(oe.length),se=We(this,ne);ne>Z;Z++)se[Z]=Xe?Pe(oe[Z],Z):oe[Z];return se},Lt=function(){for(var K=0,Z=arguments.length,ne=We(this,Z);Z>K;)ne[K]=arguments[K++];return ne},Rt=!!V&&i(function(){$e.call(new V(1))}),dt=function(){return $e.apply(Rt?Ie.call(le(this)):le(this),arguments)},pt={copyWithin:function(K,Z){return H.call(le(this),K,Z,arguments.length>2?arguments[2]:void 0)},every:function(K){return Q(le(this),K,arguments.length>1?arguments[1]:void 0)},fill:function(K){return D.apply(le(this),arguments)},filter:function(K){return ft(this,q(le(this),K,arguments.length>1?arguments[1]:void 0))},find:function(K){return re(le(this),K,arguments.length>1?arguments[1]:void 0)},findIndex:function(K){return de(le(this),K,arguments.length>1?arguments[1]:void 0)},forEach:function(K){Y(le(this),K,arguments.length>1?arguments[1]:void 0)},indexOf:function(K){return ue(le(this),K,arguments.length>1?arguments[1]:void 0)},includes:function(K){return pe(le(this),K,arguments.length>1?arguments[1]:void 0)},join:function(K){return me.apply(le(this),arguments)},lastIndexOf:function(K){return X.apply(le(this),arguments)},map:function(K){return It(le(this),K,arguments.length>1?arguments[1]:void 0)},reduce:function(K){return $.apply(le(this),arguments)},reduceRight:function(K){return ie.apply(le(this),arguments)},reverse:function(){for(var K,Z=le(this).length,ne=Math.floor(Z/2),he=0;he<ne;)K=this[he],this[he++]=this[--Z],this[Z]=K;return this},some:function(K){return ae(le(this),K,arguments.length>1?arguments[1]:void 0)},sort:function(K){return Se.call(le(this),K)},subarray:function(K,Z){var ne=le(this),he=ne.length,se=p(K,he);return new(w(ne,ne[Ue]))(ne.buffer,ne.byteOffset+se*ne.BYTES_PER_ELEMENT,d((Z===void 0?he:p(Z,he))-se))}},ht=function(K,Z){return ft(this,Ie.call(le(this),K,Z))},vt=function(K){le(this);var Z=ze(arguments[1],1),ne=this.length,he=E(K),se=d(he.length),Ae=0;if(se+Z>ne)throw W("Wrong length!");for(;Ae<se;)this[Z+Ae]=he[Ae++]},Ve={entries:function(){return ce.call(le(this))},keys:function(){return ge.call(le(this))},values:function(){return ve.call(le(this))}},gt=function(K,Z){return x(K)&&K[je]&&typeof Z!="symbol"&&Z in K&&String(+Z)==String(Z)},mt=function(K,Z){return gt(K,Z=y(Z,!0))?u(2,K[Z]):z(K,Z)},yt=function(K,Z,ne){return!(gt(K,Z=y(Z,!0))&&x(ne)&&m(ne,"value"))||m(ne,"get")||m(ne,"set")||ne.configurable||m(ne,"writable")&&!ne.writable||m(ne,"enumerable")&&!ne.enumerable?U(K,Z,ne):(K[Z]=ne.value,K)};lt||(F.f=mt,j.f=yt),n(n.S+n.F*!lt,"Object",{getOwnPropertyDescriptor:mt,defineProperty:yt}),i(function(){Oe.call({})})&&(Oe=$e=function(){return me.call(this)});var Me=v({},pt);v(Me,Ve),h(Me,Qe,Ve.values),v(Me,{slice:ht,set:vt,constructor:function(){},toString:Oe,toLocaleString:dt}),Ye(Me,"buffer","b"),Ye(Me,"byteOffset","o"),Ye(Me,"byteLength","l"),Ye(Me,"length","e"),U(Me,He,{get:function(){return this[je]}}),l.exports=function(K,Z,ne,he){var se=K+((he=!!he)?"Clamped":"")+"Array",Ae="get"+K,Ge="set"+K,oe=o[se],Ce=oe||{},Pe=oe&&_(oe),Xe=!oe||!r.ABV,De={},be=oe&&oe.prototype,At=function(Ee,fe){U(Ee,fe,{get:function(){return function(Le,Re){var _e=Le._d;return _e.v[Ae](Re*Z+_e.o,ut)}(this,fe)},set:function(Le){return function(Re,_e,Be){var Ne=Re._d;he&&(Be=(Be=Math.round(Be))<0?0:Be>255?255:255&Be),Ne.v[Ge](_e*Z+Ne.o,Be,ut)}(this,fe,Le)},enumerable:!0})};Xe?(oe=ne(function(Ee,fe,Le,Re){s(Ee,oe,se,"_d");var _e,Be,Ne,kt,xt=0,qe=0;if(x(fe)){if(!(fe instanceof ee||(kt=k(fe))=="ArrayBuffer"||kt=="SharedArrayBuffer"))return je in fe?et(oe,fe):tt.call(oe,fe);_e=fe,qe=ze(Le,Z);var ot=fe.byteLength;if(Re===void 0){if(ot%Z||(Be=ot-qe)<0)throw W("Wrong length!")}else if((Be=d(Re)*Z)+qe>ot)throw W("Wrong length!");Ne=Be/Z}else Ne=f(fe),_e=new ee(Be=Ne*Z);for(h(Ee,"_d",{b:_e,o:qe,l:Be,e:Ne,v:new te(_e)});xt<Ne;)At(Ee,xt++)}),be=oe.prototype=M(Me),h(be,"constructor",oe)):i(function(){oe(1)})&&i(function(){new oe(-1)})&&N(function(Ee){new oe,new oe(null),new oe(1.5),new oe(Ee)},!0)||(oe=ne(function(Ee,fe,Le,Re){var _e;return s(Ee,oe,se),x(fe)?fe instanceof ee||(_e=k(fe))=="ArrayBuffer"||_e=="SharedArrayBuffer"?Re!==void 0?new Ce(fe,ze(Le,Z),Re):Le!==void 0?new Ce(fe,ze(Le,Z)):new Ce(fe):je in fe?et(oe,fe):tt.call(oe,fe):new Ce(f(fe))}),Y(Pe!==Function.prototype?T(Ce).concat(T(Pe)):T(Ce),function(Ee){Ee in oe||h(oe,Ee,Ce[Ee])}),oe.prototype=be,t||(be.constructor=oe));var Ke=be[Qe],nt=!!Ke&&(Ke.name=="values"||Ke.name==null),bt=Ve.values;h(oe,ct,!0),h(be,je,se),h(be,Ot,!0),h(be,Ue,oe),(he?new oe(1)[He]==se:He in be)||U(be,He,{get:function(){return se}}),De[se]=oe,n(n.G+n.W+n.F*(oe!=Ce),De),n(n.S,se,{BYTES_PER_ELEMENT:Z}),n(n.S+n.F*i(function(){Ce.of.call(oe,1)}),se,{from:tt,of:Lt}),"BYTES_PER_ELEMENT"in be||h(be,"BYTES_PER_ELEMENT",Z),n(n.P,se,pt),A(se),n(n.P+n.F*Mt,se,{set:vt}),n(n.P+n.F*!nt,se,Ve),t||be.toString==Oe||(be.toString=Oe),n(n.P+n.F*i(function(){new oe(1).slice()}),se,{slice:ht}),n(n.P+n.F*(i(function(){return[1,2].toLocaleString()!=new oe([1,2]).toLocaleString()})||!i(function(){be.toLocaleString.call([1,2])})),se,{toLocaleString:dt}),P[se]=nt?Ke:bt,t||nt||h(be,Qe,bt)}}else l.exports=function(){}},function(l,b,e){var t=e(13);l.exports=function(o,i){if(!t(o))return o;var n,r;if(i&&typeof(n=o.toString)=="function"&&!t(r=n.call(o))||typeof(n=o.valueOf)=="function"&&!t(r=n.call(o))||!i&&typeof(n=o.toString)=="function"&&!t(r=n.call(o)))return r;throw TypeError("Can't convert object to primitive value")}},function(l,b,e){var t=e(44)("meta"),o=e(13),i=e(26),n=e(19).f,r=0,c=Object.isExtensible||function(){return!0},a=!e(11)(function(){return c(Object.preventExtensions({}))}),s=function(h){n(h,t,{value:{i:"O"+ ++r,w:{}}})},u=l.exports={KEY:t,NEED:!1,fastKey:function(h,v){if(!o(h))return typeof h=="symbol"?h:(typeof h=="string"?"S":"P")+h;if(!i(h,t)){if(!c(h))return"F";if(!v)return"E";s(h)}return h[t].i},getWeak:function(h,v){if(!i(h,t)){if(!c(h))return!0;if(!v)return!1;s(h)}return h[t].w},onFreeze:function(h){return a&&u.NEED&&c(h)&&!i(h,t)&&s(h),h}}},function(l,b,e){var t=e(368),o=e(369),i=e(148),n=e(370);l.exports=function(r){return t(r)||o(r)||i(r)||n()}},function(l,b){l.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(l,b){var e=0,t=Math.random();l.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++e+t).toString(36))}},function(l,b){l.exports=!1},function(l,b,e){var t=e(118),o=e(88);l.exports=Object.keys||function(i){return t(i,o)}},function(l,b,e){var t=e(33),o=Math.max,i=Math.min;l.exports=function(n,r){return(n=t(n))<0?o(n+r,0):i(n,r)}},function(l,b,e){var t=e(12),o=e(119),i=e(88),n=e(87)("IE_PROTO"),r=function(){},c=function(){var a,s=e(85)("iframe"),u=i.length;for(s.style.display="none",e(89).appendChild(s),s.src="javascript:",(a=s.contentWindow.document).open(),a.write("<script>document.F=Object<\/script>"),a.close(),c=a.F;u--;)delete c.prototype[i[u]];return c()};l.exports=Object.create||function(a,s){var u;return a!==null?(r.prototype=t(a),u=new r,r.prototype=null,u[n]=a):u=c(),s===void 0?u:o(u,s)}},function(l,b,e){var t=e(118),o=e(88).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(i){return t(i,o)}},function(l,b,e){var t=e(26),o=e(20),i=e(87)("IE_PROTO"),n=Object.prototype;l.exports=Object.getPrototypeOf||function(r){return r=o(r),t(r,i)?r[i]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?n:null}},function(l,b,e){var t=e(15)("unscopables"),o=Array.prototype;o[t]==null&&e(27)(o,t,{}),l.exports=function(i){o[t][i]=!0}},function(l,b,e){var t=e(13);l.exports=function(o,i){if(!t(o)||o._t!==i)throw TypeError("Incompatible receiver, "+i+" required!");return o}},function(l,b,e){var t=e(19).f,o=e(26),i=e(15)("toStringTag");l.exports=function(n,r,c){n&&!o(n=c?n:n.prototype,i)&&t(n,i,{configurable:!0,value:r})}},function(l,b,e){var t=e(0),o=e(38),i=e(11),n=e(91),r="["+n+"]",c=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(h,v,g){var d={},f=i(function(){return!!n[h]()||"\u200B\x85"[h]()!="\u200B\x85"}),p=d[h]=f?v(u):n[h];g&&(d[g]=p),t(t.P+t.F*f,"String",d)},u=s.trim=function(h,v){return h=String(o(h)),1&v&&(h=h.replace(c,"")),2&v&&(h=h.replace(a,"")),h};l.exports=s},function(l,b){l.exports={}},function(l,b,e){var t=e(10),o=e(19),i=e(18),n=e(15)("species");l.exports=function(r){var c=t[r];i&&c&&!c[n]&&o.f(c,n,{configurable:!0,get:function(){return this}})}},function(l,b){l.exports=function(e,t,o,i){if(!(e instanceof t)||i!==void 0&&i in e)throw TypeError(o+": incorrect invocation!");return e}},function(l,b,e){var t=e(21);l.exports=function(o,i,n){for(var r in i)t(o,r,i[r],n);return o}},function(l,b){function e(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l.exports=e=function(o){return typeof o}:l.exports=e=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(t)}l.exports=e},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(150)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(){(0,r.default)(this,h)}return(0,c.default)(h,null,[{key:"ui",value:function(v,g){return h._t(v,g)}},{key:"t",value:function(v,g){return h._t(v,g)}},{key:"setDictionary",value:function(v){h.currentDictionary=v}},{key:"_t",value:function(v,g){var d=h.getNamespace(v);return d&&d[g]?d[g]:g}},{key:"getNamespace",value:function(v){return v.split(".").reduce(function(g,d){return g&&Object.keys(g).length?g[d]:{}},h.currentDictionary)}}]),h}();n.default=u,u.displayName="I18n",u.currentDictionary=a.default,l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(380),e(7)],(i=typeof(t=function(n,r,c,a,s){var u=e(8),h=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=h(r),c=h(c),a=h(a),s=u(s);var v=function(){function g(d){var f=this;(0,r.default)(this,g),this.iterator=null,this.activated=!1,this.onKeyDown=function(p){if(f.isEventReadyForHandling(p))switch(g.usedKeys.includes(p.keyCode)&&p.preventDefault(),p.keyCode){case s.keyCodes.TAB:f.handleTabPress(p);break;case s.keyCodes.LEFT:case s.keyCodes.UP:f.flipLeft();break;case s.keyCodes.RIGHT:case s.keyCodes.DOWN:f.flipRight();break;case s.keyCodes.ENTER:f.handleEnterPress(p)}},this.iterator=new a.default(d.items,d.focusedItemClass),this.activateCallback=d.activateCallback,this.allowedKeys=d.allowedKeys||g.usedKeys}return(0,c.default)(g,[{key:"activate",value:function(d){this.activated=!0,d&&this.iterator.setItems(d),document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous(),this.flipCallback()}},{key:"flipRight",value:function(){this.iterator.next(),this.flipCallback()}},{key:"hasFocus",value:function(){return!!this.iterator.currentItem}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(d){return this.activated&&this.allowedKeys.includes(d.keyCode)}},{key:"handleTabPress",value:function(d){switch(d.shiftKey?a.default.directions.LEFT:a.default.directions.RIGHT){case a.default.directions.RIGHT:this.flipRight();break;case a.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(d){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),s.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem),d.preventDefault(),d.stopPropagation())}},{key:"flipCallback",value:function(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded()}}],[{key:"usedKeys",get:function(){return[s.keyCodes.TAB,s.keyCodes.LEFT,s.keyCodes.RIGHT,s.keyCodes.ENTER,s.keyCodes.UP,s.keyCodes.DOWN]}}]),g}();n.default=v,v.displayName="Flipper",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t=e(37);l.exports=Object("z").propertyIsEnumerable(0)?Object:function(o){return t(o)=="String"?o.split(""):Object(o)}},function(l,b){b.f={}.propertyIsEnumerable},function(l,b,e){var t=e(37),o=e(15)("toStringTag"),i=t(function(){return arguments}())=="Arguments";l.exports=function(n){var r,c,a;return n===void 0?"Undefined":n===null?"Null":typeof(c=function(s,u){try{return s[u]}catch{}}(r=Object(n),o))=="string"?c:i?t(r):(a=t(r))=="Object"&&typeof r.callee=="function"?"Arguments":a}},function(l,b,e){var t=e(12),o=e(32),i=e(15)("species");l.exports=function(n,r){var c,a=t(n).constructor;return a===void 0||(c=t(a)[i])==null?r:o(c)}},function(l,b,e){var t,o,i;o=[b,e(7),e(378)],(i=typeof(t=function(n,r,c){var a=e(1),s=e(8);function u(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={tags:g},f=new c.default(d);return f.clean(v)}function h(v,g){return Array.isArray(v)?(p=g,v.map(function(y){return h(y,p)})):r.isObject(v)?function(y,m){var k,x={};for(var E in y)if(Object.prototype.hasOwnProperty.call(y,E)){var I=y[E],M=(k=m[E],r.isObject(k)||r.isBoolean(k)||r.isFunction(k)?m[E]:m);x[E]=h(I,M)}return x}(v,g):r.isString(v)?(d=v,f=g,r.isObject(f)?u(d,f):f===!1?u(d,{}):d):v;var d,f,p}Object.defineProperty(n,"__esModule",{value:!0}),n.sanitizeBlocks=function(v,g){return v.map(function(d){var f=r.isFunction(g)?g(d.tool):g;return r.isEmpty(f)||(d.data=h(d.data,f)),d})},n.clean=u,r=s(r),c=a(c)})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(30),e(23),e(24),e(42),e(2),e(3),e(152),e(114),e(5),e(6),e(4),e(14),e(7),e(112),e(25),e(81)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m,k,x,E){var I,M=e(8),_=e(1);function T(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockToolAPI=void 0,r=_(r),c=_(c),a=_(a),s=_(s),u=_(u),h=_(h),v=_(v),g=_(g),d=_(d),f=_(f),p=_(p),y=_(y),m=M(m),k=_(k),x=_(x),E=_(E),n.BlockToolAPI=I,function(R){R.APPEND_CALLBACK="appendCallback",R.RENDERED="rendered",R.MOVED="moved",R.UPDATED="updated",R.REMOVED="removed",R.ON_PASTE="onPaste"}(I||(n.BlockToolAPI=I={}));var S=function(R){(0,d.default)(P,R);var O,B,C,w,L=(O=P,function(){var N,A=(0,p.default)(O);if(T()){var D=(0,p.default)(this).constructor;N=Reflect.construct(A,arguments,D)}else N=A.apply(this,arguments);return(0,f.default)(this,N)});function P(N){var A,D=N.id,H=D===void 0?m.generateBlockId():D,j=N.data,F=N.tool,U=N.api,z=N.readOnly,W=N.tunesData;return(0,u.default)(this,P),(A=L.call(this)).cachedInputs=[],A.tunesInstances=new Map,A.defaultTunesInstances=new Map,A.unavailableTunesData={},A.inputIndex=0,A.modificationDebounceTimer=450,A.didMutated=m.debounce(function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],V=G instanceof InputEvent||!G.some(function(J){var ee=J.addedNodes,te=ee===void 0?[]:ee,Y=J.removedNodes;return[].concat((0,s.default)(Array.from(te)),(0,s.default)(Array.from(Y))).some(function(q){return y.default.isElement(q)&&q.dataset.mutationFree==="true"})});V&&(A.cachedInputs=[],A.updateCurrentInput(),A.call(I.UPDATED),A.emit("didMutated",(0,v.default)(A)))},A.modificationDebounceTimer),A.handleFocus=function(){A.cachedInputs=[],A.updateCurrentInput()},A.name=F.name,A.id=H,A.settings=F.settings,A.config=F.settings.config||{},A.api=U,A.blockAPI=new k.default((0,v.default)(A)),A.mutationObserver=new MutationObserver(A.didMutated),A.tool=F,A.toolInstance=F.create(j,A.blockAPI,z),A.tunes=F.tunes,A.composeTunes(W),A.holder=A.compose(),A}return(0,h.default)(P,[{key:"call",value:function(N,A){if(m.isFunction(this.toolInstance[N])){N===I.APPEND_CALLBACK&&m.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[N].call(this.toolInstance,A)}catch(D){m.log("Error during '".concat(N,"' call: ").concat(D.message),"error")}}}},{key:"mergeWith",value:(w=(0,a.default)(c.default.mark(function N(A){return c.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,this.toolInstance.merge(A);case 2:case"end":return D.stop()}},N,this)})),function(N){return w.apply(this,arguments)})},{key:"save",value:(C=(0,a.default)(c.default.mark(function N(){var A,D,H,j,F=this;return c.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,this.toolInstance.save(this.pluginsContent);case 2:return A=U.sent,D=this.unavailableTunesData,[].concat((0,s.default)(this.tunesInstances.entries()),(0,s.default)(this.defaultTunesInstances.entries())).forEach(function(z){var W=(0,r.default)(z,2),G=W[0],V=W[1];if(m.isFunction(V.save))try{D[G]=V.save()}catch(J){m.log("Tune ".concat(V.constructor.name," save method throws an Error %o"),"warn",J)}}),H=window.performance.now(),U.abrupt("return",Promise.resolve(A).then(function(z){return j=window.performance.now(),{id:F.id,tool:F.name,data:z,tunes:D,time:j-H}}).catch(function(z){m.log("Saving proccess for ".concat(F.name," tool failed due to the ").concat(z),"log","red")}));case 7:case"end":return U.stop()}},N,this)})),function(){return C.apply(this,arguments)})},{key:"validate",value:(B=(0,a.default)(c.default.mark(function N(A){var D;return c.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(D=!0,!(this.toolInstance.validate instanceof Function)){H.next=5;break}return H.next=4,this.toolInstance.validate(A);case 4:D=H.sent;case 5:return H.abrupt("return",D);case 6:case"end":return H.stop()}},N,this)})),function(N){return B.apply(this,arguments)})},{key:"renderTunes",value:function(){var N=document.createDocumentFragment(),A=document.createDocumentFragment();return this.tunesInstances.forEach(function(D){y.default.append(N,D.render())}),this.defaultTunesInstances.forEach(function(D){y.default.append(A,D.render())}),[N,A]}},{key:"updateCurrentInput",value:function(){this.currentInput=y.default.isNativeInput(document.activeElement)||!x.default.anchorNode?document.activeElement:x.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"dispatchChange",value:function(){this.didMutated()}},{key:"destroy",value:function(){(0,g.default)((0,p.default)(P.prototype),"destroy",this).call(this),m.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"renderSettings",value:function(){if(m.isFunction(this.toolInstance.renderSettings))return this.toolInstance.renderSettings()}},{key:"compose",value:function(){var N=y.default.make("div",P.CSS.wrapper),A=y.default.make("div",P.CSS.content),D=this.toolInstance.render();A.appendChild(D);var H=A;return[].concat((0,s.default)(this.tunesInstances.values()),(0,s.default)(this.defaultTunesInstances.values())).forEach(function(j){if(m.isFunction(j.wrap))try{H=j.wrap(H)}catch(F){m.log("Tune ".concat(j.constructor.name," wrap method throws an Error %o"),"warn",F)}}),N.appendChild(H),N}},{key:"composeTunes",value:function(N){var A=this;Array.from(this.tunes.values()).forEach(function(D){(D.isInternal?A.defaultTunesInstances:A.tunesInstances).set(D.name,D.create(N[D.name],A.blockAPI))}),Object.entries(N).forEach(function(D){var H=(0,r.default)(D,2),j=H[0],F=H[1];A.tunesInstances.has(j)||(A.unavailableTunesData[j]=F)})}},{key:"addInputEvents",value:function(){var N=this;this.inputs.forEach(function(A){A.addEventListener("focus",N.handleFocus),y.default.isNativeInput(A)&&A.addEventListener("input",N.didMutated)})}},{key:"removeInputEvents",value:function(){var N=this;this.inputs.forEach(function(A){A.removeEventListener("focus",N.handleFocus),y.default.isNativeInput(A)&&A.removeEventListener("input",N.didMutated)})}},{key:"inputs",get:function(){if(this.cachedInputs.length!==0)return this.cachedInputs;var N=y.default.findAllInputs(this.holder);return this.inputIndex>N.length-1&&(this.inputIndex=N.length-1),this.cachedInputs=N,N}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(N){var A=this.inputs.findIndex(function(D){return D===N||D.contains(N)});A!==-1&&(this.inputIndex=A)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var N=this.inputs;return N[N.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then(function(N){return N&&!m.isEmpty(N.data)?N.data:{}})}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return m.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){var N=y.default.isEmpty(this.pluginsContent),A=!this.hasMedia;return N&&A}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(N){this.holder.classList.toggle(P.CSS.focused,N)},get:function(){return this.holder.classList.contains(P.CSS.focused)}},{key:"selected",set:function(N){N?(this.holder.classList.add(P.CSS.selected),x.default.addFakeCursor(this.holder)):(this.holder.classList.remove(P.CSS.selected),x.default.removeFakeCursor(this.holder))},get:function(){return this.holder.classList.contains(P.CSS.selected)}},{key:"stretched",set:function(N){this.holder.classList.toggle(P.CSS.wrapperStretched,N)},get:function(){return this.holder.classList.contains(P.CSS.wrapperStretched)}},{key:"dropTarget",set:function(N){this.holder.classList.toggle(P.CSS.dropTarget,N)}},{key:"pluginsContent",get:function(){var N=this.holder.querySelector(".".concat(P.CSS.content));if(N&&N.childNodes.length)for(var A=N.childNodes.length-1;A>=0;A--){var D=N.childNodes[A];if(!y.default.isExtensionNode(D))return D}return null}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),P}(E.default);n.default=S,S.displayName="Block"})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(7)],(i=typeof(t=function(n,r,c,a){var s,u,h,v,g,d,f=e(8),p=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.InternalTuneSettings=n.InternalInlineToolSettings=n.InternalBlockToolSettings=n.CommonInternalSettings=n.UserSettings=n.ToolType=void 0,r=p(r),c=p(c),a=f(a),n.ToolType=s,function(m){m[m.Block=0]="Block",m[m.Inline=1]="Inline",m[m.Tune=2]="Tune"}(s||(n.ToolType=s={})),n.UserSettings=u,function(m){m.Shortcut="shortcut",m.Toolbox="toolbox",m.EnabledInlineTools="inlineToolbar",m.EnabledBlockTunes="tunes",m.Config="config"}(u||(n.UserSettings=u={})),n.CommonInternalSettings=h,function(m){m.Shortcut="shortcut",m.SanitizeConfig="sanitize"}(h||(n.CommonInternalSettings=h={})),n.InternalBlockToolSettings=v,function(m){m.IsEnabledLineBreaks="enableLineBreaks",m.Toolbox="toolbox",m.ConversionConfig="conversionConfig",m.IsReadOnlySupported="isReadOnlySupported",m.PasteConfig="pasteConfig"}(v||(n.InternalBlockToolSettings=v={})),n.InternalInlineToolSettings=g,function(m){m.IsInline="isInline",m.Title="title"}(g||(n.InternalInlineToolSettings=g={})),n.InternalTuneSettings=d,function(m){m.IsTune="isTune"}(d||(n.InternalTuneSettings=d={}));var y=function(){function m(k){var x=k.name,E=k.constructable,I=k.config,M=k.api,_=k.isDefault,T=k.isInternal,S=T!==void 0&&T,R=k.defaultPlaceholder;(0,r.default)(this,m),this.api=M,this.name=x,this.constructable=E,this.config=I,this.isDefault=_,this.isInternal=S,this.defaultPlaceholder=R}return(0,c.default)(m,[{key:"reset",value:function(){if(a.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(a.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"isInline",value:function(){return this.type===s.Inline}},{key:"isBlock",value:function(){return this.type===s.Block}},{key:"isTune",value:function(){return this.type===s.Tune}},{key:"settings",get:function(){var k=this.config[u.Config]||{};return this.isDefault&&!("placeholder"in k)&&this.defaultPlaceholder&&(k.placeholder=this.defaultPlaceholder),k}},{key:"shortcut",get:function(){var k=this.constructable[h.Shortcut];return this.config[u.Shortcut]||k}},{key:"sanitizeConfig",get:function(){return this.constructable[h.SanitizeConfig]||{}}}]),m}();n.default=y,y.displayName="BaseTool"})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t=e(17),o=e(10),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(l.exports=function(n,r){return i[n]||(i[n]=r!==void 0?r:{})})("versions",[]).push({version:t.version,mode:e(45)?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},function(l,b,e){var t=e(28),o=e(16),i=e(47);l.exports=function(n){return function(r,c,a){var s,u=t(r),h=o(u.length),v=i(a,h);if(n&&c!=c){for(;h>v;)if((s=u[v++])!=s)return!0}else for(;h>v;v++)if((n||v in u)&&u[v]===c)return n||v||0;return!n&&-1}}},function(l,b){b.f=Object.getOwnPropertySymbols},function(l,b,e){var t=e(37);l.exports=Array.isArray||function(o){return t(o)=="Array"}},function(l,b,e){var t=e(15)("iterator"),o=!1;try{var i=[7][t]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch{}l.exports=function(n,r){if(!r&&!o)return!1;var c=!1;try{var a=[7],s=a[t]();s.next=function(){return{done:c=!0}},a[t]=function(){return s},n(a)}catch{}return c}},function(l,b,e){var t=e(12);l.exports=function(){var o=t(this),i="";return o.global&&(i+="g"),o.ignoreCase&&(i+="i"),o.multiline&&(i+="m"),o.unicode&&(i+="u"),o.sticky&&(i+="y"),i}},function(l,b,e){var t=e(64),o=RegExp.prototype.exec;l.exports=function(i,n){var r=i.exec;if(typeof r=="function"){var c=r.call(i,n);if(typeof c!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if(t(i)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(i,n)}},function(l,b,e){e(136);var t=e(21),o=e(27),i=e(11),n=e(38),r=e(15),c=e(106),a=r("species"),s=!i(function(){var h=/./;return h.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(h,"$<a>")!=="7"}),u=function(){var h=/(?:)/,v=h.exec;h.exec=function(){return v.apply(this,arguments)};var g="ab".split(h);return g.length===2&&g[0]==="a"&&g[1]==="b"}();l.exports=function(h,v,g){var d=r(h),f=!i(function(){var E={};return E[d]=function(){return 7},""[h](E)!=7}),p=f?!i(function(){var E=!1,I=/a/;return I.exec=function(){return E=!0,null},h==="split"&&(I.constructor={},I.constructor[a]=function(){return I}),I[d](""),!E}):void 0;if(!f||!p||h==="replace"&&!s||h==="split"&&!u){var y=/./[d],m=g(n,d,""[h],function(E,I,M,_,T){return I.exec===c?f&&!T?{done:!0,value:y.call(I,M,_)}:{done:!0,value:E.call(M,I,_)}:{done:!1}}),k=m[0],x=m[1];t(String.prototype,h,k),o(RegExp.prototype,d,v==2?function(E,I){return x.call(E,this,I)}:function(E){return x.call(E,this)})}}},function(l,b,e){var t=e(31),o=e(131),i=e(101),n=e(12),r=e(16),c=e(103),a={},s={};(b=l.exports=function(u,h,v,g,d){var f,p,y,m,k=d?function(){return u}:c(u),x=t(v,g,h?2:1),E=0;if(typeof k!="function")throw TypeError(u+" is not iterable!");if(i(k)){for(f=r(u.length);f>E;E++)if((m=h?x(n(p=u[E])[0],p[1]):x(u[E]))===a||m===s)return m}else for(y=k.call(u);!(p=y.next()).done;)if((m=o(y,x,p.value,h))===a||m===s)return m}).BREAK=a,b.RETURN=s},function(l,b,e){var t=e(10).navigator;l.exports=t&&t.userAgent||""},function(l,b,e){var t=e(10),o=e(0),i=e(21),n=e(58),r=e(41),c=e(77),a=e(57),s=e(13),u=e(11),h=e(73),v=e(53),g=e(92);l.exports=function(d,f,p,y,m,k){var x=t[d],E=x,I=m?"set":"add",M=E&&E.prototype,_={},T=function(w){var L=M[w];i(M,w,w=="delete"||w=="has"?function(P){return!(k&&!s(P))&&L.call(this,P===0?0:P)}:w=="get"?function(P){return k&&!s(P)?void 0:L.call(this,P===0?0:P)}:w=="add"?function(P){return L.call(this,P===0?0:P),this}:function(P,N){return L.call(this,P===0?0:P,N),this})};if(typeof E=="function"&&(k||M.forEach&&!u(function(){new E().entries().next()}))){var S=new E,R=S[I](k?{}:-0,1)!=S,O=u(function(){S.has(1)}),B=h(function(w){new E(w)}),C=!k&&u(function(){for(var w=new E,L=5;L--;)w[I](L,L);return!w.has(-0)});B||((E=f(function(w,L){a(w,E,d);var P=g(new x,w,E);return L!=null&&c(L,m,P[I],P),P})).prototype=M,M.constructor=E),(O||C)&&(T("delete"),T("has"),m&&T("get")),(C||R)&&T(I),k&&M.clear&&delete M.clear}else E=y.getConstructor(f,d,m,I),n(E.prototype,p),r.NEED=!0;return v(E,d),_[d]=E,o(o.G+o.W+o.F*(E!=x),_),k||y.setStrong(E,d,m),E}},function(l,b,e){for(var t,o=e(10),i=e(27),n=e(44),r=n("typed_array"),c=n("view"),a=!(!o.ArrayBuffer||!o.DataView),s=a,u=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<9;)(t=o[h[u++]])?(i(t.prototype,r,!0),i(t.prototype,c,!0)):s=!1;l.exports={ABV:a,CONSTR:s,TYPED:r,VIEW:c}},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(7)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c);var u=function(){function h(){(0,r.default)(this,h),this.subscribers={}}return(0,c.default)(h,[{key:"on",value:function(v,g){v in this.subscribers||(this.subscribers[v]=[]),this.subscribers[v].push(g)}},{key:"once",value:function(v,g){var d=this;v in this.subscribers||(this.subscribers[v]=[]),this.subscribers[v].push(function f(p){var y=g(p),m=d.subscribers[v].indexOf(f);return m!==-1&&d.subscribers[v].splice(m,1),y})}},{key:"emit",value:function(v,g){!(0,a.isEmpty)(this.subscribers)&&this.subscribers[v]&&this.subscribers[v].reduce(function(d,f){return f(d)||d},g)}},{key:"off",value:function(v,g){for(var d=0;d<this.subscribers[v].length;d++)if(this.subscribers[v][d]===g){delete this.subscribers[v][d];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),h}();n.default=u,u.displayName="EventsDispatcher",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=v(u);var d=function(f){(0,a.default)(m,f);var p,y=(p=m,function(){var k,x=(0,u.default)(p);if(g()){var E=(0,u.default)(this).constructor;k=Reflect.construct(x,arguments,E)}else k=x.apply(this,arguments);return(0,s.default)(this,k)});function m(){return(0,r.default)(this,m),y.apply(this,arguments)}return(0,c.default)(m,[{key:"getMethodsForTool",value:function(k){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(k)})}},{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}}]),m}((h=v(h)).default);n.default=d,d.displayName="API",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(7),e(60),e(84),e(113),e(385)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y){var m=e(8),k=e(1);function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=k(r),c=k(c),a=k(a),s=k(s),u=k(u),h=k(h),v=k(v),g=m(g),d=k(d),p=k(p),y=m(y);var E=function(I){(0,a.default)(T,I);var M,_=(M=T,function(){var S,R=(0,u.default)(M);if(x()){var O=(0,u.default)(this).constructor;S=Reflect.construct(R,arguments,O)}else S=R.apply(this,arguments);return(0,s.default)(this,S)});function T(S){var R,O=S.config,B=S.eventsDispatcher;return(0,r.default)(this,T),(R=_.call(this,{config:O,eventsDispatcher:B})).tooltip=new p.default,R}return(0,c.default)(T,[{key:"toggleReadOnly",value:function(S){S?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"moveAndOpen",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.Editor.BlockManager.currentBlock;if(this.toolboxInstance.close(),this.Editor.BlockSettings.close(),S){this.hoveredBlock=S;var R,O=S.holder,B=this.Editor.UI.isMobile,C=S.pluginsContent,w=window.getComputedStyle(C),L=parseInt(w.paddingTop,10),P=O.offsetHeight;R=B?O.offsetTop+P:O.offsetTop+L,this.nodes.wrapper.style.top="".concat(Math.floor(R),"px"),this.Editor.BlockManager.blocks.length===1&&S.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}}},{key:"close",value:function(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}},{key:"open",value:function(){var S=this,R=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];g.delay(function(){S.nodes.wrapper.classList.add(S.CSS.toolbarOpened),R?S.blockActions.show():S.blockActions.hide()},50)()}},{key:"make",value:function(){var S=this;this.nodes.wrapper=v.default.make("div",this.CSS.toolbar),["content","actions"].forEach(function(B){S.nodes[B]=v.default.make("div",S.CSS[B])}),v.default.append(this.nodes.wrapper,this.nodes.content),v.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=v.default.make("div",this.CSS.plusButton),v.default.append(this.nodes.plusButton,v.default.svg("plus",16,16)),v.default.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",function(){S.tooltip.hide(!0),S.plusButtonClicked()},!1);var R=v.default.make("div");R.appendChild(document.createTextNode(d.default.ui(f.I18nInternalNS.ui.toolbar.toolbox,"Add"))),R.appendChild(v.default.make("div",this.CSS.plusButtonShortcut,{textContent:"\u21E5 Tab"})),this.tooltip.onHover(this.nodes.plusButton,R,{hidingDelay:400}),this.nodes.settingsToggler=v.default.make("span",this.CSS.settingsToggler);var O=v.default.svg("dots",16,16);v.default.append(this.nodes.settingsToggler,O),v.default.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,d.default.ui(f.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),v.default.append(this.nodes.actions,this.makeToolbox()),v.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),v.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"makeToolbox",value:function(){var S=this;return this.toolboxInstance=new y.default({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:d.default.ui(f.I18nInternalNS.ui.toolbar.toolbox,"Filter"),nothingFound:d.default.ui(f.I18nInternalNS.ui.toolbar.toolbox,"Nothing found")}}),this.toolboxInstance.on(y.ToolboxEvent.Opened,function(){S.Editor.UI.nodes.wrapper.classList.add(S.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(y.ToolboxEvent.Closed,function(){S.Editor.UI.nodes.wrapper.classList.remove(S.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(y.ToolboxEvent.BlockAdded,function(R){var O=R.block,B=S.Editor,C=B.BlockManager,w=B.Caret,L=C.getBlockById(O.id);L.inputs.length===0&&(L===C.lastBlock?(C.insertAtEnd(),w.setToBlock(C.lastBlock)):w.setToBlock(C.nextBlock))}),this.toolboxInstance.make()}},{key:"plusButtonClicked",value:function(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}},{key:"enableModuleBindings",value:function(){var S=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",function(R){R.stopPropagation(),S.settingsTogglerClicked(),S.toolboxInstance.close(),S.tooltip.hide(!0)},!0),g.isMobileScreen()||this.eventsDispatcher.on(this.Editor.UI.events.blockHovered,function(R){S.Editor.BlockSettings.opened||S.toolboxInstance.opened||S.moveAndOpen(R.block)})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"toolbox",get:function(){var S=this;return{opened:this.toolboxInstance.opened,close:function(){S.toolboxInstance.close(),S.Editor.Caret.setToBlock(S.Editor.BlockManager.currentBlock)},open:function(){S.Editor.BlockManager.currentBlock=S.hoveredBlock,S.toolboxInstance.open()},toggle:function(){return S.toolboxInstance.toggle()},hasFocus:function(){return S.toolboxInstance.hasFocus()}}}},{key:"blockActions",get:function(){var S=this;return{hide:function(){S.nodes.actions.classList.remove(S.CSS.actionsOpened)},show:function(){S.nodes.actions.classList.add(S.CSS.actionsOpened)}}}},{key:"blockTunesToggler",get:function(){var S=this;return{hide:function(){return S.nodes.settingsToggler.classList.add(S.CSS.settingsTogglerHidden)},show:function(){return S.nodes.settingsToggler.classList.remove(S.CSS.settingsTogglerHidden)}}}}]),T}(h.default);n.default=E,E.displayName="Toolbar",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(30),e(150),e(7)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.I18nInternalNS=void 0,r=s(r);var u=function h(v,g){var d={};return Object.entries(v).forEach(function(f){var p=(0,r.default)(f,2),y=p[0],m=p[1];if((0,a.isObject)(m)){var k=g?"".concat(g,".").concat(y):y,x=Object.values(m).every(function(E){return(0,a.isString)(E)});d[y]=x?k:h(m,k)}else d[y]=m}),d}((c=s(c)).default);n.I18nInternalNS=u})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t=e(13),o=e(10).document,i=t(o)&&t(o.createElement);l.exports=function(n){return i?o.createElement(n):{}}},function(l,b,e){b.f=e(15)},function(l,b,e){var t=e(69)("keys"),o=e(44);l.exports=function(i){return t[i]||(t[i]=o(i))}},function(l,b){l.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(l,b,e){var t=e(10).document;l.exports=t&&t.documentElement},function(l,b,e){var t=e(13),o=e(12),i=function(n,r){if(o(n),!t(r)&&r!==null)throw TypeError(r+": can't set as prototype!")};l.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(n,r,c){try{(c=e(31)(Function.call,e(34).f(Object.prototype,"__proto__").set,2))(n,[]),r=!(n instanceof Array)}catch{r=!0}return function(a,s){return i(a,s),r?a.__proto__=s:c(a,s),a}}({},!1):void 0),check:i}},function(l,b){l.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(l,b,e){var t=e(13),o=e(90).set;l.exports=function(i,n,r){var c,a=n.constructor;return a!==r&&typeof a=="function"&&(c=a.prototype)!==r.prototype&&t(c)&&o&&o(i,c),i}},function(l,b,e){var t=e(33),o=e(38);l.exports=function(i){var n=String(o(this)),r="",c=t(i);if(c<0||c==1/0)throw RangeError("Count can't be negative");for(;c>0;(c>>>=1)&&(n+=n))1&c&&(r+=n);return r}},function(l,b){l.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}},function(l,b){var e=Math.expm1;l.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||e(-2e-17)!=-2e-17?function(t){return(t=+t)==0?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},function(l,b,e){var t=e(33),o=e(38);l.exports=function(i){return function(n,r){var c,a,s=String(o(n)),u=t(r),h=s.length;return u<0||u>=h?i?"":void 0:(c=s.charCodeAt(u))<55296||c>56319||u+1===h||(a=s.charCodeAt(u+1))<56320||a>57343?i?s.charAt(u):c:i?s.slice(u,u+2):a-56320+(c-55296<<10)+65536}}},function(l,b,e){var t=e(45),o=e(0),i=e(21),n=e(27),r=e(55),c=e(130),a=e(53),s=e(50),u=e(15)("iterator"),h=!([].keys&&"next"in[].keys()),v=function(){return this};l.exports=function(g,d,f,p,y,m,k){c(f,d,p);var x,E,I,M=function(L){if(!h&&L in R)return R[L];switch(L){case"keys":case"values":return function(){return new f(this,L)}}return function(){return new f(this,L)}},_=d+" Iterator",T=y=="values",S=!1,R=g.prototype,O=R[u]||R["@@iterator"]||y&&R[y],B=O||M(y),C=y?T?M("entries"):B:void 0,w=d=="Array"&&R.entries||O;if(w&&(I=s(w.call(new g)))!==Object.prototype&&I.next&&(a(I,_,!0),t||typeof I[u]=="function"||n(I,u,v)),T&&O&&O.name!=="values"&&(S=!0,B=function(){return O.call(this)}),t&&!k||!h&&!S&&R[u]||n(R,u,B),r[d]=B,r[_]=v,y)if(x={values:T?B:M("values"),keys:m?B:M("keys"),entries:C},k)for(E in x)E in R||i(R,E,x[E]);else o(o.P+o.F*(h||S),d,x);return x}},function(l,b,e){var t=e(99),o=e(38);l.exports=function(i,n,r){if(t(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(i))}},function(l,b,e){var t=e(13),o=e(37),i=e(15)("match");l.exports=function(n){var r;return t(n)&&((r=n[i])!==void 0?!!r:o(n)=="RegExp")}},function(l,b,e){var t=e(15)("match");l.exports=function(o){var i=/./;try{"/./"[o](i)}catch{try{return i[t]=!1,!"/./"[o](i)}catch{}}return!0}},function(l,b,e){var t=e(55),o=e(15)("iterator"),i=Array.prototype;l.exports=function(n){return n!==void 0&&(t.Array===n||i[o]===n)}},function(l,b,e){var t=e(19),o=e(43);l.exports=function(i,n,r){n in i?t.f(i,n,o(0,r)):i[n]=r}},function(l,b,e){var t=e(64),o=e(15)("iterator"),i=e(55);l.exports=e(17).getIteratorMethod=function(n){if(n!=null)return n[o]||n["@@iterator"]||i[t(n)]}},function(l,b,e){var t=e(20),o=e(47),i=e(16);l.exports=function(n){for(var r=t(this),c=i(r.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,c),u=a>2?arguments[2]:void 0,h=u===void 0?c:o(u,c);h>s;)r[s++]=n;return r}},function(l,b,e){var t=e(51),o=e(135),i=e(55),n=e(28);l.exports=e(97)(Array,"Array",function(r,c){this._t=n(r),this._i=0,this._k=c},function(){var r=this._t,c=this._k,a=this._i++;return!r||a>=r.length?(this._t=void 0,o(1)):o(0,c=="keys"?a:c=="values"?r[a]:[a,r[a]])},"values"),i.Arguments=i.Array,t("keys"),t("values"),t("entries")},function(l,b,e){var t,o,i=e(74),n=RegExp.prototype.exec,r=String.prototype.replace,c=n,a=(t=/a/,o=/b*/g,n.call(t,"a"),n.call(o,"a"),t.lastIndex!==0||o.lastIndex!==0),s=/()??/.exec("")[1]!==void 0;(a||s)&&(c=function(u){var h,v,g,d,f=this;return s&&(v=new RegExp("^"+f.source+"$(?!\\s)",i.call(f))),a&&(h=f.lastIndex),g=n.call(f,u),a&&g&&(f.lastIndex=f.global?g.index+g[0].length:h),s&&g&&g.length>1&&r.call(g[0],v,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(g[d]=void 0)}),g}),l.exports=c},function(l,b,e){var t=e(96)(!0);l.exports=function(o,i,n){return i+(n?t(o,i).length:1)}},function(l,b,e){var t,o,i,n=e(31),r=e(124),c=e(89),a=e(85),s=e(10),u=s.process,h=s.setImmediate,v=s.clearImmediate,g=s.MessageChannel,d=s.Dispatch,f=0,p={},y=function(){var k=+this;if(p.hasOwnProperty(k)){var x=p[k];delete p[k],x()}},m=function(k){y.call(k.data)};h&&v||(h=function(k){for(var x=[],E=1;arguments.length>E;)x.push(arguments[E++]);return p[++f]=function(){r(typeof k=="function"?k:Function(k),x)},t(f),f},v=function(k){delete p[k]},e(37)(u)=="process"?t=function(k){u.nextTick(n(y,k,1))}:d&&d.now?t=function(k){d.now(n(y,k,1))}:g?(i=(o=new g).port2,o.port1.onmessage=m,t=n(i.postMessage,i,1)):s.addEventListener&&typeof postMessage=="function"&&!s.importScripts?(t=function(k){s.postMessage(k+"","*")},s.addEventListener("message",m,!1)):t="onreadystatechange"in a("script")?function(k){c.appendChild(a("script")).onreadystatechange=function(){c.removeChild(this),y.call(k)}}:function(k){setTimeout(n(y,k,1),0)}),l.exports={set:h,clear:v}},function(l,b,e){var t=e(10),o=e(18),i=e(45),n=e(80),r=e(27),c=e(58),a=e(11),s=e(57),u=e(33),h=e(16),v=e(143),g=e(49).f,d=e(19).f,f=e(104),p=e(53),y=t.ArrayBuffer,m=t.DataView,k=t.Math,x=t.RangeError,E=t.Infinity,I=y,M=k.abs,_=k.pow,T=k.floor,S=k.log,R=k.LN2,O=o?"_b":"buffer",B=o?"_l":"byteLength",C=o?"_o":"byteOffset";function w(Y,q,ae){var Q,re,de,pe=new Array(ae),ue=8*ae-q-1,ve=(1<<ue)-1,ge=ve>>1,ce=q===23?_(2,-24)-_(2,-77):0,X=0,$=Y<0||Y===0&&1/Y<0?1:0;for((Y=M(Y))!=Y||Y===E?(re=Y!=Y?1:0,Q=ve):(Q=T(S(Y)/R),Y*(de=_(2,-Q))<1&&(Q--,de*=2),(Y+=Q+ge>=1?ce/de:ce*_(2,1-ge))*de>=2&&(Q++,de/=2),Q+ge>=ve?(re=0,Q=ve):Q+ge>=1?(re=(Y*de-1)*_(2,q),Q+=ge):(re=Y*_(2,ge-1)*_(2,q),Q=0));q>=8;pe[X++]=255&re,re/=256,q-=8);for(Q=Q<<q|re,ue+=q;ue>0;pe[X++]=255&Q,Q/=256,ue-=8);return pe[--X]|=128*$,pe}function L(Y,q,ae){var Q,re=8*ae-q-1,de=(1<<re)-1,pe=de>>1,ue=re-7,ve=ae-1,ge=Y[ve--],ce=127&ge;for(ge>>=7;ue>0;ce=256*ce+Y[ve],ve--,ue-=8);for(Q=ce&(1<<-ue)-1,ce>>=-ue,ue+=q;ue>0;Q=256*Q+Y[ve],ve--,ue-=8);if(ce===0)ce=1-pe;else{if(ce===de)return Q?NaN:ge?-E:E;Q+=_(2,q),ce-=pe}return(ge?-1:1)*Q*_(2,ce-q)}function P(Y){return Y[3]<<24|Y[2]<<16|Y[1]<<8|Y[0]}function N(Y){return[255&Y]}function A(Y){return[255&Y,Y>>8&255]}function D(Y){return[255&Y,Y>>8&255,Y>>16&255,Y>>24&255]}function H(Y){return w(Y,52,8)}function j(Y){return w(Y,23,4)}function F(Y,q,ae){d(Y.prototype,q,{get:function(){return this[ae]}})}function U(Y,q,ae,Q){var re=v(+ae);if(re+q>Y[B])throw x("Wrong index!");var de=Y[O]._b,pe=re+Y[C],ue=de.slice(pe,pe+q);return Q?ue:ue.reverse()}function z(Y,q,ae,Q,re,de){var pe=v(+ae);if(pe+q>Y[B])throw x("Wrong index!");for(var ue=Y[O]._b,ve=pe+Y[C],ge=Q(+re),ce=0;ce<q;ce++)ue[ve+ce]=ge[de?ce:q-ce-1]}if(n.ABV){if(!a(function(){y(1)})||!a(function(){new y(-1)})||a(function(){return new y,new y(1.5),new y(NaN),y.name!="ArrayBuffer"})){for(var W,G=(y=function(Y){return s(this,y),new I(v(Y))}).prototype=I.prototype,V=g(I),J=0;V.length>J;)(W=V[J++])in y||r(y,W,I[W]);i||(G.constructor=y)}var ee=new m(new y(2)),te=m.prototype.setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||c(m.prototype,{setInt8:function(Y,q){te.call(this,Y,q<<24>>24)},setUint8:function(Y,q){te.call(this,Y,q<<24>>24)}},!0)}else y=function(Y){s(this,y,"ArrayBuffer");var q=v(Y);this._b=f.call(new Array(q),0),this[B]=q},m=function(Y,q,ae){s(this,m,"DataView"),s(Y,y,"DataView");var Q=Y[B],re=u(q);if(re<0||re>Q)throw x("Wrong offset!");if(re+(ae=ae===void 0?Q-re:h(ae))>Q)throw x("Wrong length!");this[O]=Y,this[C]=re,this[B]=ae},o&&(F(y,"byteLength","_l"),F(m,"buffer","_b"),F(m,"byteLength","_l"),F(m,"byteOffset","_o")),c(m.prototype,{getInt8:function(Y){return U(this,1,Y)[0]<<24>>24},getUint8:function(Y){return U(this,1,Y)[0]},getInt16:function(Y){var q=U(this,2,Y,arguments[1]);return(q[1]<<8|q[0])<<16>>16},getUint16:function(Y){var q=U(this,2,Y,arguments[1]);return q[1]<<8|q[0]},getInt32:function(Y){return P(U(this,4,Y,arguments[1]))},getUint32:function(Y){return P(U(this,4,Y,arguments[1]))>>>0},getFloat32:function(Y){return L(U(this,4,Y,arguments[1]),23,4)},getFloat64:function(Y){return L(U(this,8,Y,arguments[1]),52,8)},setInt8:function(Y,q){z(this,1,Y,N,q)},setUint8:function(Y,q){z(this,1,Y,N,q)},setInt16:function(Y,q){z(this,2,Y,A,q,arguments[2])},setUint16:function(Y,q){z(this,2,Y,A,q,arguments[2])},setInt32:function(Y,q){z(this,4,Y,D,q,arguments[2])},setUint32:function(Y,q){z(this,4,Y,D,q,arguments[2])},setFloat32:function(Y,q){z(this,4,Y,j,q,arguments[2])},setFloat64:function(Y,q){z(this,8,Y,H,q,arguments[2])}});p(y,"ArrayBuffer"),p(m,"DataView"),r(m.prototype,n.VIEW,!0),b.ArrayBuffer=y,b.DataView=m},function(l,b){function e(t,o){return l.exports=e=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},e(t,o)}l.exports=e},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(7)],(i=typeof(t=function(n,r,c,a){var s=e(8),u=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=u(r),c=u(c),a=s(a);var h=function(){function v(){(0,r.default)(this,v),this.allListeners=[]}return(0,c.default)(v,[{key:"on",value:function(g,d,f){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],y=a.generateId("l"),m={id:y,element:g,eventType:d,handler:f,options:p},k=this.findOne(g,d,f);if(!k)return this.allListeners.push(m),g.addEventListener(d,f,p),y}},{key:"off",value:function(g,d,f,p){var y=this,m=this.findAll(g,d,f);m.forEach(function(k,x){var E=y.allListeners.indexOf(m[x]);E>-1&&(y.allListeners.splice(E,1),k.element.removeEventListener(k.eventType,k.handler,k.options))})}},{key:"offById",value:function(g){var d=this.findById(g);d&&d.element.removeEventListener(d.eventType,d.handler,d.options)}},{key:"findOne",value:function(g,d,f){var p=this.findAll(g,d,f);return p.length>0?p[0]:null}},{key:"findAll",value:function(g,d,f){var p=g?this.findByEventTarget(g):[];return g&&d&&f?p.filter(function(y){return y.eventType===d&&y.handler===f}):g&&d?p.filter(function(y){return y.eventType===d}):p}},{key:"removeAll",value:function(){this.allListeners.map(function(g){g.element.removeEventListener(g.eventType,g.handler,g.options)}),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(g){return this.allListeners.filter(function(d){if(d.element===g)return d})}},{key:"findByType",value:function(g){return this.allListeners.filter(function(d){if(d.eventType===g)return d})}},{key:"findByHandler",value:function(g){return this.allListeners.filter(function(d){if(d.handler===g)return d})}},{key:"findById",value:function(g){return this.allListeners.find(function(d){return d.id===g})}}]),v}();n.default=h,h.displayName="Listeners",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b],(i=typeof(t=function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(c){var a={get id(){return c.id},get name(){return c.name},get config(){return c.config},get holder(){return c.holder},get isEmpty(){return c.isEmpty},get selected(){return c.selected},set stretched(s){c.stretched=s},get stretched(){return c.stretched},call:function(s,u){return c.call(s,u)},save:function(){return c.save()},validate:function(s){return c.validate(s)},dispatchChange:function(){c.dispatchChange()}};Object.setPrototypeOf(this,a)};n.default=r,l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(379)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(){(0,r.default)(this,h),this.lib=new a.default}return(0,c.default)(h,[{key:"destroy",value:function(){this.lib.destroy()}},{key:"show",value:function(v,g,d){this.lib.show(v,g,d)}},{key:"hide",value:function(){var v=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.lib.hide(v)}},{key:"onHover",value:function(v,g,d){this.lib.onHover(v,g,d)}}]),h}();n.default=u,u.displayName="Tooltip",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t=e(381);function o(i,n,r){return typeof Reflect!="undefined"&&Reflect.get?l.exports=o=Reflect.get:l.exports=o=function(c,a,s){var u=t(c,a);if(u){var h=Object.getOwnPropertyDescriptor(u,a);return h.get?h.get.call(s):h.value}},o(i,n,r||i)}l.exports=o},function(l,b,e){var t,o,i;o=[b,e(42),e(2),e(3),e(384)],(i=typeof(t=function(n,r,c,a,s){var u=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=u(r),c=u(c),a=u(a),s=u(s);var h=function(){function g(){(0,c.default)(this,g),this.registeredShortcuts=new Map}return(0,a.default)(g,[{key:"add",value:function(d){if(this.findShortcut(d.on,d.name))throw Error("Shortcut ".concat(d.name," is already registered for ").concat(d.on,". Please remove it before add a new handler."));var f=new s.default({name:d.name,on:d.on,callback:d.handler}),p=this.registeredShortcuts.get(d.on)||[];this.registeredShortcuts.set(d.on,[].concat((0,r.default)(p),[f]))}},{key:"remove",value:function(d,f){var p=this.findShortcut(d,f);if(p){p.remove();var y=this.registeredShortcuts.get(d);this.registeredShortcuts.set(d,y.filter(function(m){return m!==p}))}}},{key:"findShortcut",value:function(d,f){return(this.registeredShortcuts.get(d)||[]).find(function(p){return p.name===f})}}]),g}();h.displayName="Shortcuts";var v=new h;n.default=v,l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){l.exports=!e(18)&&!e(11)(function(){return Object.defineProperty(e(85)("div"),"a",{get:function(){return 7}}).a!=7})},function(l,b,e){var t=e(10),o=e(17),i=e(45),n=e(86),r=e(19).f;l.exports=function(c){var a=o.Symbol||(o.Symbol=i?{}:t.Symbol||{});c.charAt(0)=="_"||c in a||r(a,c,{value:n.f(c)})}},function(l,b,e){var t=e(26),o=e(28),i=e(70)(!1),n=e(87)("IE_PROTO");l.exports=function(r,c){var a,s=o(r),u=0,h=[];for(a in s)a!=n&&t(s,a)&&h.push(a);for(;c.length>u;)t(s,a=c[u++])&&(~i(h,a)||h.push(a));return h}},function(l,b,e){var t=e(19),o=e(12),i=e(46);l.exports=e(18)?Object.defineProperties:function(n,r){o(n);for(var c,a=i(r),s=a.length,u=0;s>u;)t.f(n,c=a[u++],r[c]);return n}},function(l,b,e){var t=e(28),o=e(49).f,i={}.toString,n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(r){return n&&i.call(r)=="[object Window]"?function(c){try{return o(c)}catch{return n.slice()}}(r):o(t(r))}},function(l,b,e){var t=e(18),o=e(46),i=e(71),n=e(63),r=e(20),c=e(62),a=Object.assign;l.exports=!a||e(11)(function(){var s={},u={},h=Symbol(),v="abcdefghijklmnopqrst";return s[h]=7,v.split("").forEach(function(g){u[g]=g}),a({},s)[h]!=7||Object.keys(a({},u)).join("")!=v})?function(s,u){for(var h=r(s),v=arguments.length,g=1,d=i.f,f=n.f;v>g;)for(var p,y=c(arguments[g++]),m=d?o(y).concat(d(y)):o(y),k=m.length,x=0;k>x;)p=m[x++],t&&!f.call(y,p)||(h[p]=y[p]);return h}:a},function(l,b){l.exports=Object.is||function(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}},function(l,b,e){var t=e(32),o=e(13),i=e(124),n=[].slice,r={},c=function(a,s,u){if(!(s in r)){for(var h=[],v=0;v<s;v++)h[v]="a["+v+"]";r[s]=Function("F,a","return new F("+h.join(",")+")")}return r[s](a,u)};l.exports=Function.bind||function(a){var s=t(this),u=n.call(arguments,1),h=function(){var v=u.concat(n.call(arguments));return this instanceof h?c(s,v.length,v):i(s,v,a)};return o(s.prototype)&&(h.prototype=s.prototype),h}},function(l,b){l.exports=function(e,t,o){var i=o===void 0;switch(t.length){case 0:return i?e():e.call(o);case 1:return i?e(t[0]):e.call(o,t[0]);case 2:return i?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},function(l,b,e){var t=e(10).parseInt,o=e(54).trim,i=e(91),n=/^[-+]?0[xX]/;l.exports=t(i+"08")!==8||t(i+"0x16")!==22?function(r,c){var a=o(String(r),3);return t(a,c>>>0||(n.test(a)?16:10))}:t},function(l,b,e){var t=e(10).parseFloat,o=e(54).trim;l.exports=1/t(e(91)+"-0")!=-1/0?function(i){var n=o(String(i),3),r=t(n);return r===0&&n.charAt(0)=="-"?-0:r}:t},function(l,b,e){var t=e(37);l.exports=function(o,i){if(typeof o!="number"&&t(o)!="Number")throw TypeError(i);return+o}},function(l,b,e){var t=e(13),o=Math.floor;l.exports=function(i){return!t(i)&&isFinite(i)&&o(i)===i}},function(l,b){l.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(l,b,e){var t=e(48),o=e(43),i=e(53),n={};e(27)(n,e(15)("iterator"),function(){return this}),l.exports=function(r,c,a){r.prototype=t(n,{next:o(1,a)}),i(r,c+" Iterator")}},function(l,b,e){var t=e(12);l.exports=function(o,i,n,r){try{return r?i(t(n)[0],n[1]):i(n)}catch(a){var c=o.return;throw c!==void 0&&t(c.call(o)),a}}},function(l,b,e){var t=e(282);l.exports=function(o,i){return new(t(o))(i)}},function(l,b,e){var t=e(32),o=e(20),i=e(62),n=e(16);l.exports=function(r,c,a,s,u){t(c);var h=o(r),v=i(h),g=n(h.length),d=u?g-1:0,f=u?-1:1;if(a<2)for(;;){if(d in v){s=v[d],d+=f;break}if(d+=f,u?d<0:g<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:g>d;d+=f)d in v&&(s=c(s,v[d],d,h));return s}},function(l,b,e){var t=e(20),o=e(47),i=e(16);l.exports=[].copyWithin||function(n,r){var c=t(this),a=i(c.length),s=o(n,a),u=o(r,a),h=arguments.length>2?arguments[2]:void 0,v=Math.min((h===void 0?a:o(h,a))-u,a-s),g=1;for(u<s&&s<u+v&&(g=-1,u+=v-1,s+=v-1);v-- >0;)u in c?c[s]=c[u]:delete c[s],s+=g,u+=g;return c}},function(l,b){l.exports=function(e,t){return{value:t,done:!!e}}},function(l,b,e){var t=e(106);e(0)({target:"RegExp",proto:!0,forced:t!==/./.exec},{exec:t})},function(l,b,e){e(18)&&/./g.flags!="g"&&e(19).f(RegExp.prototype,"flags",{configurable:!0,get:e(74)})},function(l,b,e){var t,o,i,n,r=e(45),c=e(10),a=e(31),s=e(64),u=e(0),h=e(13),v=e(32),g=e(57),d=e(77),f=e(65),p=e(108).set,y=e(302)(),m=e(139),k=e(303),x=e(78),E=e(140),I=c.TypeError,M=c.process,_=M&&M.versions,T=_&&_.v8||"",S=c.Promise,R=s(M)=="process",O=function(){},B=o=m.f,C=!!function(){try{var j=S.resolve(1),F=(j.constructor={})[e(15)("species")]=function(U){U(O,O)};return(R||typeof PromiseRejectionEvent=="function")&&j.then(O)instanceof F&&T.indexOf("6.6")!==0&&x.indexOf("Chrome/66")===-1}catch{}}(),w=function(j){var F;return!(!h(j)||typeof(F=j.then)!="function")&&F},L=function(j,F){if(!j._n){j._n=!0;var U=j._c;y(function(){for(var z=j._v,W=j._s==1,G=0,V=function(J){var ee,te,Y,q=W?J.ok:J.fail,ae=J.resolve,Q=J.reject,re=J.domain;try{q?(W||(j._h==2&&A(j),j._h=1),q===!0?ee=z:(re&&re.enter(),ee=q(z),re&&(re.exit(),Y=!0)),ee===J.promise?Q(I("Promise-chain cycle")):(te=w(ee))?te.call(ee,ae,Q):ae(ee)):Q(z)}catch(de){re&&!Y&&re.exit(),Q(de)}};U.length>G;)V(U[G++]);j._c=[],j._n=!1,F&&!j._h&&P(j)})}},P=function(j){p.call(c,function(){var F,U,z,W=j._v,G=N(j);if(G&&(F=k(function(){R?M.emit("unhandledRejection",W,j):(U=c.onunhandledrejection)?U({promise:j,reason:W}):(z=c.console)&&z.error&&z.error("Unhandled promise rejection",W)}),j._h=R||N(j)?2:1),j._a=void 0,G&&F.e)throw F.v})},N=function(j){return j._h!==1&&(j._a||j._c).length===0},A=function(j){p.call(c,function(){var F;R?M.emit("rejectionHandled",j):(F=c.onrejectionhandled)&&F({promise:j,reason:j._v})})},D=function(j){var F=this;F._d||(F._d=!0,(F=F._w||F)._v=j,F._s=2,F._a||(F._a=F._c.slice()),L(F,!0))},H=function(j){var F,U=this;if(!U._d){U._d=!0,U=U._w||U;try{if(U===j)throw I("Promise can't be resolved itself");(F=w(j))?y(function(){var z={_w:U,_d:!1};try{F.call(j,a(H,z,1),a(D,z,1))}catch(W){D.call(z,W)}}):(U._v=j,U._s=1,L(U,!1))}catch(z){D.call({_w:U,_d:!1},z)}}};C||(S=function(j){g(this,S,"Promise","_h"),v(j),t.call(this);try{j(a(H,this,1),a(D,this,1))}catch(F){D.call(this,F)}},(t=function(j){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(58)(S.prototype,{then:function(j,F){var U=B(f(this,S));return U.ok=typeof j!="function"||j,U.fail=typeof F=="function"&&F,U.domain=R?M.domain:void 0,this._c.push(U),this._a&&this._a.push(U),this._s&&L(this,!1),U.promise},catch:function(j){return this.then(void 0,j)}}),i=function(){var j=new t;this.promise=j,this.resolve=a(H,j,1),this.reject=a(D,j,1)},m.f=B=function(j){return j===S||j===n?new i(j):o(j)}),u(u.G+u.W+u.F*!C,{Promise:S}),e(53)(S,"Promise"),e(56)("Promise"),n=e(17).Promise,u(u.S+u.F*!C,"Promise",{reject:function(j){var F=B(this);return(0,F.reject)(j),F.promise}}),u(u.S+u.F*(r||!C),"Promise",{resolve:function(j){return E(r&&this===n?S:this,j)}}),u(u.S+u.F*!(C&&e(73)(function(j){S.all(j).catch(O)})),"Promise",{all:function(j){var F=this,U=B(F),z=U.resolve,W=U.reject,G=k(function(){var V=[],J=0,ee=1;d(j,!1,function(te){var Y=J++,q=!1;V.push(void 0),ee++,F.resolve(te).then(function(ae){q||(q=!0,V[Y]=ae,--ee||z(V))},W)}),--ee||z(V)});return G.e&&W(G.v),U.promise},race:function(j){var F=this,U=B(F),z=U.reject,W=k(function(){d(j,!1,function(G){F.resolve(G).then(U.resolve,z)})});return W.e&&z(W.v),U.promise}})},function(l,b,e){var t=e(32);function o(i){var n,r;this.promise=new i(function(c,a){if(n!==void 0||r!==void 0)throw TypeError("Bad Promise constructor");n=c,r=a}),this.resolve=t(n),this.reject=t(r)}l.exports.f=function(i){return new o(i)}},function(l,b,e){var t=e(12),o=e(13),i=e(139);l.exports=function(n,r){if(t(n),o(r)&&r.constructor===n)return r;var c=i.f(n);return(0,c.resolve)(r),c.promise}},function(l,b,e){var t=e(19).f,o=e(48),i=e(58),n=e(31),r=e(57),c=e(77),a=e(97),s=e(135),u=e(56),h=e(18),v=e(41).fastKey,g=e(52),d=h?"_s":"size",f=function(p,y){var m,k=v(y);if(k!=="F")return p._i[k];for(m=p._f;m;m=m.n)if(m.k==y)return m};l.exports={getConstructor:function(p,y,m,k){var x=p(function(E,I){r(E,x,y,"_i"),E._t=y,E._i=o(null),E._f=void 0,E._l=void 0,E[d]=0,I!=null&&c(I,m,E[k],E)});return i(x.prototype,{clear:function(){for(var E=g(this,y),I=E._i,M=E._f;M;M=M.n)M.r=!0,M.p&&(M.p=M.p.n=void 0),delete I[M.i];E._f=E._l=void 0,E[d]=0},delete:function(E){var I=g(this,y),M=f(I,E);if(M){var _=M.n,T=M.p;delete I._i[M.i],M.r=!0,T&&(T.n=_),_&&(_.p=T),I._f==M&&(I._f=_),I._l==M&&(I._l=T),I[d]--}return!!M},forEach:function(E){g(this,y);for(var I,M=n(E,arguments.length>1?arguments[1]:void 0,3);I=I?I.n:this._f;)for(M(I.v,I.k,this);I&&I.r;)I=I.p},has:function(E){return!!f(g(this,y),E)}}),h&&t(x.prototype,"size",{get:function(){return g(this,y)[d]}}),x},def:function(p,y,m){var k,x,E=f(p,y);return E?E.v=m:(p._l=E={i:x=v(y,!0),k:y,v:m,p:k=p._l,n:void 0,r:!1},p._f||(p._f=E),k&&(k.n=E),p[d]++,x!=="F"&&(p._i[x]=E)),p},getEntry:f,setStrong:function(p,y,m){a(p,y,function(k,x){this._t=g(k,y),this._k=x,this._l=void 0},function(){for(var k=this._k,x=this._l;x&&x.r;)x=x.p;return this._t&&(this._l=x=x?x.n:this._t._f)?s(0,k=="keys"?x.k:k=="values"?x.v:[x.k,x.v]):(this._t=void 0,s(1))},m?"entries":"values",!m,!0),u(y)}}},function(l,b,e){var t=e(58),o=e(41).getWeak,i=e(12),n=e(13),r=e(57),c=e(77),a=e(36),s=e(26),u=e(52),h=a(5),v=a(6),g=0,d=function(y){return y._l||(y._l=new f)},f=function(){this.a=[]},p=function(y,m){return h(y.a,function(k){return k[0]===m})};f.prototype={get:function(y){var m=p(this,y);if(m)return m[1]},has:function(y){return!!p(this,y)},set:function(y,m){var k=p(this,y);k?k[1]=m:this.a.push([y,m])},delete:function(y){var m=v(this.a,function(k){return k[0]===y});return~m&&this.a.splice(m,1),!!~m}},l.exports={getConstructor:function(y,m,k,x){var E=y(function(I,M){r(I,E,m,"_i"),I._t=m,I._i=g++,I._l=void 0,M!=null&&c(M,k,I[x],I)});return t(E.prototype,{delete:function(I){if(!n(I))return!1;var M=o(I);return M===!0?d(u(this,m)).delete(I):M&&s(M,this._i)&&delete M[this._i]},has:function(I){if(!n(I))return!1;var M=o(I);return M===!0?d(u(this,m)).has(I):M&&s(M,this._i)}}),E},def:function(y,m,k){var x=o(i(m),!0);return x===!0?d(y).set(m,k):x[y._i]=k,y},ufstore:d}},function(l,b,e){var t=e(33),o=e(16);l.exports=function(i){if(i===void 0)return 0;var n=t(i),r=o(n);if(n!==r)throw RangeError("Wrong length!");return r}},function(l,b,e){var t=e(49),o=e(71),i=e(12),n=e(10).Reflect;l.exports=n&&n.ownKeys||function(r){var c=t.f(i(r)),a=o.f;return a?c.concat(a(r)):c}},function(l,b,e){var t=e(16),o=e(93),i=e(38);l.exports=function(n,r,c,a){var s=String(i(n)),u=s.length,h=c===void 0?" ":String(c),v=t(r);if(v<=u||h=="")return s;var g=v-u,d=o.call(h,Math.ceil(g/h.length));return d.length>g&&(d=d.slice(0,g)),a?d+s:s+d}},function(l,b,e){var t=e(18),o=e(46),i=e(28),n=e(63).f;l.exports=function(r){return function(c){for(var a,s=i(c),u=o(s),h=u.length,v=0,g=[];h>v;)a=u[v++],t&&!n.call(s,a)||g.push(r?[a,s[a]]:s[a]);return g}}},function(l,b,e){var t=function(o){var i=Object.prototype,n=i.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},c=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(O,B,C,w){var L=B&&B.prototype instanceof g?B:g,P=Object.create(L.prototype),N=new T(w||[]);return P._invoke=function(A,D,H){var j="suspendedStart";return function(F,U){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(F==="throw")throw U;return R()}for(H.method=F,H.arg=U;;){var z=H.delegate;if(z){var W=I(z,H);if(W){if(W===v)continue;return W}}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(j==="suspendedStart")throw j="completed",H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);j="executing";var G=h(A,D,H);if(G.type==="normal"){if(j=H.done?"completed":"suspendedYield",G.arg===v)continue;return{value:G.arg,done:H.done}}G.type==="throw"&&(j="completed",H.method="throw",H.arg=G.arg)}}}(O,C,N),P}function h(O,B,C){try{return{type:"normal",arg:O.call(B,C)}}catch(w){return{type:"throw",arg:w}}}o.wrap=u;var v={};function g(){}function d(){}function f(){}var p={};p[c]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==i&&n.call(m,c)&&(p=m);var k=f.prototype=g.prototype=Object.create(p);function x(O){["next","throw","return"].forEach(function(B){O[B]=function(C){return this._invoke(B,C)}})}function E(O,B){var C;this._invoke=function(w,L){function P(){return new B(function(N,A){(function D(H,j,F,U){var z=h(O[H],O,j);if(z.type!=="throw"){var W=z.arg,G=W.value;return G&&typeof G=="object"&&n.call(G,"__await")?B.resolve(G.__await).then(function(V){D("next",V,F,U)},function(V){D("throw",V,F,U)}):B.resolve(G).then(function(V){W.value=V,F(W)},function(V){return D("throw",V,F,U)})}U(z.arg)})(w,L,N,A)})}return C=C?C.then(P,P):P()}}function I(O,B){var C=O.iterator[B.method];if(C===void 0){if(B.delegate=null,B.method==="throw"){if(O.iterator.return&&(B.method="return",B.arg=void 0,I(O,B),B.method==="throw"))return v;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var w=h(C,O.iterator,B.arg);if(w.type==="throw")return B.method="throw",B.arg=w.arg,B.delegate=null,v;var L=w.arg;return L?L.done?(B[O.resultName]=L.value,B.next=O.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,v):L:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,v)}function M(O){var B={tryLoc:O[0]};1 in O&&(B.catchLoc=O[1]),2 in O&&(B.finallyLoc=O[2],B.afterLoc=O[3]),this.tryEntries.push(B)}function _(O){var B=O.completion||{};B.type="normal",delete B.arg,O.completion=B}function T(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(M,this),this.reset(!0)}function S(O){if(O){var B=O[c];if(B)return B.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var C=-1,w=function L(){for(;++C<O.length;)if(n.call(O,C))return L.value=O[C],L.done=!1,L;return L.value=void 0,L.done=!0,L};return w.next=w}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype=k.constructor=f,f.constructor=d,f[s]=d.displayName="GeneratorFunction",o.isGeneratorFunction=function(O){var B=typeof O=="function"&&O.constructor;return!!B&&(B===d||(B.displayName||B.name)==="GeneratorFunction")},o.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,f):(O.__proto__=f,s in O||(O[s]="GeneratorFunction")),O.prototype=Object.create(k),O},o.awrap=function(O){return{__await:O}},x(E.prototype),E.prototype[a]=function(){return this},o.AsyncIterator=E,o.async=function(O,B,C,w,L){L===void 0&&(L=Promise);var P=new E(u(O,B,C,w),L);return o.isGeneratorFunction(B)?P:P.next().then(function(N){return N.done?N.value:P.next()})},x(k),k[s]="Generator",k[c]=function(){return this},k.toString=function(){return"[object Generator]"},o.keys=function(O){var B=[];for(var C in O)B.push(C);return B.reverse(),function w(){for(;B.length;){var L=B.pop();if(L in O)return w.value=L,w.done=!1,w}return w.done=!0,w}},o.values=S,T.prototype={constructor:T,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!O)for(var B in this)B.charAt(0)==="t"&&n.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var B=this;function C(D,H){return P.type="throw",P.arg=O,B.next=D,H&&(B.method="next",B.arg=void 0),!!H}for(var w=this.tryEntries.length-1;w>=0;--w){var L=this.tryEntries[w],P=L.completion;if(L.tryLoc==="root")return C("end");if(L.tryLoc<=this.prev){var N=n.call(L,"catchLoc"),A=n.call(L,"finallyLoc");if(N&&A){if(this.prev<L.catchLoc)return C(L.catchLoc,!0);if(this.prev<L.finallyLoc)return C(L.finallyLoc)}else if(N){if(this.prev<L.catchLoc)return C(L.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return C(L.finallyLoc)}}}},abrupt:function(O,B){for(var C=this.tryEntries.length-1;C>=0;--C){var w=this.tryEntries[C];if(w.tryLoc<=this.prev&&n.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var L=w;break}}L&&(O==="break"||O==="continue")&&L.tryLoc<=B&&B<=L.finallyLoc&&(L=null);var P=L?L.completion:{};return P.type=O,P.arg=B,L?(this.method="next",this.next=L.finallyLoc,v):this.complete(P)},complete:function(O,B){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&B&&(this.next=B),v},finish:function(O){for(var B=this.tryEntries.length-1;B>=0;--B){var C=this.tryEntries[B];if(C.finallyLoc===O)return this.complete(C.completion,C.afterLoc),_(C),v}},catch:function(O){for(var B=this.tryEntries.length-1;B>=0;--B){var C=this.tryEntries[B];if(C.tryLoc===O){var w=C.completion;if(w.type==="throw"){var L=w.arg;_(C)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(O,B,C){return this.delegate={iterator:S(O),resultName:B,nextLoc:C},this.method==="next"&&(this.arg=void 0),v}},o}(l.exports);try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}},function(l,b,e){var t=e(149);l.exports=function(o,i){if(o){if(typeof o=="string")return t(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);return n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set"?Array.from(n):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(o,i):void 0}}},function(l,b){l.exports=function(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}},function(l){l.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":"","Filter":"","Nothing found":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(l,b,e){var t,o,i;o=[b,e(2),e(5),e(6),e(4),e(153)],(i=typeof(t=function(n,r,c,a,s,u){var h=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalError=void 0,r=h(r),c=h(c),a=h(a),s=h(s);var g=function(d){(0,c.default)(y,d);var f,p=(f=y,function(){var m,k=(0,s.default)(f);if(v()){var x=(0,s.default)(this).constructor;m=Reflect.construct(k,arguments,x)}else m=k.apply(this,arguments);return(0,a.default)(this,m)});function y(){return(0,r.default)(this,y),p.apply(this,arguments)}return y}((0,(u=h(u)).default)(Error));n.CriticalError=g,g.displayName="CriticalError"})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b){l.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(l,b,e){var t=e(4),o=e(110),i=e(372),n=e(373);function r(c){var a=typeof Map=="function"?new Map:void 0;return l.exports=r=function(s){if(s===null||!i(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(s))return a.get(s);a.set(s,u)}function u(){return n(s,arguments,t(this).constructor)}return u.prototype=Object.create(s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o(u,s)},r(c)}l.exports=r},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(7),e(112),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g){var d=e(8),f=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=f(r),c=f(c),a=f(a),s=f(s),u=f(u),h=d(h),v=f(v);var y=function(m){(0,a.default)(E,m);var k,x=(k=E,function(){var I,M=(0,u.default)(k);if(p()){var _=(0,u.default)(this).constructor;I=Reflect.construct(M,arguments,_)}else I=M.apply(this,arguments);return(0,s.default)(this,I)});function E(){var I;return(0,r.default)(this,E),(I=x.apply(this,arguments)).insert=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I.config.defaultBlock,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>3?arguments[3]:void 0,S=arguments.length>4?arguments[4]:void 0,R=arguments.length>5?arguments[5]:void 0,O=I.Editor.BlockManager.insert({tool:M,data:_,index:T,needToFocus:S,replace:R});return new v.default(O)},I.update=function(M,_){var T=I.Editor.BlockManager,S=T.getBlockById(M);if(S){var R=T.getBlockIndex(S);T.insert({id:S.id,tool:S.name,data:_,index:R,replace:!0,tunes:S.tunes})}else h.log("blocks.update(): Block with passed id was not found","warn")},I}return(0,c.default)(E,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockIndex",value:function(I){var M=this.Editor.BlockManager.getBlockById(I);if(M)return this.Editor.BlockManager.getBlockIndex(M);h.logLabeled("There is no block with id `"+I+"`","warn")}},{key:"getBlockByIndex",value:function(I){var M=this.Editor.BlockManager.getBlockByIndex(I);if(M!==void 0)return new v.default(M);h.logLabeled("There is no block at index `"+I+"`","warn")}},{key:"getById",value:function(I){var M=this.Editor.BlockManager.getBlockById(I);return M===void 0?(h.logLabeled("There is no block with id `"+I+"`","warn"),null):new v.default(M)}},{key:"swap",value:function(I,M){h.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(I,M)}},{key:"move",value:function(I,M){this.Editor.BlockManager.move(I,M)}},{key:"delete",value:function(I){try{this.Editor.BlockManager.removeBlock(I)}catch(M){return void h.logLabeled(M,"warn")}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(I){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(I.blocks)}},{key:"renderFromHTML",value:function(I){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(I,!0)}},{key:"stretchBlock",value:function(I){var M=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];h.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var _=this.Editor.BlockManager.getBlockByIndex(I);_&&(_.stretched=M)}},{key:"insertNewBlock",value:function(){h.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var I=this;return{clear:function(){return I.clear()},render:function(M){return I.render(M)},renderFromHTML:function(M){return I.renderFromHTML(M)},delete:function(M){return I.delete(M)},swap:function(M,_){return I.swap(M,_)},move:function(M,_){return I.move(M,_)},getBlockByIndex:function(M){return I.getBlockByIndex(M)},getById:function(M){return I.getById(M)},getCurrentBlockIndex:function(){return I.getCurrentBlockIndex()},getBlockIndex:function(M){return I.getBlockIndex(M)},getBlocksCount:function(){return I.getBlocksCount()},stretchBlock:function(M){var _=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return I.stretchBlock(M,_)},insertNewBlock:function(){return I.insertNewBlock()},insert:this.insert,update:this.update}}}]),E}((g=f(g)).default);n.default=y,y.displayName="BlocksAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=v(u);var d=function(f){(0,a.default)(m,f);var p,y=(p=m,function(){var k,x=(0,u.default)(p);if(g()){var E=(0,u.default)(this).constructor;k=Reflect.construct(x,arguments,E)}else k=x.apply(this,arguments);return(0,s.default)(this,k)});function m(){var k;return(0,r.default)(this,m),(k=y.apply(this,arguments)).setToFirstBlock=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.Editor.Caret.positions.DEFAULT,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!k.Editor.BlockManager.firstBlock&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.firstBlock,x,E),!0)},k.setToLastBlock=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.Editor.Caret.positions.DEFAULT,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!k.Editor.BlockManager.lastBlock&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.lastBlock,x,E),!0)},k.setToPreviousBlock=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.Editor.Caret.positions.DEFAULT,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!k.Editor.BlockManager.previousBlock&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.previousBlock,x,E),!0)},k.setToNextBlock=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.Editor.Caret.positions.DEFAULT,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!k.Editor.BlockManager.nextBlock&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.nextBlock,x,E),!0)},k.setToBlock=function(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.Editor.Caret.positions.DEFAULT,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return!!k.Editor.BlockManager.blocks[x]&&(k.Editor.Caret.setToBlock(k.Editor.BlockManager.blocks[x],E,I),!0)},k.focus=function(){var x=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return x?k.setToLastBlock(k.Editor.Caret.positions.END):k.setToFirstBlock(k.Editor.Caret.positions.START)},k}return(0,c.default)(m,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),m}((h=v(h)).default);n.default=d,d.displayName="CaretAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=v(u);var d=function(f){(0,a.default)(m,f);var p,y=(p=m,function(){var k,x=(0,u.default)(p);if(g()){var E=(0,u.default)(this).constructor;k=Reflect.construct(x,arguments,E)}else k=x.apply(this,arguments);return(0,s.default)(this,k)});function m(){return(0,r.default)(this,m),y.apply(this,arguments)}return(0,c.default)(m,[{key:"on",value:function(k,x){this.eventsDispatcher.on(k,x)}},{key:"emit",value:function(k,x){this.eventsDispatcher.emit(k,x)}},{key:"off",value:function(k,x){this.eventsDispatcher.off(k,x)}},{key:"methods",get:function(){var k=this;return{emit:function(x,E){return k.emit(x,E)},off:function(x,E){return k.off(x,E)},on:function(x,E){return k.on(x,E)}}}}]),m}((h=v(h)).default);n.default=d,d.displayName="EventsAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(60),e(7),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g){var d=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=d(r),c=d(c),a=d(a),s=d(s),u=d(u),h=d(h);var p=function(y){(0,a.default)(x,y);var m,k=(m=x,function(){var E,I=(0,u.default)(m);if(f()){var M=(0,u.default)(this).constructor;E=Reflect.construct(I,arguments,M)}else E=I.apply(this,arguments);return(0,s.default)(this,E)});function x(){return(0,r.default)(this,x),k.apply(this,arguments)}return(0,c.default)(x,[{key:"getMethodsForTool",value:function(E){return Object.assign(this.methods,{t:function(I){return h.default.t(x.getNamespace(E),I)}})}},{key:"methods",get:function(){return{t:function(){(0,v.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}}],[{key:"getNamespace",value:function(E){return E.isTune()?"blockTunes.".concat(E.name):"tools.".concat(E.name)}}]),x}((g=d(g)).default);n.default=p,p.displayName="I18nAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=v(u);var d=function(f){(0,a.default)(m,f);var p,y=(p=m,function(){var k,x=(0,u.default)(p);if(g()){var E=(0,u.default)(this).constructor;k=Reflect.construct(x,arguments,E)}else k=x.apply(this,arguments);return(0,s.default)(this,k)});function m(){return(0,r.default)(this,m),y.apply(this,arguments)}return(0,c.default)(m,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var k=this;return{close:function(){return k.close()},open:function(){return k.open()}}}}]),m}((h=v(h)).default);n.default=d,d.displayName="InlineToolbarAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=v(u);var d=function(f){(0,a.default)(m,f);var p,y=(p=m,function(){var k,x=(0,u.default)(p);if(g()){var E=(0,u.default)(this).constructor;k=Reflect.construct(x,arguments,E)}else k=x.apply(this,arguments);return(0,s.default)(this,k)});function m(){return(0,r.default)(this,m),y.apply(this,arguments)}return(0,c.default)(m,[{key:"on",value:function(k,x,E,I){return this.listeners.on(k,x,E,I)}},{key:"off",value:function(k,x,E,I){this.listeners.off(k,x,E,I)}},{key:"offById",value:function(k){this.listeners.offById(k)}},{key:"methods",get:function(){var k=this;return{on:function(x,E,I,M){return k.on(x,E,I,M)},off:function(x,E,I,M){return k.off(x,E,I,M)},offById:function(x){return k.offById(x)}}}}]),m}((h=v(h)).default);n.default=d,d.displayName="ListenersAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(376),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(1);function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),c=g(c),a=g(a),s=g(s),u=g(u),h=g(h);var f=function(p){(0,a.default)(k,p);var y,m=(y=k,function(){var x,E=(0,u.default)(y);if(d()){var I=(0,u.default)(this).constructor;x=Reflect.construct(E,arguments,I)}else x=E.apply(this,arguments);return(0,s.default)(this,x)});function k(x){var E,I=x.config,M=x.eventsDispatcher;return(0,r.default)(this,k),(E=m.call(this,{config:I,eventsDispatcher:M})).notifier=new h.default,E}return(0,c.default)(k,[{key:"show",value:function(x){return this.notifier.show(x)}},{key:"methods",get:function(){var x=this;return{show:function(E){return x.show(E)}}}}]),k}((v=g(v)).default);n.default=f,f.displayName="NotifierAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=v(u);var d=function(f){(0,a.default)(m,f);var p,y=(p=m,function(){var k,x=(0,u.default)(p);if(g()){var E=(0,u.default)(this).constructor;k=Reflect.construct(x,arguments,E)}else k=x.apply(this,arguments);return(0,s.default)(this,k)});function m(){return(0,r.default)(this,m),y.apply(this,arguments)}return(0,c.default)(m,[{key:"toggle",value:function(k){return this.Editor.ReadOnly.toggle(k)}},{key:"methods",get:function(){var k=this;return{toggle:function(x){return k.toggle(x)},get isEnabled(){return k.isEnabled}}}},{key:"isEnabled",get:function(){return this.Editor.ReadOnly.isEnabled}}]),m}((h=v(h)).default);n.default=d,d.displayName="ReadOnlyAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9),e(66)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(1);function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),c=g(c),a=g(a),s=g(s),u=g(u);var f=function(p){(0,a.default)(k,p);var y,m=(y=k,function(){var x,E=(0,u.default)(y);if(d()){var I=(0,u.default)(this).constructor;x=Reflect.construct(E,arguments,I)}else x=E.apply(this,arguments);return(0,s.default)(this,x)});function k(){return(0,r.default)(this,k),m.apply(this,arguments)}return(0,c.default)(k,[{key:"clean",value:function(x,E){return(0,v.clean)(x,E)}},{key:"methods",get:function(){var x=this;return{clean:function(E,I){return x.clean(E,I)}}}}]),k}((h=g(h)).default);n.default=f,f.displayName="SanitizerAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(7),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(8),d=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=d(r),c=d(c),a=d(a),s=d(s),u=d(u),h=g(h);var p=function(y){(0,a.default)(x,y);var m,k=(m=x,function(){var E,I=(0,u.default)(m);if(f()){var M=(0,u.default)(this).constructor;E=Reflect.construct(I,arguments,M)}else E=I.apply(this,arguments);return(0,s.default)(this,E)});function x(){return(0,r.default)(this,x),k.apply(this,arguments)}return(0,c.default)(x,[{key:"save",value:function(){var E="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(h.logLabeled(E,"warn"),Promise.reject(new Error(E))):this.Editor.Saver.save()}},{key:"methods",get:function(){var E=this;return{save:function(){return E.save()}}}}]),x}((v=d(v)).default);n.default=p,p.displayName="SaverAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(25),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(1);function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),c=g(c),a=g(a),s=g(s),u=g(u),h=g(h);var f=function(p){(0,a.default)(k,p);var y,m=(y=k,function(){var x,E=(0,u.default)(y);if(d()){var I=(0,u.default)(this).constructor;x=Reflect.construct(E,arguments,I)}else x=E.apply(this,arguments);return(0,s.default)(this,x)});function k(){return(0,r.default)(this,k),m.apply(this,arguments)}return(0,c.default)(k,[{key:"findParentTag",value:function(x,E){return new h.default().findParentTag(x,E)}},{key:"expandToTag",value:function(x){new h.default().expandToTag(x)}},{key:"methods",get:function(){var x=this;return{findParentTag:function(E,I){return x.findParentTag(E,I)},expandToTag:function(E){return x.expandToTag(E)}}}}]),k}((v=g(v)).default);n.default=f,f.displayName="SelectionAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=v(u);var d=function(f){(0,a.default)(m,f);var p,y=(p=m,function(){var k,x=(0,u.default)(p);if(g()){var E=(0,u.default)(this).constructor;k=Reflect.construct(x,arguments,E)}else k=x.apply(this,arguments);return(0,s.default)(this,k)});function m(){return(0,r.default)(this,m),y.apply(this,arguments)}return(0,c.default)(m,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),m}((h=v(h)).default);n.default=d,d.displayName="StylesAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(8),d=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=d(r),c=d(c),a=d(a),s=d(s),u=d(u),h=d(h),v=g(v);var p=function(y){(0,a.default)(x,y);var m,k=(m=x,function(){var E,I=(0,u.default)(m);if(f()){var M=(0,u.default)(this).constructor;E=Reflect.construct(I,arguments,M)}else E=I.apply(this,arguments);return(0,s.default)(this,E)});function x(){return(0,r.default)(this,x),k.apply(this,arguments)}return(0,c.default)(x,[{key:"open",value:function(){this.Editor.Toolbar.moveAndOpen()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(E){this.Editor.BlockManager.currentBlockIndex!==-1?(E!=null?E:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close():v.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}},{key:"methods",get:function(){var E=this;return{close:function(){return E.close()},open:function(){return E.open()},toggleBlockSettings:function(I){return E.toggleBlockSettings(I)}}}}]),x}(h.default);n.default=p,p.displayName="ToolbarAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9),e(113)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(1);function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),c=g(c),a=g(a),s=g(s),u=g(u),h=g(h),v=g(v);var f=function(p){(0,a.default)(k,p);var y,m=(y=k,function(){var x,E=(0,u.default)(y);if(d()){var I=(0,u.default)(this).constructor;x=Reflect.construct(E,arguments,I)}else x=E.apply(this,arguments);return(0,s.default)(this,x)});function k(x){var E,I=x.config,M=x.eventsDispatcher;return(0,r.default)(this,k),(E=m.call(this,{config:I,eventsDispatcher:M})).tooltip=new v.default,E}return(0,c.default)(k,[{key:"destroy",value:function(){this.tooltip.destroy()}},{key:"show",value:function(x,E,I){this.tooltip.show(x,E,I)}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"onHover",value:function(x,E,I){this.tooltip.onHover(x,E,I)}},{key:"methods",get:function(){var x=this;return{show:function(E,I,M){return x.show(E,I,M)},hide:function(){return x.hide()},onHover:function(E,I,M){return x.onHover(E,I,M)}}}}]),k}(h.default);n.default=f,f.displayName="TooltipAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=v(u);var d=function(f){(0,a.default)(m,f);var p,y=(p=m,function(){var k,x=(0,u.default)(p);if(g()){var E=(0,u.default)(this).constructor;k=Reflect.construct(x,arguments,E)}else k=x.apply(this,arguments);return(0,s.default)(this,k)});function m(){return(0,r.default)(this,m),y.apply(this,arguments)}return(0,c.default)(m,[{key:"methods",get:function(){return{nodes:this.editorNodes}}},{key:"editorNodes",get:function(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}]),m}((h=v(h)).default);n.default=d,d.displayName="UiAPI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(25),e(61)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d){var f=e(8),p=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),c=p(c),a=p(a),s=p(s),u=p(u),h=p(h),v=f(v),g=p(g),d=p(d);var m=function(k){(0,a.default)(I,k);var x,E=(x=I,function(){var M,_=(0,u.default)(x);if(y()){var T=(0,u.default)(this).constructor;M=Reflect.construct(_,arguments,T)}else M=_.apply(this,arguments);return(0,s.default)(this,M)});function I(){return(0,r.default)(this,I),E.apply(this,arguments)}return(0,c.default)(I,[{key:"keydown",value:function(M){switch(this.beforeKeydownProcessing(M),M.keyCode){case v.keyCodes.BACKSPACE:this.backspace(M);break;case v.keyCodes.ENTER:this.enter(M);break;case v.keyCodes.DOWN:case v.keyCodes.RIGHT:this.arrowRightAndDown(M);break;case v.keyCodes.UP:case v.keyCodes.LEFT:this.arrowLeftAndUp(M);break;case v.keyCodes.TAB:this.tabPressed(M)}}},{key:"beforeKeydownProcessing",value:function(M){this.needToolbarClosing(M)&&v.isPrintableKey(M.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),M.ctrlKey||M.metaKey||M.altKey||M.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(M)))}},{key:"keyup",value:function(M){M.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(M){this.Editor.BlockSelection.clearSelection(M);var _=this.Editor,T=_.BlockManager,S=_.InlineToolbar,R=_.ConversionToolbar,O=T.currentBlock;if(O){var B=O.isEmpty,C=O.tool.isDefault&&B,w=!B&&R.opened,L=!B&&!g.default.isCollapsed&&S.opened;C?this.activateToolbox():w||L||this.activateBlockSettings()}}},{key:"dragOver",value:function(M){this.Editor.BlockManager.getBlockByChildNode(M.target).dropTarget=!0}},{key:"dragLeave",value:function(M){this.Editor.BlockManager.getBlockByChildNode(M.target).dropTarget=!1}},{key:"handleCommandC",value:function(M){var _=this.Editor.BlockSelection;_.anyBlockSelected&&_.copySelectedBlocks(M)}},{key:"handleCommandX",value:function(M){var _=this.Editor,T=_.BlockSelection,S=_.BlockManager,R=_.Caret;T.anyBlockSelected&&T.copySelectedBlocks(M).then(function(){var O=S.removeSelectedBlocks(),B=S.insertDefaultBlockAtIndex(O,!0);R.setToBlock(B,R.positions.START),T.clearSelection(M)})}},{key:"enter",value:function(M){var _=this.Editor,T=_.BlockManager,S=_.UI;if(!T.currentBlock.tool.isLineBreaksEnabled&&!(S.someToolbarOpened&&S.someFlipperButtonFocused||M.shiftKey)){var R=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):R=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(R),this.Editor.Toolbar.moveAndOpen(R),M.preventDefault()}}},{key:"backspace",value:function(M){var _=this.Editor,T=_.BlockManager,S=_.BlockSelection,R=_.Caret,O=T.currentBlock,B=O.tool;if(O.selected||O.isEmpty&&O.currentInput===O.firstInput){M.preventDefault();var C=T.currentBlockIndex;return T.previousBlock&&T.previousBlock.inputs.length===0?T.removeBlock(C-1):T.removeBlock(),R.setToBlock(T.currentBlock,C?R.positions.END:R.positions.START),this.Editor.Toolbar.close(),void S.clearSelection(M)}if(!B.isLineBreaksEnabled||R.isAtStart){var w=T.currentBlockIndex===0;R.isAtStart&&g.default.isCollapsed&&O.currentInput===O.firstInput&&!w&&(M.preventDefault(),this.mergeBlocks())}}},{key:"mergeBlocks",value:function(){var M=this.Editor,_=M.BlockManager,T=M.Caret,S=M.Toolbar,R=_.previousBlock,O=_.currentBlock;if(O.name!==R.name||!R.mergeable)return R.inputs.length===0||R.isEmpty?(_.removeBlock(_.currentBlockIndex-1),T.setToBlock(_.currentBlock),void S.close()):void(T.navigatePrevious()&&S.close());T.createShadow(R.pluginsContent),_.mergeBlocks(R,O).then(function(){T.restoreCaret(R.pluginsContent),R.pluginsContent.normalize(),S.close()})}},{key:"arrowRightAndDown",value:function(M){var _=this,T=d.default.usedKeys.includes(M.keyCode)&&(!M.shiftKey||M.keyCode===v.keyCodes.TAB);if(!this.Editor.UI.someToolbarOpened||!T){this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var S=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;M.shiftKey&&M.keyCode===v.keyCodes.DOWN&&S?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((M.keyCode===v.keyCodes.DOWN||M.keyCode===v.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?M.preventDefault():v.delay(function(){_.Editor.BlockManager.currentBlock&&_.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(M))}}},{key:"arrowLeftAndUp",value:function(M){var _=this;if(this.Editor.UI.someToolbarOpened){if(d.default.usedKeys.includes(M.keyCode)&&(!M.shiftKey||M.keyCode===v.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var T=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;M.shiftKey&&M.keyCode===v.keyCodes.UP&&T?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((M.keyCode===v.keyCodes.UP||M.keyCode===v.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?M.preventDefault():v.delay(function(){_.Editor.BlockManager.currentBlock&&_.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(M))}},{key:"needToolbarClosing",value:function(M){var _=M.keyCode===v.keyCodes.ENTER&&this.Editor.Toolbar.toolbox.opened,T=M.keyCode===v.keyCodes.ENTER&&this.Editor.BlockSettings.opened,S=M.keyCode===v.keyCodes.ENTER&&this.Editor.InlineToolbar.opened,R=M.keyCode===v.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened,O=M.keyCode===v.keyCodes.TAB;return!(M.shiftKey||O||_||T||S||R)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),I}(h.default);n.default=m,m.displayName="BlockEvents",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(67),e(9),e(14),e(7),e(382),e(112),e(383)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m,k){var x=e(8),E=e(1);function I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=E(r),c=E(c),a=E(a),s=E(s),u=E(u),h=E(h),v=E(v),g=x(g),d=E(d),f=E(f),p=x(p),y=E(y),m=E(m);var M=function(_){(0,u.default)(B,_);var T,S,R,O=(T=B,function(){var C,w=(0,v.default)(T);if(I()){var L=(0,v.default)(this).constructor;C=Reflect.construct(w,arguments,L)}else C=w.apply(this,arguments);return(0,h.default)(this,C)});function B(){var C;return(0,a.default)(this,B),(C=O.apply(this,arguments))._currentBlockIndex=-1,C._blocks=null,C}return(0,s.default)(B,[{key:"prepare",value:function(){var C=this,w=new y.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(w,{set:y.default.set,get:y.default.get}),this.listeners.on(document,"copy",function(L){return C.Editor.BlockEvents.handleCommandC(L)})}},{key:"toggleReadOnly",value:function(C){C?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(C){var w=C.tool,L=C.data,P=L===void 0?{}:L,N=C.id,A=N===void 0?void 0:N,D=C.tunes,H=D===void 0?{}:D,j=this.Editor.ReadOnly.isEnabled,F=this.Editor.Tools.blockTools.get(w),U=new g.default({id:A,data:P,tool:F,api:this.Editor.API,readOnly:j,tunesData:H});return j||this.bindBlockEvents(U),U}},{key:"insert",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=C.id,L=w===void 0?void 0:w,P=C.tool,N=P===void 0?this.config.defaultBlock:P,A=C.data,D=A===void 0?{}:A,H=C.index,j=C.needToFocus,F=j===void 0||j,U=C.replace,z=U!==void 0&&U,W=C.tunes,G=W===void 0?{}:W,V=H;V===void 0&&(V=this.currentBlockIndex+(z?0:1));var J=this.composeBlock({id:L,tool:N,data:D,tunes:G});return z&&this.blockDidMutated(k.BlockMutationType.Removed,this.getBlockByIndex(V),{index:V}),this._blocks.insert(V,J,z),this.blockDidMutated(k.BlockMutationType.Added,J,{index:V}),F?this.currentBlockIndex=V:V<=this.currentBlockIndex&&this.currentBlockIndex++,J}},{key:"replace",value:function(C){var w=C.tool,L=w===void 0?this.config.defaultBlock:w,P=C.data,N=P===void 0?{}:P;return this.insert({tool:L,data:N,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(C,w){var L=arguments.length>2&&arguments[2]!==void 0&&arguments[2],P=this.insert({tool:C,replace:L});try{P.call(g.BlockToolAPI.ON_PASTE,w)}catch(N){p.log("".concat(C,": onPaste callback call is failed"),"error",N)}return P}},{key:"insertDefaultBlockAtIndex",value:function(C){var w=arguments.length>1&&arguments[1]!==void 0&&arguments[1],L=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[C]=L,this.blockDidMutated(k.BlockMutationType.Added,L,{index:C}),w?this.currentBlockIndex=C:C<=this.currentBlockIndex&&this.currentBlockIndex++,L}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(R=(0,c.default)(r.default.mark(function C(w,L){var P,N;return r.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(P=this._blocks.indexOf(L),!L.isEmpty){A.next=3;break}return A.abrupt("return");case 3:return A.next=5,L.data;case 5:if(N=A.sent,p.isEmpty(N)){A.next=9;break}return A.next=9,w.mergeWith(N);case 9:this.removeBlock(P),this.currentBlockIndex=this._blocks.indexOf(w);case 11:case"end":return A.stop()}},C,this)})),function(C,w){return R.apply(this,arguments)})},{key:"removeBlock",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(C))throw new Error("Can't find a Block to remove");var w=this._blocks[C];w.destroy(),this._blocks.remove(C),this.blockDidMutated(k.BlockMutationType.Removed,w,{index:C}),this.currentBlockIndex>=C&&this.currentBlockIndex--,this.blocks.length?C===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var C,w=this.blocks.length-1;w>=0;w--)this.blocks[w].selected&&(this.removeBlock(w),C=w);return C}},{key:"removeAllBlocks",value:function(){for(var C=this.blocks.length-1;C>=0;C--)this._blocks.remove(C);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var C=this.Editor.Caret.extractFragmentFromCaretPosition(),w=f.default.make("div");w.appendChild(C);var L={text:f.default.isEmpty(w)?"":w.innerHTML};return this.insert({data:L})}},{key:"getBlockByIndex",value:function(C){return C===-1&&(C=this._blocks.length-1),this._blocks[C]}},{key:"getBlockIndex",value:function(C){return this._blocks.indexOf(C)}},{key:"getBlockById",value:function(C){return this._blocks.array.find(function(w){return w.id===C})}},{key:"getBlock",value:function(C){f.default.isElement(C)||(C=C.parentNode);var w=this._blocks.nodes,L=C.closest(".".concat(g.default.CSS.wrapper)),P=w.indexOf(L);if(P>=0)return this._blocks[P]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach(function(C){C.focused=!1})}},{key:"setCurrentBlockByChildNode",value:function(C){f.default.isElement(C)||(C=C.parentNode);var w=C.closest(".".concat(g.default.CSS.wrapper));if(w){var L=w.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(L!=null&&L.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(w),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(C){f.default.isElement(C)||(C=C.parentNode);var w=C.closest(".".concat(g.default.CSS.wrapper));return this.blocks.find(function(L){return L.holder===w})}},{key:"swap",value:function(C,w){this._blocks.swap(C,w),this.currentBlockIndex=w}},{key:"move",value:function(C){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.currentBlockIndex;isNaN(C)||isNaN(w)?p.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(C)&&this.validateIndex(w)?(this._blocks.move(C,w),this.currentBlockIndex=C,this.blockDidMutated(k.BlockMutationType.Moved,this.currentBlock,{fromIndex:w,toIndex:C})):p.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var C=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._blocks.removeAll(),this.dropPointer(),C&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(S=(0,c.default)(r.default.mark(function C(){return r.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Promise.all(this.blocks.map(function(L){return L.destroy()}));case 2:case"end":return w.stop()}},C,this)})),function(){return S.apply(this,arguments)})},{key:"bindBlockEvents",value:function(C){var w=this,L=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(C.holder,"keydown",function(P){L.keydown(P)}),this.readOnlyMutableListeners.on(C.holder,"keyup",function(P){L.keyup(P)}),this.readOnlyMutableListeners.on(C.holder,"dragover",function(P){L.dragOver(P)}),this.readOnlyMutableListeners.on(C.holder,"dragleave",function(P){L.dragLeave(P)}),C.on("didMutated",function(P){return w.blockDidMutated(k.BlockMutationType.Changed,P,{index:w.getBlockIndex(P)})})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var C=this;this.readOnlyMutableListeners.on(document,"cut",function(w){return C.Editor.BlockEvents.handleCommandX(w)}),this.blocks.forEach(function(w){C.bindBlockEvents(w)})}},{key:"validateIndex",value:function(C){return!(C<0||C>=this._blocks.length)}},{key:"blockDidMutated",value:function(C,w){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=new CustomEvent(C,{detail:Object.assign({target:new m.default(w)},L)});return this.Editor.ModificationsObserver.onChange(P),w}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(C){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[C]&&this._blocks[C].willSelect(),this._currentBlockIndex=C}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]},set:function(C){this.currentBlockIndex=this.getBlockIndex(C)}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find(function(C){return!!C.inputs.length})}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(function(C){return!!C.inputs.length})}},{key:"previousBlock",get:function(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every(function(C){return C.isEmpty})}}]),B}(d.default);n.default=M,M.displayName="BlockManager",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(14),e(115),e(25),e(66)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p){var y=e(8),m=e(1);function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=m(r),c=m(c),a=m(a),s=m(s),u=m(u),h=m(h),v=y(v),g=m(g),d=m(d),f=m(f);var x=function(E){(0,a.default)(_,E);var I,M=(I=_,function(){var T,S=(0,u.default)(I);if(k()){var R=(0,u.default)(this).constructor;T=Reflect.construct(S,arguments,R)}else T=S.apply(this,arguments);return(0,s.default)(this,T)});function _(){var T;return(0,r.default)(this,_),(T=M.apply(this,arguments)).anyBlockSelectedCache=null,T.needToSelectAll=!1,T.nativeInputSelected=!1,T.readyToBlockSelection=!1,T}return(0,c.default)(_,[{key:"prepare",value:function(){var T=this;this.selection=new f.default,d.default.add({name:"CMD+A",handler:function(S){var R=T.Editor,O=R.BlockManager;if(R.ReadOnly.isEnabled)return S.preventDefault(),void T.selectAllBlocks();O.currentBlock&&T.handleCommandA(S)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(T){f.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(T){var S=this.Editor.BlockManager;(isNaN(T)?S.currentBlock:S.getBlockByIndex(T)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0&&arguments[1],R=this.Editor,O=R.BlockManager,B=R.Caret,C=R.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var w=T&&T instanceof KeyboardEvent,L=w&&v.isPrintableKey(T.keyCode);if(this.anyBlockSelected&&w&&L&&!f.default.isSelectionExists){var P=O.removeSelectedBlocks();O.insertDefaultBlockAtIndex(P,!0),B.setToBlock(O.currentBlock),v.delay(function(){var N=T.key;B.insertContentAtCaretPosition(N.length>1?"":N)},20)()}this.Editor.CrossBlockSelection.clear(T),this.anyBlockSelected&&!C.isRectActivated()?(S&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(T){var S=this;T.preventDefault();var R=g.default.make("div");this.selectedBlocks.forEach(function(C){var w=(0,p.clean)(C.holder.innerHTML,S.sanitizerConfig),L=g.default.make("p");L.innerHTML=w,R.appendChild(L)});var O=Array.from(R.childNodes).map(function(C){return C.textContent}).join(`

`),B=R.innerHTML;return T.clipboardData.setData("text/plain",O),T.clipboardData.setData("text/html",B),Promise.all(this.selectedBlocks.map(function(C){return C.save()})).then(function(C){try{T.clipboardData.setData(S.Editor.Paste.MIME_TYPE,JSON.stringify(C))}catch{}})}},{key:"selectBlockByIndex",value:function(T){var S,R=this.Editor.BlockManager;R.clearFocused(),S=isNaN(T)?R.currentBlock:R.getBlockByIndex(T),this.selection.save(),f.default.get().removeAllRanges(),S.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){d.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(T){if(this.Editor.RectangleSelection.clearSelection(),!g.default.isNativeInput(T.target)||this.readyToBlockSelection){var S=this.Editor.BlockManager.getBlock(T.target).inputs;S.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:S.length!==1||this.needToSelectAll?this.needToSelectAll?(T.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(T.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),f.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every(function(T){return T.selected===!0})},set:function(T){this.Editor.BlockManager.blocks.forEach(function(S){S.selected=T}),this.clearCache()}},{key:"anyBlockSelected",get:function(){var T=this.Editor.BlockManager;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=T.blocks.some(function(S){return S.selected===!0})),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter(function(T){return T.selected})}}]),_}(h.default);n.default=x,x.displayName="BlockSelection",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(25),e(9),e(14),e(7)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d){var f=e(8),p=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),c=p(c),a=p(a),s=p(s),u=p(u),h=p(h),v=p(v),g=p(g),d=f(d);var m=function(k){(0,a.default)(I,k);var x,E=(x=I,function(){var M,_=(0,u.default)(x);if(y()){var T=(0,u.default)(this).constructor;M=Reflect.construct(_,arguments,T)}else M=_.apply(this,arguments);return(0,s.default)(this,M)});function I(){return(0,r.default)(this,I),E.apply(this,arguments)}return(0,c.default)(I,[{key:"setToBlock",value:function(M){var _,T=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,O=this.Editor.BlockManager;switch(S){case this.positions.START:_=M.firstInput;break;case this.positions.END:_=M.lastInput;break;default:_=M.currentInput}if(_){var B=g.default.getDeepestNode(_,S===this.positions.END),C=g.default.getContentLength(B);switch(!0){case S===this.positions.START:R=0;break;case S===this.positions.END:case R>C:R=C}d.delay(function(){T.set(B,R)},20)(),O.setCurrentBlockByChildNode(M.holder),O.currentBlock.currentInput=_}}},{key:"setToInput",value:function(M){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=this.Editor.BlockManager.currentBlock,R=g.default.getDeepestNode(M);switch(_){case this.positions.START:this.set(R,0);break;case this.positions.END:this.set(R,g.default.getContentLength(R));break;default:T&&this.set(R,T)}S.currentInput=M}},{key:"set",value:function(M){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=h.default.setCursor(M,_),S=T.top,R=T.bottom,O=window,B=O.innerHeight;S<0&&window.scrollBy(0,S),R>B&&window.scrollBy(0,R-B)}},{key:"setToTheLastBlock",value:function(){var M=this.Editor.BlockManager.lastBlock;if(M)if(M.tool.isDefault&&M.isEmpty)this.setToBlock(M);else{var _=this.Editor.BlockManager.insertAtEnd();this.setToBlock(_)}}},{key:"extractFragmentFromCaretPosition",value:function(){var M=h.default.get();if(M.rangeCount){var _=M.getRangeAt(0),T=this.Editor.BlockManager.currentBlock.currentInput;if(_.deleteContents(),T){if(g.default.isNativeInput(T)){var S=T,R=document.createDocumentFragment(),O=S.value.substring(0,S.selectionStart),B=S.value.substring(S.selectionStart);return R.textContent=B,S.value=O,R}var C=_.cloneRange();return C.selectNodeContents(T),C.setStart(_.endContainer,_.endOffset),C.extractContents()}}}},{key:"navigateNext",value:function(){var M=this.Editor.BlockManager,_=M.currentBlock,T=M.nextContentfulBlock,S=_.nextInput,R=this.isAtEnd,O=T;if(!O&&!S){if(_.tool.isDefault||!R)return!1;O=M.insertAtEnd()}return!!R&&(S?this.setToInput(S,this.positions.START):this.setToBlock(O,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var M=this.Editor.BlockManager,_=M.currentBlock,T=M.previousContentfulBlock;if(!_)return!1;var S=_.previousInput;return!(!T&&!S||!this.isAtStart||(S?this.setToInput(S,this.positions.END):this.setToBlock(T,this.positions.END),0))}},{key:"createShadow",value:function(M){var _=document.createElement("span");_.classList.add(I.CSS.shadowCaret),M.insertAdjacentElement("beforeend",_)}},{key:"restoreCaret",value:function(M){var _=M.querySelector(".".concat(I.CSS.shadowCaret));_&&(new h.default().expandToTag(_),setTimeout(function(){var T=document.createRange();T.selectNode(_),T.extractContents()},50))}},{key:"insertContentAtCaretPosition",value:function(M){var _=document.createDocumentFragment(),T=document.createElement("div"),S=h.default.get(),R=h.default.range;T.innerHTML=M,Array.from(T.childNodes).forEach(function(C){return _.appendChild(C)}),_.childNodes.length===0&&_.appendChild(new Text);var O=_.lastChild;R.deleteContents(),R.insertNode(_);var B=document.createRange();B.setStart(O,O.textContent.length),S.removeAllRanges(),S.addRange(B)}},{key:"getHigherLevelSiblings",value:function(M,_){for(var T=M,S=[];T.parentNode&&T.parentNode.contentEditable!=="true";)T=T.parentNode;for(var R=_==="left"?"previousSibling":"nextSibling";T[R];)T=T[R],S.push(T);return S}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var M=h.default.get(),_=g.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),T=M.focusNode;if(g.default.isNativeInput(_))return _.selectionEnd===0;if(!M.anchorNode)return!1;var S=T.textContent.search(/\S/);S===-1&&(S=0);var R=M.focusOffset;return T.nodeType!==Node.TEXT_NODE&&T.childNodes.length&&(T.childNodes[R]?(T=T.childNodes[R],R=0):R=(T=T.childNodes[R-1]).textContent.length),!(!g.default.isLineBreakTag(_)&&!g.default.isEmpty(_)||!this.getHigherLevelSiblings(T,"left").every(function(O){var B=g.default.isLineBreakTag(O),C=O.children.length===1&&g.default.isLineBreakTag(O.children[0]),w=B||C;return g.default.isEmpty(O)&&!w})||R!==S)||_===null||T===_&&R<=S}},{key:"isAtEnd",get:function(){var M=h.default.get(),_=M.focusNode,T=g.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(g.default.isNativeInput(T))return T.selectionEnd===T.value.length;if(!M.focusNode)return!1;var S=M.focusOffset;if(_.nodeType!==Node.TEXT_NODE&&_.childNodes.length&&(_.childNodes[S-1]?S=(_=_.childNodes[S-1]).textContent.length:(_=_.childNodes[0],S=0)),g.default.isLineBreakTag(T)||g.default.isEmpty(T)){var R=this.getHigherLevelSiblings(_,"right");if(R.every(function(B,C){return C===R.length-1&&g.default.isLineBreakTag(B)||g.default.isEmpty(B)&&!g.default.isLineBreakTag(B)})&&S===_.textContent.length)return!0}var O=T.textContent.replace(/\s+$/,"");return _===T&&S>=O.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),I}(v.default);n.default=m,m.displayName="Caret",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(25),e(7)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f){var p=e(8),y=e(1);function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=y(r),c=y(c),a=y(a),s=y(s),u=y(u),h=y(h),v=y(v),g=y(g),d=y(d),f=p(f);var k=function(x){(0,u.default)(_,x);var E,I,M=(E=_,function(){var T,S=(0,v.default)(E);if(m()){var R=(0,v.default)(this).constructor;T=Reflect.construct(S,arguments,R)}else T=S.apply(this,arguments);return(0,h.default)(this,T)});function _(){var T;return(0,a.default)(this,_),(T=M.apply(this,arguments)).onMouseUp=function(){T.listeners.off(document,"mouseover",T.onMouseOver),T.listeners.off(document,"mouseup",T.onMouseUp)},T.onMouseOver=function(S){var R=T.Editor,O=R.BlockManager,B=R.BlockSelection,C=O.getBlockByChildNode(S.relatedTarget)||T.lastSelectedBlock,w=O.getBlockByChildNode(S.target);if(C&&w&&w!==C){if(C===T.firstSelectedBlock)return d.default.get().removeAllRanges(),C.selected=!0,w.selected=!0,void B.clearCache();if(w===T.firstSelectedBlock)return C.selected=!1,w.selected=!1,void B.clearCache();T.Editor.InlineToolbar.close(),T.toggleBlocksSelectedState(C,w),T.lastSelectedBlock=w}},T}return(0,s.default)(_,[{key:"prepare",value:(I=(0,c.default)(r.default.mark(function T(){var S=this;return r.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:this.listeners.on(document,"mousedown",function(O){S.enableCrossBlockSelection(O)});case 1:case"end":return R.stop()}},T,this)})),function(){return I.apply(this,arguments)})},{key:"watchSelection",value:function(T){if(T.button===f.mouseButtons.LEFT){var S=this.Editor.BlockManager;this.firstSelectedBlock=S.getBlock(T.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}}},{key:"toggleBlockSelectedState",value:function(){var T=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],S=this.Editor,R=S.BlockManager,O=S.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=R.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,O.clearCache(),d.default.get().removeAllRanges());var B=R.blocks.indexOf(this.lastSelectedBlock)+(T?1:-1),C=R.blocks[B];C&&(this.lastSelectedBlock.selected!==C.selected?(C.selected=!0,O.clearCache()):(this.lastSelectedBlock.selected=!1,O.clearCache()),this.lastSelectedBlock=C,this.Editor.InlineToolbar.close(),C.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(T){var S=this.Editor,R=S.BlockManager,O=S.BlockSelection,B=S.Caret,C=R.blocks.indexOf(this.firstSelectedBlock),w=R.blocks.indexOf(this.lastSelectedBlock);if(O.anyBlockSelected&&C>-1&&w>-1)if(T&&T instanceof KeyboardEvent)switch(T.keyCode){case f.keyCodes.DOWN:case f.keyCodes.RIGHT:B.setToBlock(R.blocks[Math.max(C,w)],B.positions.END);break;case f.keyCodes.UP:case f.keyCodes.LEFT:B.setToBlock(R.blocks[Math.min(C,w)],B.positions.START);break;default:B.setToBlock(R.blocks[Math.max(C,w)],B.positions.END)}else B.setToBlock(R.blocks[Math.max(C,w)],B.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(T){var S=this.Editor.UI;d.default.isCollapsed||this.Editor.BlockSelection.clearSelection(T),S.nodes.redactor.contains(T.target)?this.watchSelection(T):this.Editor.BlockSelection.clearSelection(T)}},{key:"toggleBlocksSelectedState",value:function(T,S){for(var R=this.Editor,O=R.BlockManager,B=R.BlockSelection,C=O.blocks.indexOf(T),w=O.blocks.indexOf(S),L=T.selected!==S.selected,P=Math.min(C,w);P<=Math.max(C,w);P++){var N=O.blocks[P];N!==this.firstSelectedBlock&&N!==(L?T:S)&&(O.blocks[P].selected=!O.blocks[P].selected,B.clearCache())}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}}]),_}(g.default);n.default=k,k.displayName="CrossBlockSelection",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(25),e(9)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d){var f=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=f(r),c=f(c),a=f(a),s=f(s),u=f(u),h=f(h),v=f(v),g=f(g);var y=function(m){(0,u.default)(I,m);var k,x,E=(k=I,function(){var M,_=(0,v.default)(k);if(p()){var T=(0,v.default)(this).constructor;M=Reflect.construct(_,arguments,T)}else M=_.apply(this,arguments);return(0,h.default)(this,M)});function I(){var M;return(0,a.default)(this,I),(M=E.apply(this,arguments)).isStartedAtEditor=!1,M}return(0,s.default)(I,[{key:"toggleReadOnly",value:function(M){M?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var M=this,_=this.Editor.UI;this.readOnlyMutableListeners.on(_.nodes.holder,"drop",function(){var T=(0,c.default)(r.default.mark(function S(R){return r.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,M.processDrop(R);case 2:case"end":return O.stop()}},S)}));return function(S){return T.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(_.nodes.holder,"dragstart",function(){M.processDragStart()}),this.readOnlyMutableListeners.on(_.nodes.holder,"dragover",function(T){M.processDragOver(T)},!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(x=(0,c.default)(r.default.mark(function M(_){var T,S,R,O,B,C;return r.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return T=this.Editor,S=T.BlockManager,R=T.Caret,O=T.Paste,_.preventDefault(),S.blocks.forEach(function(L){L.dropTarget=!1}),g.default.isAtEditor&&!g.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(B=S.setCurrentBlockByChildNode(_.target))?this.Editor.Caret.setToBlock(B,R.positions.END):(C=S.setCurrentBlockByChildNode(S.lastBlock.holder),this.Editor.Caret.setToBlock(C,R.positions.END)),w.next=9,O.processDataTransfer(_.dataTransfer,!0);case 9:case"end":return w.stop()}},M,this)})),function(M){return x.apply(this,arguments)})},{key:"processDragStart",value:function(){g.default.isAtEditor&&!g.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(M){M.preventDefault()}}]),I}((d=f(d)).default);n.default=y,y.displayName="DragNDrop",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(8),d=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=d(r),c=d(c),a=d(a),s=d(s),u=d(u),h=d(h),v=g(v);var p=function(y){(0,a.default)(x,y);var m,k=(m=x,function(){var E,I=(0,u.default)(m);if(f()){var M=(0,u.default)(this).constructor;E=Reflect.construct(I,arguments,M)}else E=I.apply(this,arguments);return(0,s.default)(this,E)});function x(){var E;return(0,r.default)(this,x),(E=k.apply(this,arguments)).disabled=!1,E}return(0,c.default)(x,[{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"onChange",value:function(E){!this.disabled&&v.isFunction(this.config.onChange)&&this.config.onChange(this.Editor.API.methods,E)}}]),x}(h.default);n.default=p,p.displayName="ModificationsObserver",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(42),e(30),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(7),e(66)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m){var k=e(8),x=e(1);function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=x(r),c=x(c),a=x(a),s=x(s),u=x(u),h=x(h),v=x(v),g=x(g),d=x(d),f=x(f),p=x(p),y=k(y);var I=function(M){(0,v.default)(N,M);var _,T,S,R,O,B,C,w,L,P=(_=N,function(){var A,D=(0,d.default)(_);if(E()){var H=(0,d.default)(this).constructor;A=Reflect.construct(D,arguments,H)}else A=D.apply(this,arguments);return(0,g.default)(this,A)});function N(){var A;return(0,u.default)(this,N),(A=P.apply(this,arguments)).MIME_TYPE="application/x-editor-js",A.toolsTags={},A.tagsByTool={},A.toolsPatterns=[],A.toolsFiles={},A.exceptionList=[],A.processTool=function(D){try{var H=D.create({},{},!1);if(D.pasteConfig===!1)return void A.exceptionList.push(D.name);if(!y.isFunction(H.onPaste))return;A.getTagsConfig(D),A.getFilesConfig(D),A.getPatternsConfig(D)}catch(j){y.log("Paste handling for \xAB".concat(D.name,"\xBB Tool hasn't been set up because of the error"),"warn",j)}},A.handlePasteEvent=function(){var D=(0,s.default)(a.default.mark(function H(j){var F,U,z;return a.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(F=A.Editor,U=F.BlockManager,z=F.Toolbar,U.currentBlock&&(!A.isNativeBehaviour(j.target)||j.clipboardData.types.includes("Files"))){W.next=3;break}return W.abrupt("return");case 3:if(!U.currentBlock||!A.exceptionList.includes(U.currentBlock.name)){W.next=5;break}return W.abrupt("return");case 5:j.preventDefault(),A.processDataTransfer(j.clipboardData),U.clearFocused(),z.close();case 9:case"end":return W.stop()}},H)}));return function(H){return D.apply(this,arguments)}}(),A}return(0,h.default)(N,[{key:"prepare",value:(L=(0,s.default)(a.default.mark(function A(){return a.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:this.processTools();case 1:case"end":return D.stop()}},A,this)})),function(){return L.apply(this,arguments)})},{key:"toggleReadOnly",value:function(A){A?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(w=(0,s.default)(a.default.mark(function A(D){var H,j,F,U,z,W,G,V,J,ee=arguments;return a.default.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(H=ee.length>1&&ee[1]!==void 0&&ee[1],j=this.Editor.Tools,!((F=D.types).includes?F.includes("Files"):F.contains("Files"))){te.next=8;break}return te.next=7,this.processFiles(D.files);case 7:return te.abrupt("return");case 8:if(U=D.getData(this.MIME_TYPE),z=D.getData("text/plain"),W=D.getData("text/html"),!U){te.next=19;break}return te.prev=12,this.insertEditorJSData(JSON.parse(U)),te.abrupt("return");case 17:te.prev=17,te.t0=te.catch(12);case 19:if(H&&z.trim()&&W.trim()&&(W="<p>"+(W.trim()?W:z)+"</p>"),G=Object.keys(this.toolsTags).reduce(function(Y,q){return Y[q.toLowerCase()]=!0,Y},{}),V=Object.assign({},G,j.getAllInlineToolsSanitizeConfig(),{br:{}}),(J=(0,m.clean)(W,V)).trim()&&J.trim()!==z&&p.default.isHTMLString(J)){te.next=28;break}return te.next=26,this.processText(z);case 26:te.next=30;break;case 28:return te.next=30,this.processText(J,!0);case 30:case"end":return te.stop()}},A,this,[[12,17]])})),function(A){return w.apply(this,arguments)})},{key:"processText",value:(C=(0,s.default)(a.default.mark(function A(D){var H,j,F,U,z,W,G,V=this,J=arguments;return a.default.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(H=J.length>1&&J[1]!==void 0&&J[1],j=this.Editor,F=j.Caret,U=j.BlockManager,(z=H?this.processHTML(D):this.processPlain(D)).length){ee.next=5;break}return ee.abrupt("return");case 5:if(z.length!==1){ee.next=8;break}return z[0].isBlock?this.processSingleBlock(z.pop()):this.processInlinePaste(z.pop()),ee.abrupt("return");case 8:W=U.currentBlock&&U.currentBlock.tool.isDefault,G=W&&U.currentBlock.isEmpty,z.map(function(){var te=(0,s.default)(a.default.mark(function Y(q,ae){return a.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",V.insertBlock(q,ae===0&&G));case 1:case"end":return Q.stop()}},Y)}));return function(Y,q){return te.apply(this,arguments)}}()),U.currentBlock&&F.setToBlock(U.currentBlock,F.positions.END);case 12:case"end":return ee.stop()}},A,this)})),function(A){return C.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){var A=this.Editor.Tools.blockTools;Array.from(A.values()).forEach(this.processTool)}},{key:"getTagsConfig",value:function(A){var D=this,H=A.pasteConfig.tags||[];H.forEach(function(j){Object.prototype.hasOwnProperty.call(D.toolsTags,j)?y.log("Paste handler for \xAB".concat(A.name,"\xBB Tool on \xAB").concat(j,"\xBB tag is skipped ")+"because it is already used by \xAB".concat(D.toolsTags[j].tool.name,"\xBB Tool."),"warn"):D.toolsTags[j.toUpperCase()]={tool:A}}),this.tagsByTool[A.name]=H.map(function(j){return j.toUpperCase()})}},{key:"getFilesConfig",value:function(A){var D=A.pasteConfig.files,H=D===void 0?{}:D,j=H.extensions,F=H.mimeTypes;(j||F)&&(j&&!Array.isArray(j)&&(y.log("\xABextensions\xBB property of the onDrop config for \xAB".concat(A.name,"\xBB Tool should be an array")),j=[]),F&&!Array.isArray(F)&&(y.log("\xABmimeTypes\xBB property of the onDrop config for \xAB".concat(A.name,"\xBB Tool should be an array")),F=[]),F&&(F=F.filter(function(U){return!!y.isValidMimeType(U)||(y.log("MIME type value \xAB".concat(U,"\xBB for the \xAB").concat(A.name,"\xBB Tool is not a valid MIME type"),"warn"),!1)})),this.toolsFiles[A.name]={extensions:j||[],mimeTypes:F||[]})}},{key:"getPatternsConfig",value:function(A){var D=this;A.pasteConfig.patterns&&!y.isEmpty(A.pasteConfig.patterns)&&Object.entries(A.pasteConfig.patterns).forEach(function(H){var j=(0,c.default)(H,2),F=j[0],U=j[1];U instanceof RegExp||y.log("Pattern ".concat(U," for \xAB").concat(A.name,"\xBB Tool is skipped because it should be a Regexp instance."),"warn"),D.toolsPatterns.push({key:F,pattern:U,tool:A})})}},{key:"isNativeBehaviour",value:function(A){return p.default.isNativeInput(A)}},{key:"processFiles",value:(B=(0,s.default)(a.default.mark(function A(D){var H,j,F,U,z=this;return a.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return H=this.Editor.BlockManager,W.next=3,Promise.all(Array.from(D).map(function(G){return z.processFile(G)}));case 3:j=(j=W.sent).filter(function(G){return!!G}),F=H.currentBlock.tool.isDefault,U=F&&H.currentBlock.isEmpty,j.forEach(function(G,V){H.paste(G.type,G.event,V===0&&U)});case 8:case"end":return W.stop()}},A,this)})),function(A){return B.apply(this,arguments)})},{key:"processFile",value:(O=(0,s.default)(a.default.mark(function A(D){var H,j,F,U,z;return a.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(H=y.getFileExtension(D),j=Object.entries(this.toolsFiles).find(function(G){var V=(0,c.default)(G,2),J=(V[0],V[1]),ee=J.mimeTypes,te=J.extensions,Y=D.type.split("/"),q=(0,c.default)(Y,2),ae=q[0],Q=q[1],re=te.find(function(pe){return pe.toLowerCase()===H.toLowerCase()}),de=ee.find(function(pe){var ue=pe.split("/"),ve=(0,c.default)(ue,2),ge=ve[0],ce=ve[1];return ge===ae&&(ce===Q||ce==="*")});return!!re||!!de})){W.next=4;break}return W.abrupt("return");case 4:return F=(0,c.default)(j,1),U=F[0],z=this.composePasteEvent("file",{file:D}),W.abrupt("return",{event:z,type:U});case 7:case"end":return W.stop()}},A,this)})),function(A){return O.apply(this,arguments)})},{key:"processHTML",value:function(A){var D=this,H=this.Editor.Tools,j=p.default.make("DIV");return j.innerHTML=A,this.getNodes(j).map(function(F){var U,z=H.defaultTool,W=!1;switch(F.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(U=p.default.make("div")).appendChild(F);break;case Node.ELEMENT_NODE:U=F,W=!0,D.toolsTags[U.tagName]&&(z=D.toolsTags[U.tagName].tool)}var G=z.pasteConfig.tags.reduce(function(ee,te){return ee[te.toLowerCase()]={},ee},{}),V=Object.assign({},G,z.baseSanitizeConfig);U.innerHTML=(0,m.clean)(U.innerHTML,V);var J=D.composePasteEvent("tag",{data:U});return{content:U,isBlock:W,tool:z.name,event:J}}).filter(function(F){return!p.default.isNodeEmpty(F.content)||p.default.isSingleTag(F.content)})}},{key:"processPlain",value:function(A){var D=this,H=this.config.defaultBlock;if(!A)return[];var j=H;return A.split(/\r?\n/).filter(function(F){return F.trim()}).map(function(F){var U=p.default.make("div");U.textContent=F;var z=D.composePasteEvent("tag",{data:U});return{content:U,tool:j,isBlock:!1,event:z}})}},{key:"processSingleBlock",value:(R=(0,s.default)(a.default.mark(function A(D){var H,j,F,U;return a.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(H=this.Editor,j=H.Caret,F=H.BlockManager,(U=F.currentBlock)&&D.tool===U.name&&p.default.containsOnlyInlineElements(D.content.innerHTML)){z.next=5;break}return this.insertBlock(D,(U==null?void 0:U.tool.isDefault)&&U.isEmpty),z.abrupt("return");case 5:j.insertContentAtCaretPosition(D.content.innerHTML);case 6:case"end":return z.stop()}},A,this)})),function(A){return R.apply(this,arguments)})},{key:"processInlinePaste",value:(S=(0,s.default)(a.default.mark(function A(D){var H,j,F,U,z,W,G,V;return a.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(H=this.Editor,j=H.BlockManager,F=H.Caret,U=D.content,!(j.currentBlock&&j.currentBlock.tool.isDefault&&U.textContent.length<N.PATTERN_PROCESSING_MAX_LENGTH)){J.next=12;break}return J.next=6,this.processPattern(U.textContent);case 6:if(!(z=J.sent)){J.next=12;break}return W=j.currentBlock&&j.currentBlock.tool.isDefault&&j.currentBlock.isEmpty,G=j.paste(z.tool,z.event,W),F.setToBlock(G,F.positions.END),J.abrupt("return");case 12:j.currentBlock&&j.currentBlock.currentInput?(V=j.currentBlock.tool.baseSanitizeConfig,document.execCommand("insertHTML",!1,(0,m.clean)(U.innerHTML,V))):this.insertBlock(D);case 13:case"end":return J.stop()}},A,this)})),function(A){return S.apply(this,arguments)})},{key:"processPattern",value:(T=(0,s.default)(a.default.mark(function A(D){var H,j;return a.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(H=this.toolsPatterns.find(function(U){var z=U.pattern.exec(D);return!!z&&D===z.shift()})){F.next=3;break}return F.abrupt("return");case 3:return j=this.composePasteEvent("pattern",{key:H.key,data:D}),F.abrupt("return",{event:j,tool:H.tool.name});case 5:case"end":return F.stop()}},A,this)})),function(A){return T.apply(this,arguments)})},{key:"insertBlock",value:function(A){var D,H=arguments.length>1&&arguments[1]!==void 0&&arguments[1],j=this.Editor,F=j.BlockManager,U=j.Caret,z=F.currentBlock;if(H&&z&&z.isEmpty)return D=F.paste(A.tool,A.event,!0),void U.setToBlock(D,U.positions.END);D=F.paste(A.tool,A.event),U.setToBlock(D,U.positions.END)}},{key:"insertEditorJSData",value:function(A){var D=this.Editor,H=D.BlockManager,j=D.Caret,F=D.Tools;(0,m.sanitizeBlocks)(A,function(U){return F.blockTools.get(U).sanitizeConfig}).forEach(function(U,z){var W=U.tool,G=U.data,V=!1;z===0&&(V=H.currentBlock&&H.currentBlock.tool.isDefault&&H.currentBlock.isEmpty);var J=H.insert({tool:W,data:G,replace:V});j.setToBlock(J,j.positions.END)})}},{key:"processElementNode",value:function(A,D,H){var j=Object.keys(this.toolsTags),F=A,U=(this.toolsTags[F.tagName]||{}).tool,z=this.tagsByTool[U==null?void 0:U.name]||[],W=j.includes(F.tagName),G=p.default.blockElements.includes(F.tagName.toLowerCase()),V=Array.from(F.children).some(function(ee){var te=ee.tagName;return j.includes(te)&&!z.includes(te)}),J=Array.from(F.children).some(function(ee){var te=ee.tagName;return p.default.blockElements.includes(te.toLowerCase())});return G||W||V?W&&!V||G&&!J&&!V?[].concat((0,r.default)(D),[H,F]):void 0:(H.appendChild(F),[].concat((0,r.default)(D),[H]))}},{key:"getNodes",value:function(A){var D,H=this;return Array.from(A.childNodes).reduce(function j(F,U){if(p.default.isEmpty(U)&&!p.default.isSingleTag(U))return F;var z=F[F.length-1],W=new DocumentFragment;switch(z&&p.default.isFragment(z)&&(W=F.pop()),U.nodeType){case Node.ELEMENT_NODE:if(D=H.processElementNode(U,F,W))return D;break;case Node.TEXT_NODE:return W.appendChild(U),[].concat((0,r.default)(F),[W]);default:return[].concat((0,r.default)(F),[W])}return[].concat((0,r.default)(F),(0,r.default)(Array.from(U.childNodes).reduce(j,[])))},[])}},{key:"composePasteEvent",value:function(A,D){return new CustomEvent(A,{detail:D})}}]),N}(f.default);n.default=I,I.displayName="Paste",I.PATTERN_PROCESSING_MAX_LENGTH=450,l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(23),e(30),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(151)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f){var p=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),c=p(c),a=p(a),s=p(s),u=p(u),h=p(h),v=p(v),g=p(g);var m=function(k){(0,h.default)(_,k);var x,E,I,M=(x=_,function(){var T,S=(0,g.default)(x);if(y()){var R=(0,g.default)(this).constructor;T=Reflect.construct(S,arguments,R)}else T=S.apply(this,arguments);return(0,v.default)(this,T)});function _(){var T;return(0,s.default)(this,_),(T=M.apply(this,arguments)).toolsDontSupportReadOnly=[],T.readOnlyEnabled=!1,T}return(0,u.default)(_,[{key:"prepare",value:(I=(0,a.default)(r.default.mark(function T(){var S,R,O;return r.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:S=this.Editor.Tools,R=S.blockTools,O=[],Array.from(R.entries()).forEach(function(C){var w=(0,c.default)(C,2),L=w[0];w[1].isReadOnlySupported||O.push(L)}),this.toolsDontSupportReadOnly=O,this.config.readOnly&&O.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return B.stop()}},T,this)})),function(){return I.apply(this,arguments)})},{key:"toggle",value:(E=(0,a.default)(r.default.mark(function T(){var S,R,O,B,C=arguments;return r.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:(S=C.length>0&&C[0]!==void 0?C[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),R=this.readOnlyEnabled,this.readOnlyEnabled=S,w.t0=r.default.keys(this.Editor);case 5:if((w.t1=w.t0()).done){w.next=12;break}if(O=w.t1.value,this.Editor[O].toggleReadOnly){w.next=9;break}return w.abrupt("continue",5);case 9:this.Editor[O].toggleReadOnly(S),w.next=5;break;case 12:if(R!==S){w.next=14;break}return w.abrupt("return",this.readOnlyEnabled);case 14:return w.next=16,this.Editor.Saver.save();case 16:return B=w.sent,w.next=19,this.Editor.BlockManager.clear();case 19:return w.next=21,this.Editor.Renderer.render(B.blocks);case 21:return w.abrupt("return",this.readOnlyEnabled);case 22:case"end":return w.stop()}},T,this)})),function(){return E.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new f.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return this.readOnlyEnabled}}]),_}((d=p(d)).default);n.default=m,m.displayName="ReadOnly",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(25),e(67),e(7)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f){var p=e(8),y=e(1);function m(I){if(typeof Symbol=="undefined"||I[Symbol.iterator]==null){if(Array.isArray(I)||(I=function(B,C){if(B){if(typeof B=="string")return k(B,C);var w=Object.prototype.toString.call(B).slice(8,-1);return w==="Object"&&B.constructor&&(w=B.constructor.name),w==="Map"||w==="Set"?Array.from(w):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?k(B,C):void 0}}(I))){var M=0,_=function(){};return{s:_,n:function(){return M>=I.length?{done:!0}:{done:!1,value:I[M++]}},e:function(B){throw B},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,S,R=!0,O=!1;return{s:function(){T=I[Symbol.iterator]()},n:function(){var B=T.next();return R=B.done,B},e:function(B){O=!0,S=B},f:function(){try{R||T.return==null||T.return()}finally{if(O)throw S}}}}function k(I,M){(M==null||M>I.length)&&(M=I.length);for(var _=0,T=new Array(M);_<M;_++)T[_]=I[_];return T}function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=y(r),c=y(c),a=y(a),s=y(s),u=y(u),h=y(h),v=y(v),g=y(g),d=y(d),f=p(f);var E=function(I){(0,a.default)(T,I);var M,_=(M=T,function(){var S,R=(0,u.default)(M);if(x()){var O=(0,u.default)(this).constructor;S=Reflect.construct(R,arguments,O)}else S=R.apply(this,arguments);return(0,s.default)(this,S)});function T(){var S;return(0,r.default)(this,T),(S=_.apply(this,arguments)).isRectSelectionActivated=!1,S.SCROLL_SPEED=3,S.HEIGHT_OF_SCROLL_ZONE=40,S.BOTTOM_SCROLL_ZONE=1,S.TOP_SCROLL_ZONE=2,S.MAIN_MOUSE_BUTTON=0,S.mousedown=!1,S.isScrolling=!1,S.inScrollZone=null,S.startX=0,S.startY=0,S.mouseX=0,S.mouseY=0,S.stackOfSelected=[],S.listenerIds=[],S}return(0,c.default)(T,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(S,R){var O=document.elementFromPoint(S-window.pageXOffset,R-window.pageYOffset);O.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var B=[".".concat(d.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],C=O.closest("."+this.Editor.UI.CSS.editorWrapper),w=B.some(function(L){return!!O.closest(L)});C&&!w&&(this.mousedown=!0,this.startX=S,this.startY=R)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var S=this,R=this.genHTML().container;this.listeners.on(R,"mousedown",function(O){S.processMouseDown(O)},!1),this.listeners.on(document.body,"mousemove",f.throttle(function(O){S.processMouseMove(O)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",function(){S.processMouseLeave()}),this.listeners.on(window,"scroll",f.throttle(function(O){S.processScroll(O)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",function(){S.processMouseUp()},!1)}},{key:"processMouseDown",value:function(S){S.button===this.MAIN_MOUSE_BUTTON&&(S.target.closest(v.default.allInputsSelector)!==null||this.startSelection(S.pageX,S.pageY))}},{key:"processMouseMove",value:function(S){this.changingRectangle(S),this.scrollByZones(S.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(S){this.changingRectangle(S)}},{key:"processMouseUp",value:function(){this.clearSelection(),this.endSelection()}},{key:"scrollByZones",value:function(S){this.inScrollZone=null,S<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-S<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var S=this.Editor.UI,R=S.nodes.holder.querySelector("."+S.CSS.editorWrapper),O=v.default.make("div",T.CSS.overlay,{}),B=v.default.make("div",T.CSS.overlayContainer,{}),C=v.default.make("div",T.CSS.rect,{});return B.appendChild(C),O.appendChild(B),R.appendChild(O),this.overlayRectangle=C,{container:R,overlay:O}}},{key:"scrollVertical",value:function(S){var R=this;if(this.inScrollZone&&this.mousedown){var O=window.pageYOffset;window.scrollBy(0,S),this.mouseY+=window.pageYOffset-O,setTimeout(function(){R.scrollVertical(S)},0)}}},{key:"changingRectangle",value:function(S){if(this.mousedown){S.pageY!==void 0&&(this.mouseX=S.pageX,this.mouseY=S.pageY);var R=this.genInfoForMouseSelection(),O=R.rightPos,B=R.leftPos,C=R.index,w=this.startX>O&&this.mouseX>O,L=this.startX<B&&this.mouseX<B;this.rectCrossesBlocks=!(w||L),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),C!==void 0&&(this.trySelectNextBlock(C),this.inverseSelection(),g.default.get().removeAllRanges())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var S=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!S){var R,O=m(this.stackOfSelected);try{for(O.s();!(R=O.n()).done;){var B=R.value;this.Editor.BlockSelection.selectBlockByIndex(B)}}catch(P){O.e(P)}finally{O.f()}}if(!this.rectCrossesBlocks&&S){var C,w=m(this.stackOfSelected);try{for(w.s();!(C=w.n()).done;){var L=C.value;this.Editor.BlockSelection.unSelectBlockByIndex(L)}}catch(P){w.e(P)}finally{w.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var S,R=document.body.offsetWidth/2,O=this.mouseY-window.pageYOffset,B=document.elementFromPoint(R,O),C=this.Editor.BlockManager.getBlockByChildNode(B);C!==void 0&&(S=this.Editor.BlockManager.blocks.findIndex(function(P){return P.holder===C.holder}));var w=this.Editor.BlockManager.lastBlock.holder.querySelector("."+d.default.CSS.content),L=Number.parseInt(window.getComputedStyle(w).width,10)/2;return{index:S,leftPos:R-L,rightPos:R+L}}},{key:"addBlockInSelection",value:function(S){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(S),this.stackOfSelected.push(S)}},{key:"trySelectNextBlock",value:function(S){var R=this,O=this.stackOfSelected[this.stackOfSelected.length-1]===S,B=this.stackOfSelected.length;if(!O){var C=this.stackOfSelected[B-1]-this.stackOfSelected[B-2]>0,w=0;B>1&&(w=C?1:-1);var L=S>this.stackOfSelected[B-1]&&w===1,P=S<this.stackOfSelected[B-1]&&w===-1,N=!(L||P||w===0);if(N||!(S>this.stackOfSelected[B-1]||this.stackOfSelected[B-1]===void 0)){if(!N&&S<this.stackOfSelected[B-1])for(var A=this.stackOfSelected[B-1]-1;A>=S;A--)this.addBlockInSelection(A);else if(N){var D,H=B-1;for(D=S>this.stackOfSelected[B-1]?function(){return S>R.stackOfSelected[H]}:function(){return S<R.stackOfSelected[H]};D();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[H]),this.stackOfSelected.pop(),H--}}else for(var j=this.stackOfSelected[B-1]+1||S;j<=S;j++)this.addBlockInSelection(j)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),T}(h.default);n.default=E,E.displayName="RectangleSelection",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d){var f=e(8),p=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),c=p(c),a=p(a),s=p(s),u=p(u),h=p(h),v=p(v),g=p(g),d=f(d);var m=function(k){(0,u.default)(_,k);var x,E,I,M=(x=_,function(){var T,S=(0,v.default)(x);if(y()){var R=(0,v.default)(this).constructor;T=Reflect.construct(S,arguments,R)}else T=S.apply(this,arguments);return(0,h.default)(this,T)});function _(){return(0,a.default)(this,_),M.apply(this,arguments)}return(0,s.default)(_,[{key:"render",value:(I=(0,c.default)(r.default.mark(function T(S){var R,O,B=this;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return R=S.map(function(w){return{function:function(){return B.insertBlock(w)}}}),this.Editor.ModificationsObserver.disable(),C.next=4,d.sequence(R);case 4:return O=C.sent,this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),C.abrupt("return",O);case 8:case"end":return C.stop()}},T,this)})),function(T){return I.apply(this,arguments)})},{key:"insertBlock",value:(E=(0,c.default)(r.default.mark(function T(S){var R,O,B,C,w,L,P,N,A;return r.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(R=this.Editor,O=R.Tools,B=R.BlockManager,C=S.type,w=S.data,L=S.tunes,P=S.id,!O.available.has(C)){D.next=13;break}D.prev=3,B.insert({id:P,tool:C,data:w,tunes:L}),D.next=11;break;case 7:throw D.prev=7,D.t0=D.catch(3),d.log("Block \xAB".concat(C,"\xBB skipped because of plugins error"),"warn",w),Error(D.t0);case 11:D.next=18;break;case 13:N={savedData:{id:P,type:C,data:w},title:C},O.unavailable.has(C)&&(A=O.unavailable.get(C).toolbox,N.title=(A==null?void 0:A.title)||N.title),B.insert({id:P,tool:O.stubTool,data:N}).stretched=!0,d.log("Tool \xAB".concat(C,"\xBB is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return D.stop()}},T,this,[[3,7]])})),function(T){return E.apply(this,arguments)})}]),_}(g.default);n.default=m,m.displayName="Renderer",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(66)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f){var p=e(8),y=e(1);function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=y(r),c=y(c),a=y(a),s=y(s),u=y(u),h=y(h),v=y(v),g=y(g),d=p(d);var k=function(x){(0,u.default)(T,x);var E,I,M,_=(E=T,function(){var S,R=(0,v.default)(E);if(m()){var O=(0,v.default)(this).constructor;S=Reflect.construct(R,arguments,O)}else S=R.apply(this,arguments);return(0,h.default)(this,S)});function T(){return(0,a.default)(this,T),_.apply(this,arguments)}return(0,s.default)(T,[{key:"save",value:(M=(0,c.default)(r.default.mark(function S(){var R,O,B,C,w,L,P,N=this;return r.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return R=this.Editor,O=R.BlockManager,B=R.Tools,C=O.blocks,w=[],A.prev=2,C.forEach(function(D){w.push(N.getSavedData(D))}),A.next=6,Promise.all(w);case 6:return L=A.sent,A.next=9,(0,f.sanitizeBlocks)(L,function(D){return B.blockTools.get(D).sanitizeConfig});case 9:return P=A.sent,A.abrupt("return",this.makeOutput(P));case 13:A.prev=13,A.t0=A.catch(2),d.logLabeled("Saving failed due to the Error %o","error",A.t0);case 16:case"end":return A.stop()}},S,this,[[2,13]])})),function(){return M.apply(this,arguments)})},{key:"getSavedData",value:(I=(0,c.default)(r.default.mark(function S(R){var O,B;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,R.save();case 2:if(O=C.sent,C.t0=O,!C.t0){C.next=8;break}return C.next=7,R.validate(O.data);case 7:C.t0=C.sent;case 8:return B=C.t0,C.abrupt("return",Object.assign(Object.assign({},O),{isValid:B}));case 10:case"end":return C.stop()}},S)})),function(S){return I.apply(this,arguments)})},{key:"makeOutput",value:function(S){var R=this,O=0,B=[];return d.log("[Editor.js saving]:","groupCollapsed"),S.forEach(function(C){var w=C.id,L=C.tool,P=C.data,N=C.tunes,A=C.time,D=C.isValid;if(O+=A,d.log("".concat(L.charAt(0).toUpperCase()+L.slice(1)),"group"),!D)return d.log("Block \xAB".concat(L,"\xBB skipped because saved data is invalid")),void d.log(void 0,"groupEnd");if(d.log(P),d.log(void 0,"groupEnd"),L!==R.Editor.Tools.stubTool){var H=Object.assign({id:w,type:L,data:P},!d.isEmpty(N)&&{tunes:N});B.push(H)}else B.push(P)}),d.log("Total","log",O),d.log(void 0,"groupEnd"),{time:+new Date,blocks:B,version:"2.24.3"}}}]),T}(g.default);n.default=k,k.displayName="Saver",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(61),e(7),e(25)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p){var y=e(8),m=e(1);function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=m(r),c=m(c),a=m(a),s=m(s),u=m(u),h=m(h),v=m(v),g=m(g),d=m(d),f=y(f),p=m(p);var x=function(E){(0,s.default)(_,E);var I,M=(I=_,function(){var T,S=(0,h.default)(I);if(k()){var R=(0,h.default)(this).constructor;T=Reflect.construct(S,arguments,R)}else T=S.apply(this,arguments);return(0,u.default)(this,T)});function _(){var T;return(0,c.default)(this,_),(T=M.apply(this,arguments)).buttons=[],T.flipper=null,T.selection=new p.default,T}return(0,a.default)(_,[{key:"make",value:function(){this.nodes.wrapper=g.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=g.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=g.default.make("div",this.CSS.defaultSettings),g.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"open",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.Editor.BlockManager.currentBlock;this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.selection.save(),T.selected=!0,this.Editor.BlockSelection.clearCache(),this.addToolSettings(T),this.addTunes(T),this.eventsDispatcher.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),p.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.eventsDispatcher.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(T){var S=T.renderSettings();S&&g.default.append(this.nodes.toolSettings,S)}},{key:"addTunes",value:function(T){var S=T.renderTunes(),R=(0,r.default)(S,2),O=R[0],B=R[1];g.default.append(this.nodes.toolSettings,O),g.default.append(this.nodes.defaultSettings,B)}},{key:"enableFlipper",value:function(){var T=this;this.flipper=new d.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(S){S&&g.default.canSetCaret(S)?T.close():f.delay(function(){T.Editor.Caret.setToBlock(T.Editor.BlockManager.currentBlock)},50)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var T=this,S=this.Editor.StylesAPI;if(this.buttons.length!==0)return this.buttons;var R=this.nodes.toolSettings.querySelectorAll(".".concat(S.classes.settingsButton,", ").concat(g.default.allInputsSelector)),O=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return R.forEach(function(B){T.buttons.push(B)}),O.forEach(function(B){T.buttons.push(B)}),this.buttons}}]),_}(v.default);n.default=x,x.displayName="BlockSettings",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(30),e(23),e(24),e(42),e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(7),e(61),e(60),e(84),e(66)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m,k,x,E){var I=e(8),M=e(1);function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=M(r),c=M(c),a=M(a),s=M(s),u=M(u),h=M(h),v=M(v),g=M(g),d=M(d),f=M(f),p=M(p),y=I(y),m=M(m),k=M(k);var T=function(S){(0,v.default)(C,S);var R,O,B=(R=C,function(){var w,L=(0,d.default)(R);if(_()){var P=(0,d.default)(this).constructor;w=Reflect.construct(L,arguments,P)}else w=L.apply(this,arguments);return(0,g.default)(this,w)});function C(){var w;return(0,u.default)(this,C),(w=B.apply(this,arguments)).opened=!1,w.tools={},w.flipper=null,w.togglingCallback=null,w}return(0,h.default)(C,[{key:"make",value:function(){this.nodes.wrapper=p.default.make("div",[C.CSS.conversionToolbarWrapper].concat((0,s.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=p.default.make("div",C.CSS.conversionToolbarTools);var w=p.default.make("div",C.CSS.conversionToolbarLabel,{textContent:k.default.ui(x.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),p.default.append(this.nodes.wrapper,w),p.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(w){this.opened?this.close():this.open(),y.isFunction(w)&&(this.togglingCallback=w)}},{key:"open",value:function(){var w=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(C.CSS.conversionToolbarShowed),setTimeout(function(){w.flipper.activate(Object.values(w.tools).filter(function(L){return!L.classList.contains(C.CSS.conversionToolHidden)})),w.flipper.focusFirst(),y.isFunction(w.togglingCallback)&&w.togglingCallback(!0)},50)}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(C.CSS.conversionToolbarShowed),y.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){var w=Object.keys(this.tools);return!(w.length===1&&w.shift()===this.config.defaultBlock)}},{key:"replaceWithBlock",value:(O=(0,a.default)(c.default.mark(function w(L){var P,N,A,D,H,j,F,U,z,W,G=this;return c.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return P=this.Editor.BlockManager.currentBlock.tool,N=this.Editor.BlockManager.currentBlock.name,V.next=4,this.Editor.BlockManager.currentBlock.save();case 4:if(A=V.sent,D=A.data,N===L&&(L=this.config.defaultBlock),H=this.Editor.Tools.blockTools.get(L),j="",F=P.conversionConfig.export,!y.isFunction(F)){V.next=14;break}j=F(D),V.next=20;break;case 14:if(!y.isString(F)){V.next=18;break}j=D[F],V.next=20;break;case 18:return y.log("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),V.abrupt("return");case 20:if(U=(0,E.clean)(j,H.sanitizeConfig),z={},W=H.conversionConfig.import,!y.isFunction(W)){V.next=27;break}z=W(U),V.next=33;break;case 27:if(!y.isString(W)){V.next=31;break}z[W]=U,V.next=33;break;case 31:return y.log("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),V.abrupt("return");case 33:this.Editor.BlockManager.replace({tool:L,data:z}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),y.delay(function(){G.Editor.Caret.setToBlock(G.Editor.BlockManager.currentBlock)},10)();case 38:case"end":return V.stop()}},w,this)})),function(w){return O.apply(this,arguments)})},{key:"addTools",value:function(){var w=this,L=this.Editor.Tools.blockTools;Array.from(L.entries()).forEach(function(P){var N=(0,r.default)(P,2),A=N[0],D=N[1],H=D.toolbox,j=D.conversionConfig;!y.isEmpty(H)&&H.icon&&j&&j.import&&w.addTool(A,H.icon,H.title)})}},{key:"addTool",value:function(w,L,P){var N=this,A=p.default.make("div",[C.CSS.conversionTool]),D=p.default.make("div",[C.CSS.conversionToolIcon]);A.dataset.tool=w,D.innerHTML=L,p.default.append(A,D),p.default.append(A,p.default.text(k.default.t(x.I18nInternalNS.toolNames,P||y.capitalize(w)))),p.default.append(this.nodes.tools,A),this.tools[w]=A,this.listeners.on(A,"click",(0,a.default)(c.default.mark(function H(){return c.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,N.replaceWithBlock(w);case 2:case"end":return j.stop()}},H)})))}},{key:"filterTools",value:function(){var w=this.Editor.BlockManager.currentBlock;Object.entries(this.tools).forEach(function(L){var P=(0,r.default)(L,2),N=P[0],A=P[1];A.hidden=!1,A.classList.toggle(C.CSS.conversionToolHidden,N===w.name)})}},{key:"enableFlipper",value:function(){this.flipper=new m.default({focusedItemClass:C.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),C}(f.default);n.default=T,T.displayName="ConversionToolbar",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(42),e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(14),e(25),e(7),e(61),e(60),e(84),e(115),e(113),e(68)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m,k,x,E,I){var M=e(8),_=e(1);function T(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=_(r),c=_(c),a=_(a),s=_(s),u=_(u),h=_(h),v=_(v),g=_(g),d=_(d),f=_(f),p=M(p),y=_(y),m=_(m),x=_(x),E=_(E);var S=function(R){(0,u.default)(C,R);var O,B=(O=C,function(){var w,L=(0,v.default)(O);if(T()){var P=(0,v.default)(this).constructor;w=Reflect.construct(L,arguments,P)}else w=L.apply(this,arguments);return(0,h.default)(this,w)});function C(w){var L,P=w.config,N=w.eventsDispatcher;return(0,a.default)(this,C),(L=B.call(this,{config:P,eventsDispatcher:N})).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},L.opened=!1,L.toolbarVerticalMargin=5,L.buttonsList=null,L.width=0,L.flipper=null,L.tooltip=new E.default,L}return(0,s.default)(C,[{key:"toggleReadOnly",value:function(w){w?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var w=arguments.length>0&&arguments[0]!==void 0&&arguments[0],L=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.allowedToShow()?(this.move(),this.open(L),this.Editor.Toolbar.close()):w&&this.close()}},{key:"move",value:function(){var w=f.default.rect,L=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),P={x:w.x-L.left,y:w.y+w.height-L.top+this.toolbarVerticalMargin};w.width&&(P.x+=Math.floor(w.width/2));var N=P.x-this.width/2,A=P.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,N<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,A>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(P.x)+"px",this.nodes.wrapper.style.top=Math.floor(P.y)+"px"}},{key:"close",value:function(){var w=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(function(L){var P=(0,c.default)(L,2),N=P[0],A=P[1],D=w.getToolShortcut(N);D&&x.default.remove(w.Editor.UI.nodes.redactor,D),p.isFunction(A.clear)&&A.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,w&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var L=Array.from(this.buttonsList);L.unshift(this.nodes.conversionToggler),L=L.filter(function(P){return!P.hidden}),this.flipper.activate(L)}}},{key:"containsNode",value:function(w){return this.nodes.wrapper.contains(w)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}},{key:"make",value:function(){var w=this;this.nodes.wrapper=d.default.make("div",[this.CSS.inlineToolbar].concat((0,r.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=d.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=d.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=d.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",function(L){L.target.closest(".".concat(w.CSS.actionsWrapper))||L.preventDefault()}),d.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),d.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),d.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var w=f.default.get(),L=f.default.text;if(!w||!w.anchorNode||w.isCollapsed||L.length<1)return!1;var P=d.default.isElement(w.anchorNode)?w.anchorNode:w.anchorNode.parentElement;if(w&&["IMG","INPUT"].includes(P.tagName)||P.closest('[contenteditable="true"]')===null)return!1;var N=this.Editor.BlockManager.getBlock(w.anchorNode);return!!N&&N.tool.inlineTools.size!==0}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var w=this;this.nodes.conversionToggler=d.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=d.default.make("div",this.CSS.conversionTogglerContent);var L=d.default.svg("toggler-down",13,13);this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(L),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",function(){w.Editor.ConversionToolbar.toggle(function(P){!P&&w.opened?w.flipper.activate():w.opened&&w.flipper.deactivate()})}),this.tooltip.onHover(this.nodes.conversionToggler,m.default.ui(k.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:function(){var w=this.Editor.BlockManager.currentBlock,L=w.name,P=w.tool.conversionConfig,N=P&&P.export;this.nodes.conversionToggler.hidden=!N,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!N);var A=w.tool.toolbox||{};this.nodes.conversionTogglerContent.innerHTML=A.icon||A.title||p.capitalize(L)}},{key:"prepareConversionToolbar",value:function(){var w=this.Editor.ConversionToolbar.make();d.default.append(this.nodes.wrapper,w)}},{key:"addToolsFiltered",value:function(){var w=this,L=f.default.get(),P=this.Editor.BlockManager.getBlock(L.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(P.tool.inlineTools.values()).forEach(function(N){w.addTool(N)}),this.recalculateWidth()}},{key:"addTool",value:function(w){var L=this,P=w.create(),N=P.render();if(N){if(N.dataset.tool=w.name,this.nodes.buttons.appendChild(N),this.toolsInstances.set(w.name,P),p.isFunction(P.renderActions)){var A=P.renderActions();this.nodes.actions.appendChild(A)}this.listeners.on(N,"click",function(F){L.toolClicked(P),F.preventDefault()});var D=this.getToolShortcut(w.name);if(D)try{this.enableShortcuts(P,D)}catch{}var H=d.default.make("div"),j=m.default.t(k.I18nInternalNS.toolNames,w.title||p.capitalize(w.name));H.appendChild(d.default.text(j)),D&&H.appendChild(d.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:p.beautifyShortcut(D)})),this.tooltip.onHover(N,H,{placement:"top",hidingDelay:100}),P.checkState(f.default.get())}else p.log("Render method must return an instance of Node","warn",w.name)}},{key:"getToolShortcut",value:function(w){var L=this.Editor.Tools,P=L.inlineTools.get(w),N=L.internal.inlineTools;return Array.from(N.keys()).includes(w)?this.inlineTools[w][I.CommonInternalSettings.Shortcut]:P.shortcut}},{key:"enableShortcuts",value:function(w,L){var P=this;x.default.add({name:L,handler:function(N){var A=P.Editor.BlockManager.currentBlock;A&&A.tool.enabledInlineTools&&(N.preventDefault(),P.toolClicked(w))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(w){var L=f.default.range;w.surround(L),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach(function(w){w.checkState(f.default.get())})}},{key:"enableFlipper",value:function(){this.flipper=new y.default({focusedItemClass:this.CSS.focusedButton,allowedKeys:[p.keyCodes.ENTER,p.keyCodes.TAB]})}},{key:"inlineTools",get:function(){var w={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(function(L){var P=(0,c.default)(L,2),N=P[0],A=P[1];w[N]=A.create()}),w}}]),C}(g.default);n.default=S,S.displayName="InlineToolbar",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(42),e(30),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(59),e(389),e(9),e(7),e(390),e(391),e(392),e(393),e(394),e(398),e(399),e(400),e(185)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m,k,x,E,I,M,_,T,S,R){var O=e(8),B=e(1);function C(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=B(r),c=B(c),a=B(a),s=B(s),u=B(u),h=B(h),v=B(v),g=B(g),d=B(d),f=B(f),p=B(p),y=B(y),m=O(m),k=B(k),x=B(x),E=B(E),I=B(I),M=B(M),_=B(_),T=B(T),S=B(S),R=B(R);var w=function(P,N,A,D){var H,j=arguments.length,F=j<3?N:D===null?D=Object.getOwnPropertyDescriptor(N,A):D;if((typeof Reflect=="undefined"?"undefined":(0,f.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(P,N,A,D);else for(var U=P.length-1;U>=0;U--)(H=P[U])&&(F=(j<3?H(F):j>3?H(N,A,F):H(N,A))||F);return j>3&&F&&Object.defineProperty(N,A,F),F},L=function(P){(0,v.default)(H,P);var N,A,D=(N=H,function(){var j,F=(0,d.default)(N);if(C()){var U=(0,d.default)(this).constructor;j=Reflect.construct(F,arguments,U)}else j=F.apply(this,arguments);return(0,g.default)(this,j)});function H(){var j;return(0,u.default)(this,H),(j=D.apply(this,arguments)).stubTool="stub",j.toolsAvailable=new R.default,j.toolsUnavailable=new R.default,j}return(0,h.default)(H,[{key:"prepare",value:(A=(0,s.default)(a.default.mark(function j(){var F,U,z=this;return a.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.validateTools(),this.config.tools=m.deepMerge({},this.internalTools,this.config.tools),Object.prototype.hasOwnProperty.call(this.config,"tools")&&Object.keys(this.config.tools).length!==0){W.next=4;break}throw Error("Can't start without tools");case 4:if(F=this.prepareConfig(),this.factory=new M.default(F,this.config,this.Editor.API),(U=this.getListOfPrepareFunctions(F)).length!==0){W.next=9;break}return W.abrupt("return",Promise.resolve());case 9:return W.next=11,m.sequence(U,function(G){z.toolPrepareMethodSuccess(G)},function(G){z.toolPrepareMethodFallback(G)});case 11:this.prepareBlockTools();case 12:case"end":return W.stop()}},j,this)})),function(){return A.apply(this,arguments)})},{key:"getAllInlineToolsSanitizeConfig",value:function(){var j={};return Array.from(this.inlineTools.values()).forEach(function(F){Object.assign(j,F.sanitizeConfig)}),j}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var j=(0,s.default)(a.default.mark(function F(U){return a.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!m.isFunction(U.reset)){z.next=3;break}return z.next=3,U.reset();case 3:case"end":return z.stop()}},F)}));return function(F){return j.apply(this,arguments)}}())}},{key:"toolPrepareMethodSuccess",value:function(j){var F=this.factory.get(j.toolName);if(F.isInline()){var U=["render","surround","checkState"].filter(function(z){return!F.create()[z]});if(U.length)return m.log("Incorrect Inline Tool: ".concat(F.name,". Some of required methods is not implemented %o"),"warn",U),void this.toolsUnavailable.set(F.name,F)}this.toolsAvailable.set(F.name,F)}},{key:"toolPrepareMethodFallback",value:function(j){this.toolsUnavailable.set(j.toolName,this.factory.get(j.toolName))}},{key:"getListOfPrepareFunctions",value:function(j){var F=[];return Object.entries(j).forEach(function(U){var z=(0,c.default)(U,2),W=z[0],G=z[1];F.push({function:m.isFunction(G.class.prepare)?G.class.prepare:function(){},data:{toolName:W,config:G.config}})}),F}},{key:"prepareBlockTools",value:function(){var j=this;Array.from(this.blockTools.values()).forEach(function(F){j.assignInlineToolsToBlockTool(F),j.assignBlockTunesToBlockTool(F)})}},{key:"assignInlineToolsToBlockTool",value:function(j){var F=this;this.config.inlineToolbar!==!1&&(j.enabledInlineTools!==!0?Array.isArray(j.enabledInlineTools)&&(j.inlineTools=new R.default(j.enabledInlineTools.map(function(U){return[U,F.inlineTools.get(U)]}))):j.inlineTools=new R.default(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(function(U){return[U,F.inlineTools.get(U)]}):Array.from(this.inlineTools.entries())))}},{key:"assignBlockTunesToBlockTool",value:function(j){var F=this;if(j.enabledBlockTunes!==!1)if(Array.isArray(j.enabledBlockTunes)){var U=new R.default(j.enabledBlockTunes.map(function(W){return[W,F.blockTunes.get(W)]}));j.tunes=new R.default([].concat((0,r.default)(U),(0,r.default)(this.blockTunes.internalTools)))}else if(Array.isArray(this.config.tunes)){var z=new R.default(this.config.tunes.map(function(W){return[W,F.blockTunes.get(W)]}));j.tunes=new R.default([].concat((0,r.default)(z),(0,r.default)(this.blockTunes.internalTools)))}else j.tunes=this.blockTunes.internalTools}},{key:"validateTools",value:function(){for(var j in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,j)){if(j in this.internalTools)return;var F=this.config.tools[j];if(!m.isFunction(F)&&!m.isFunction(F.class))throw Error("Tool \xAB".concat(j,"\xBB must be a constructor function or an object with function in the \xABclass\xBB property"))}}},{key:"prepareConfig",value:function(){var j={};for(var F in this.config.tools)m.isObject(this.config.tools[F])?j[F]=this.config.tools[F]:j[F]={class:this.config.tools[F]};return j}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"internalTools",get:function(){return{bold:{class:k.default,isInternal:!0},italic:{class:x.default,isInternal:!0},link:{class:E.default,isInternal:!0},paragraph:{class:p.default,inlineToolbar:!0,isInternal:!0},stub:{class:I.default,isInternal:!0},moveUp:{class:S.default,isInternal:!0},delete:{class:T.default,isInternal:!0},moveDown:{class:_.default,isInternal:!0}}}}]),H}(y.default);n.default=L,L.displayName="Tools",w([m.cacheable],L.prototype,"getAllInlineToolsSanitizeConfig",null),l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(30),e(2),e(3),e(5),e(6),e(4),e(153)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(1);function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),c=g(c),a=g(a),s=g(s),u=g(u),h=g(h);var f=function(p){(0,s.default)(k,p);var y,m=(y=k,function(){var x,E=(0,h.default)(y);if(d()){var I=(0,h.default)(this).constructor;x=Reflect.construct(E,arguments,I)}else x=E.apply(this,arguments);return(0,u.default)(this,x)});function k(){return(0,c.default)(this,k),m.apply(this,arguments)}return(0,a.default)(k,[{key:"blockTools",get:function(){return new k(Array.from(this.entries()).filter(function(x){return(0,r.default)(x,2)[1].isBlock()}))}},{key:"inlineTools",get:function(){return new k(Array.from(this.entries()).filter(function(x){return(0,r.default)(x,2)[1].isInline()}))}},{key:"blockTunes",get:function(){return new k(Array.from(this.entries()).filter(function(x){return(0,r.default)(x,2)[1].isTune()}))}},{key:"internalTools",get:function(){return new k(Array.from(this.entries()).filter(function(x){return(0,r.default)(x,2)[1].isInternal}))}},{key:"externalTools",get:function(){return new k(Array.from(this.entries()).filter(function(x){return!(0,r.default)(x,2)[1].isInternal}))}}]),k}((0,(v=g(v)).default)(Map));n.default=f,f.displayName="ToolsCollection",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(30),e(42),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(401),e(9),e(14),e(7),e(25),e(67),e(61)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m,k,x,E){var I=e(8),M=e(1);function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=M(r),c=M(c),a=M(a),s=M(s),u=M(u),h=M(h),v=M(v),g=M(g),d=M(d),f=M(f),p=M(p),y=M(y),m=I(m),k=M(k),x=M(x),E=M(E);var T=function(S){(0,v.default)(C,S);var R,O,B=(R=C,function(){var w,L=(0,d.default)(R);if(_()){var P=(0,d.default)(this).constructor;w=Reflect.construct(L,arguments,P)}else w=L.apply(this,arguments);return(0,g.default)(this,w)});function C(){var w;return(0,u.default)(this,C),(w=B.apply(this,arguments)).isMobile=!1,w.contentRectCache=void 0,w.resizeDebouncer=m.debounce(function(){w.windowResize()},200),w}return(0,h.default)(C,[{key:"addLoader",value:function(){this.nodes.loader=y.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(O=(0,s.default)(a.default.mark(function w(){return a.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.appendSVGSprite(),this.loadStyles();case 5:case"end":return L.stop()}},w,this)})),function(){return O.apply(this,arguments)})},{key:"toggleReadOnly",value:function(w){w?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){var w=this.Editor.BlockManager;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,w.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var w=this.Editor,L=w.Toolbar,P=w.BlockSettings,N=w.InlineToolbar,A=w.ConversionToolbar;P.close(),N.close(),A.close(),L.toolbox.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:function(){this.nodes.holder=y.default.getHolder(this.config.holder),this.nodes.wrapper=y.default.make("div",[this.CSS.editorWrapper].concat((0,c.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=y.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var w=e(402);if(!y.default.get("editor-js-styles")){var L=y.default.make("style",null,{id:"editor-js-styles",textContent:w.toString()});y.default.prepend(document.head,L)}}},{key:"enableModuleBindings",value:function(){var w=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",function(L){w.redactorClicked(L)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",function(L){w.documentTouched(L)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",function(L){w.documentTouched(L)},!0),this.readOnlyMutableListeners.on(document,"keydown",function(L){w.documentKeydown(L)},!0),this.readOnlyMutableListeners.on(document,"mousedown",function(L){w.documentClicked(L)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",function(L){w.selectionChanged(L)},!0),this.readOnlyMutableListeners.on(window,"resize",function(){w.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}},{key:"watchBlockHoveredEvents",value:function(){var w,L=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",m.throttle(function(P){var N=P.target.closest(".ce-block");L.Editor.BlockSelection.anyBlockSelected||N&&w!==N&&(w=N,L.eventsDispatcher.emit(L.events.blockHovered,{block:L.Editor.BlockManager.getBlockByChildNode(N)}))},20),{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(w){switch(w.keyCode){case m.keyCodes.ENTER:this.enterPressed(w);break;case m.keyCodes.BACKSPACE:this.backspacePressed(w);break;case m.keyCodes.ESC:this.escapePressed(w);break;default:this.defaultBehaviour(w)}}},{key:"defaultBehaviour",value:function(w){var L=this.Editor.BlockManager.currentBlock,P=w.target.closest(".".concat(this.CSS.editorWrapper)),N=w.altKey||w.ctrlKey||w.metaKey||w.shiftKey;L===void 0||P!==null?P||L&&N||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(w)}},{key:"backspacePressed",value:function(w){var L=this.Editor,P=L.BlockManager,N=L.BlockSelection,A=L.Caret;if(N.anyBlockSelected&&!k.default.isSelectionExists){var D=P.removeSelectedBlocks();A.setToBlock(P.insertDefaultBlockAtIndex(D,!0),A.positions.START),N.clearSelection(w),w.preventDefault(),w.stopPropagation(),w.stopImmediatePropagation()}}},{key:"escapePressed",value:function(w){this.Editor.BlockSelection.clearSelection(w),this.Editor.Toolbar.toolbox.opened?this.Editor.Toolbar.toolbox.close():this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(w){var L=this.Editor,P=L.BlockManager,N=L.BlockSelection,A=P.currentBlockIndex>=0;if(N.anyBlockSelected&&!k.default.isSelectionExists)return N.clearSelection(w),w.preventDefault(),w.stopImmediatePropagation(),void w.stopPropagation();if(!this.someToolbarOpened&&A&&w.target.tagName==="BODY"){var D=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(D),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(D)}this.Editor.BlockSelection.clearSelection(w)}},{key:"documentClicked",value:function(w){if(w.isTrusted){var L=w.target;this.nodes.holder.contains(L)||k.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());var P=this.Editor.BlockSettings.nodes.wrapper.contains(L),N=this.Editor.Toolbar.nodes.settingsToggler.contains(L),A=P||N;if(this.Editor.BlockSettings.opened&&!A){this.Editor.BlockSettings.close();var D=this.Editor.BlockManager.getBlockByChildNode(L);this.Editor.Toolbar.moveAndOpen(D)}this.Editor.BlockSelection.clearSelection(w)}}},{key:"documentTouched",value:function(w){var L=w.target;if(L===this.nodes.redactor){var P=w instanceof MouseEvent?w.clientX:w.touches[0].clientX,N=w instanceof MouseEvent?w.clientY:w.touches[0].clientY;L=document.elementFromPoint(P,N)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(L),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}},{key:"redactorClicked",value:function(w){var L=this.Editor.BlockSelection;if(k.default.isCollapsed){var P=function(){w.stopImmediatePropagation(),w.stopPropagation()},N=w.target,A=w.metaKey||w.ctrlKey;if(y.default.isAnchor(N)&&A){P();var D=N.getAttribute("href"),H=m.getValidUrl(D);m.openTab(H)}else{var j=this.Editor.BlockManager.getBlockByIndex(-1),F=y.default.offset(j.holder).bottom,U=w.pageY;if(w.target instanceof Element&&w.target.isEqualNode(this.nodes.redactor)&&!L.anyBlockSelected&&F<U){P();var z=this.Editor,W=z.BlockManager,G=z.Caret,V=z.Toolbar;W.lastBlock.tool.isDefault&&W.lastBlock.isEmpty||W.insertAtEnd(),G.setToTheLastBlock(),V.moveAndOpen(W.lastBlock)}}}}},{key:"selectionChanged",value:function(w){var L=this.Editor,P=L.CrossBlockSelection,N=L.BlockSelection,A=k.default.anchorElement;if(P.isCrossBlockSelectionStarted&&N.anyBlockSelected&&k.default.get().removeAllRanges(),A){var D=A.closest(".".concat(x.default.CSS.content))===null;if(D&&(this.Editor.InlineToolbar.containsNode(A)||this.Editor.InlineToolbar.close(),A.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(A);var H=D!==!0;this.Editor.InlineToolbar.tryToShow(!0,H)}else k.default.range||this.Editor.InlineToolbar.close()}},{key:"appendSVGSprite",value:function(){var w=y.default.make("div");w.hidden=!0,w.style.display="none",w.innerHTML=f.default,y.default.append(this.nodes.wrapper,w)}},{key:"events",get:function(){return{blockHovered:"block-hovered"}}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var w=this.nodes.wrapper.querySelector(".".concat(x.default.CSS.content));return w?(this.contentRectCache=w.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var w=this.Editor,L=w.Toolbar,P=w.BlockSettings,N=w.InlineToolbar,A=w.ConversionToolbar;return P.opened||N.opened||A.opened||L.toolbox.opened}},{key:"someFlipperButtonFocused",get:function(){return!!this.Editor.Toolbar.toolbox.hasFocus()||Object.entries(this.Editor).filter(function(w){var L=(0,r.default)(w,2);return L[0],L[1].flipper instanceof E.default}).some(function(w){var L=(0,r.default)(w,2);return L[0],L[1].flipper.hasFocus()})}}]),C}(p.default);n.default=T,T.displayName="UI",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){e(188),l.exports=e(360)},function(l,b,e){e(189)},function(l,b,e){e(190),e(333),e(335),e(338),e(340),e(342),e(344),e(346),e(348),e(350),e(352),e(354),e(356),e(147)},function(l,b,e){e(191),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(215),e(216),e(217),e(218),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(227),e(228),e(229),e(230),e(231),e(232),e(233),e(234),e(235),e(237),e(238),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(267),e(268),e(269),e(270),e(272),e(273),e(275),e(276),e(277),e(278),e(279),e(280),e(281),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(292),e(293),e(294),e(295),e(105),e(296),e(136),e(297),e(137),e(298),e(299),e(300),e(301),e(138),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),e(329),e(330),e(331),e(332),l.exports=e(17)},function(l,b,e){var t=e(10),o=e(26),i=e(18),n=e(0),r=e(21),c=e(41).KEY,a=e(11),s=e(69),u=e(53),h=e(44),v=e(15),g=e(86),d=e(117),f=e(193),p=e(72),y=e(12),m=e(13),k=e(20),x=e(28),E=e(40),I=e(43),M=e(48),_=e(120),T=e(34),S=e(71),R=e(19),O=e(46),B=T.f,C=R.f,w=_.f,L=t.Symbol,P=t.JSON,N=P&&P.stringify,A=v("_hidden"),D=v("toPrimitive"),H={}.propertyIsEnumerable,j=s("symbol-registry"),F=s("symbols"),U=s("op-symbols"),z=Object.prototype,W=typeof L=="function"&&!!S.f,G=t.QObject,V=!G||!G.prototype||!G.prototype.findChild,J=i&&a(function(){return M(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a!=7})?function(X,$,ie){var me=B(z,$);me&&delete z[$],C(X,$,ie),me&&X!==z&&C(z,$,me)}:C,ee=function(X){var $=F[X]=M(L.prototype);return $._k=X,$},te=W&&typeof L.iterator=="symbol"?function(X){return typeof X=="symbol"}:function(X){return X instanceof L},Y=function(X,$,ie){return X===z&&Y(U,$,ie),y(X),$=E($,!0),y(ie),o(F,$)?(ie.enumerable?(o(X,A)&&X[A][$]&&(X[A][$]=!1),ie=M(ie,{enumerable:I(0,!1)})):(o(X,A)||C(X,A,I(1,{})),X[A][$]=!0),J(X,$,ie)):C(X,$,ie)},q=function(X,$){y(X);for(var ie,me=f($=x($)),Se=0,Ie=me.length;Ie>Se;)Y(X,ie=me[Se++],$[ie]);return X},ae=function(X){var $=H.call(this,X=E(X,!0));return!(this===z&&o(F,X)&&!o(U,X))&&(!($||!o(this,X)||!o(F,X)||o(this,A)&&this[A][X])||$)},Q=function(X,$){if(X=x(X),$=E($,!0),X!==z||!o(F,$)||o(U,$)){var ie=B(X,$);return!ie||!o(F,$)||o(X,A)&&X[A][$]||(ie.enumerable=!0),ie}},re=function(X){for(var $,ie=w(x(X)),me=[],Se=0;ie.length>Se;)o(F,$=ie[Se++])||$==A||$==c||me.push($);return me},de=function(X){for(var $,ie=X===z,me=w(ie?U:x(X)),Se=[],Ie=0;me.length>Ie;)!o(F,$=me[Ie++])||ie&&!o(z,$)||Se.push(F[$]);return Se};W||(r((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var X=h(arguments.length>0?arguments[0]:void 0),$=function(ie){this===z&&$.call(U,ie),o(this,A)&&o(this[A],X)&&(this[A][X]=!1),J(this,X,I(1,ie))};return i&&V&&J(z,X,{configurable:!0,set:$}),ee(X)}).prototype,"toString",function(){return this._k}),T.f=Q,R.f=Y,e(49).f=_.f=re,e(63).f=ae,S.f=de,i&&!e(45)&&r(z,"propertyIsEnumerable",ae,!0),g.f=function(X){return ee(v(X))}),n(n.G+n.W+n.F*!W,{Symbol:L});for(var pe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ue=0;pe.length>ue;)v(pe[ue++]);for(var ve=O(v.store),ge=0;ve.length>ge;)d(ve[ge++]);n(n.S+n.F*!W,"Symbol",{for:function(X){return o(j,X+="")?j[X]:j[X]=L(X)},keyFor:function(X){if(!te(X))throw TypeError(X+" is not a symbol!");for(var $ in j)if(j[$]===X)return $},useSetter:function(){V=!0},useSimple:function(){V=!1}}),n(n.S+n.F*!W,"Object",{create:function(X,$){return $===void 0?M(X):q(M(X),$)},defineProperty:Y,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:re,getOwnPropertySymbols:de});var ce=a(function(){S.f(1)});n(n.S+n.F*ce,"Object",{getOwnPropertySymbols:function(X){return S.f(k(X))}}),P&&n(n.S+n.F*(!W||a(function(){var X=L();return N([X])!="[null]"||N({a:X})!="{}"||N(Object(X))!="{}"})),"JSON",{stringify:function(X){for(var $,ie,me=[X],Se=1;arguments.length>Se;)me.push(arguments[Se++]);if(ie=$=me[1],(m($)||X!==void 0)&&!te(X))return p($)||($=function(Ie,Oe){if(typeof ie=="function"&&(Oe=ie.call(this,Ie,Oe)),!te(Oe))return Oe}),me[1]=$,N.apply(P,me)}}),L.prototype[D]||e(27)(L.prototype,D,L.prototype.valueOf),u(L,"Symbol"),u(Math,"Math",!0),u(t.JSON,"JSON",!0)},function(l,b,e){l.exports=e(69)("native-function-to-string",Function.toString)},function(l,b,e){var t=e(46),o=e(71),i=e(63);l.exports=function(n){var r=t(n),c=o.f;if(c)for(var a,s=c(n),u=i.f,h=0;s.length>h;)u.call(n,a=s[h++])&&r.push(a);return r}},function(l,b,e){var t=e(0);t(t.S,"Object",{create:e(48)})},function(l,b,e){var t=e(0);t(t.S+t.F*!e(18),"Object",{defineProperty:e(19).f})},function(l,b,e){var t=e(0);t(t.S+t.F*!e(18),"Object",{defineProperties:e(119)})},function(l,b,e){var t=e(28),o=e(34).f;e(35)("getOwnPropertyDescriptor",function(){return function(i,n){return o(t(i),n)}})},function(l,b,e){var t=e(20),o=e(50);e(35)("getPrototypeOf",function(){return function(i){return o(t(i))}})},function(l,b,e){var t=e(20),o=e(46);e(35)("keys",function(){return function(i){return o(t(i))}})},function(l,b,e){e(35)("getOwnPropertyNames",function(){return e(120).f})},function(l,b,e){var t=e(13),o=e(41).onFreeze;e(35)("freeze",function(i){return function(n){return i&&t(n)?i(o(n)):n}})},function(l,b,e){var t=e(13),o=e(41).onFreeze;e(35)("seal",function(i){return function(n){return i&&t(n)?i(o(n)):n}})},function(l,b,e){var t=e(13),o=e(41).onFreeze;e(35)("preventExtensions",function(i){return function(n){return i&&t(n)?i(o(n)):n}})},function(l,b,e){var t=e(13);e(35)("isFrozen",function(o){return function(i){return!t(i)||!!o&&o(i)}})},function(l,b,e){var t=e(13);e(35)("isSealed",function(o){return function(i){return!t(i)||!!o&&o(i)}})},function(l,b,e){var t=e(13);e(35)("isExtensible",function(o){return function(i){return!!t(i)&&(!o||o(i))}})},function(l,b,e){var t=e(0);t(t.S+t.F,"Object",{assign:e(121)})},function(l,b,e){var t=e(0);t(t.S,"Object",{is:e(122)})},function(l,b,e){var t=e(0);t(t.S,"Object",{setPrototypeOf:e(90).set})},function(l,b,e){var t=e(64),o={};o[e(15)("toStringTag")]="z",o+""!="[object z]"&&e(21)(Object.prototype,"toString",function(){return"[object "+t(this)+"]"},!0)},function(l,b,e){var t=e(0);t(t.P,"Function",{bind:e(123)})},function(l,b,e){var t=e(19).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||e(18)&&t(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch{return""}}})},function(l,b,e){var t=e(13),o=e(50),i=e(15)("hasInstance"),n=Function.prototype;i in n||e(19).f(n,i,{value:function(r){if(typeof this!="function"||!t(r))return!1;if(!t(this.prototype))return r instanceof this;for(;r=o(r);)if(this.prototype===r)return!0;return!1}})},function(l,b,e){var t=e(0),o=e(125);t(t.G+t.F*(parseInt!=o),{parseInt:o})},function(l,b,e){var t=e(0),o=e(126);t(t.G+t.F*(parseFloat!=o),{parseFloat:o})},function(l,b,e){var t=e(10),o=e(26),i=e(37),n=e(92),r=e(40),c=e(11),a=e(49).f,s=e(34).f,u=e(19).f,h=e(54).trim,v=t.Number,g=v,d=v.prototype,f=i(e(48)(d))=="Number",p="trim"in String.prototype,y=function(E){var I=r(E,!1);if(typeof I=="string"&&I.length>2){var M,_,T,S=(I=p?I.trim():h(I,3)).charCodeAt(0);if(S===43||S===45){if((M=I.charCodeAt(2))===88||M===120)return NaN}else if(S===48){switch(I.charCodeAt(1)){case 66:case 98:_=2,T=49;break;case 79:case 111:_=8,T=55;break;default:return+I}for(var R,O=I.slice(2),B=0,C=O.length;B<C;B++)if((R=O.charCodeAt(B))<48||R>T)return NaN;return parseInt(O,_)}}return+I};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(E){var I=arguments.length<1?0:E,M=this;return M instanceof v&&(f?c(function(){d.valueOf.call(M)}):i(M)!="Number")?n(new g(y(I)),M,v):y(I)};for(var m,k=e(18)?a(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;k.length>x;x++)o(g,m=k[x])&&!o(v,m)&&u(v,m,s(g,m));v.prototype=d,d.constructor=v,e(21)(t,"Number",v)}},function(l,b,e){var t=e(0),o=e(33),i=e(127),n=e(93),r=1 .toFixed,c=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",u=function(d,f){for(var p=-1,y=f;++p<6;)y+=d*a[p],a[p]=y%1e7,y=c(y/1e7)},h=function(d){for(var f=6,p=0;--f>=0;)p+=a[f],a[f]=c(p/d),p=p%d*1e7},v=function(){for(var d=6,f="";--d>=0;)if(f!==""||d===0||a[d]!==0){var p=String(a[d]);f=f===""?p:f+n.call("0",7-p.length)+p}return f},g=function(d,f,p){return f===0?p:f%2==1?g(d,f-1,p*d):g(d*d,f/2,p)};t(t.P+t.F*(!!r&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!e(11)(function(){r.call({})})),"Number",{toFixed:function(d){var f,p,y,m,k=i(this,s),x=o(d),E="",I="0";if(x<0||x>20)throw RangeError(s);if(k!=k)return"NaN";if(k<=-1e21||k>=1e21)return String(k);if(k<0&&(E="-",k=-k),k>1e-21)if(p=(f=function(M){for(var _=0,T=M;T>=4096;)_+=12,T/=4096;for(;T>=2;)_+=1,T/=2;return _}(k*g(2,69,1))-69)<0?k*g(2,-f,1):k/g(2,f,1),p*=4503599627370496,(f=52-f)>0){for(u(0,p),y=x;y>=7;)u(1e7,0),y-=7;for(u(g(10,y,1),0),y=f-1;y>=23;)h(1<<23),y-=23;h(1<<y),u(1,1),h(2),I=v()}else u(0,p),u(1<<-f,0),I=v()+n.call("0",x);return I=x>0?E+((m=I.length)<=x?"0."+n.call("0",x-m)+I:I.slice(0,m-x)+"."+I.slice(m-x)):E+I}})},function(l,b,e){var t=e(0),o=e(11),i=e(127),n=1 .toPrecision;t(t.P+t.F*(o(function(){return n.call(1,void 0)!=="1"})||!o(function(){n.call({})})),"Number",{toPrecision:function(r){var c=i(this,"Number#toPrecision: incorrect invocation!");return r===void 0?n.call(c):n.call(c,r)}})},function(l,b,e){var t=e(0);t(t.S,"Number",{EPSILON:Math.pow(2,-52)})},function(l,b,e){var t=e(0),o=e(10).isFinite;t(t.S,"Number",{isFinite:function(i){return typeof i=="number"&&o(i)}})},function(l,b,e){var t=e(0);t(t.S,"Number",{isInteger:e(128)})},function(l,b,e){var t=e(0);t(t.S,"Number",{isNaN:function(o){return o!=o}})},function(l,b,e){var t=e(0),o=e(128),i=Math.abs;t(t.S,"Number",{isSafeInteger:function(n){return o(n)&&i(n)<=9007199254740991}})},function(l,b,e){var t=e(0);t(t.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(l,b,e){var t=e(0);t(t.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(l,b,e){var t=e(0),o=e(126);t(t.S+t.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(l,b,e){var t=e(0),o=e(125);t(t.S+t.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(l,b,e){var t=e(0),o=e(129),i=Math.sqrt,n=Math.acosh;t(t.S+t.F*!(n&&Math.floor(n(Number.MAX_VALUE))==710&&n(1/0)==1/0),"Math",{acosh:function(r){return(r=+r)<1?NaN:r>9490626562425156e-8?Math.log(r)+Math.LN2:o(r-1+i(r-1)*i(r+1))}})},function(l,b,e){var t=e(0),o=Math.asinh;t(t.S+t.F*!(o&&1/o(0)>0),"Math",{asinh:function i(n){return isFinite(n=+n)&&n!=0?n<0?-i(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(l,b,e){var t=e(0),o=Math.atanh;t(t.S+t.F*!(o&&1/o(-0)<0),"Math",{atanh:function(i){return(i=+i)==0?i:Math.log((1+i)/(1-i))/2}})},function(l,b,e){var t=e(0),o=e(94);t(t.S,"Math",{cbrt:function(i){return o(i=+i)*Math.pow(Math.abs(i),1/3)}})},function(l,b,e){var t=e(0);t(t.S,"Math",{clz32:function(o){return(o>>>=0)?31-Math.floor(Math.log(o+.5)*Math.LOG2E):32}})},function(l,b,e){var t=e(0),o=Math.exp;t(t.S,"Math",{cosh:function(i){return(o(i=+i)+o(-i))/2}})},function(l,b,e){var t=e(0),o=e(95);t(t.S+t.F*(o!=Math.expm1),"Math",{expm1:o})},function(l,b,e){var t=e(0);t(t.S,"Math",{fround:e(236)})},function(l,b,e){var t=e(94),o=Math.pow,i=o(2,-52),n=o(2,-23),r=o(2,127)*(2-n),c=o(2,-126);l.exports=Math.fround||function(a){var s,u,h=Math.abs(a),v=t(a);return h<c?v*(h/c/n+1/i-1/i)*c*n:(u=(s=(1+n/i)*h)-(s-h))>r||u!=u?v*(1/0):v*u}},function(l,b,e){var t=e(0),o=Math.abs;t(t.S,"Math",{hypot:function(i,n){for(var r,c,a=0,s=0,u=arguments.length,h=0;s<u;)h<(r=o(arguments[s++]))?(a=a*(c=h/r)*c+1,h=r):a+=r>0?(c=r/h)*c:r;return h===1/0?1/0:h*Math.sqrt(a)}})},function(l,b,e){var t=e(0),o=Math.imul;t(t.S+t.F*e(11)(function(){return o(4294967295,5)!=-5||o.length!=2}),"Math",{imul:function(i,n){var r=+i,c=+n,a=65535&r,s=65535&c;return 0|a*s+((65535&r>>>16)*s+a*(65535&c>>>16)<<16>>>0)}})},function(l,b,e){var t=e(0);t(t.S,"Math",{log10:function(o){return Math.log(o)*Math.LOG10E}})},function(l,b,e){var t=e(0);t(t.S,"Math",{log1p:e(129)})},function(l,b,e){var t=e(0);t(t.S,"Math",{log2:function(o){return Math.log(o)/Math.LN2}})},function(l,b,e){var t=e(0);t(t.S,"Math",{sign:e(94)})},function(l,b,e){var t=e(0),o=e(95),i=Math.exp;t(t.S+t.F*e(11)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(n){return Math.abs(n=+n)<1?(o(n)-o(-n))/2:(i(n-1)-i(-n-1))*(Math.E/2)}})},function(l,b,e){var t=e(0),o=e(95),i=Math.exp;t(t.S,"Math",{tanh:function(n){var r=o(n=+n),c=o(-n);return r==1/0?1:c==1/0?-1:(r-c)/(i(n)+i(-n))}})},function(l,b,e){var t=e(0);t(t.S,"Math",{trunc:function(o){return(o>0?Math.floor:Math.ceil)(o)}})},function(l,b,e){var t=e(0),o=e(47),i=String.fromCharCode,n=String.fromCodePoint;t(t.S+t.F*(!!n&&n.length!=1),"String",{fromCodePoint:function(r){for(var c,a=[],s=arguments.length,u=0;s>u;){if(c=+arguments[u++],o(c,1114111)!==c)throw RangeError(c+" is not a valid code point");a.push(c<65536?i(c):i(55296+((c-=65536)>>10),c%1024+56320))}return a.join("")}})},function(l,b,e){var t=e(0),o=e(28),i=e(16);t(t.S,"String",{raw:function(n){for(var r=o(n.raw),c=i(r.length),a=arguments.length,s=[],u=0;c>u;)s.push(String(r[u++])),u<a&&s.push(String(arguments[u]));return s.join("")}})},function(l,b,e){e(54)("trim",function(t){return function(){return t(this,3)}})},function(l,b,e){var t=e(96)(!0);e(97)(String,"String",function(o){this._t=String(o),this._i=0},function(){var o,i=this._t,n=this._i;return n>=i.length?{value:void 0,done:!0}:(o=t(i,n),this._i+=o.length,{value:o,done:!1})})},function(l,b,e){var t=e(0),o=e(96)(!1);t(t.P,"String",{codePointAt:function(i){return o(this,i)}})},function(l,b,e){var t=e(0),o=e(16),i=e(98),n="".endsWith;t(t.P+t.F*e(100)("endsWith"),"String",{endsWith:function(r){var c=i(this,r,"endsWith"),a=arguments.length>1?arguments[1]:void 0,s=o(c.length),u=a===void 0?s:Math.min(o(a),s),h=String(r);return n?n.call(c,h,u):c.slice(u-h.length,u)===h}})},function(l,b,e){var t=e(0),o=e(98);t(t.P+t.F*e(100)("includes"),"String",{includes:function(i){return!!~o(this,i,"includes").indexOf(i,arguments.length>1?arguments[1]:void 0)}})},function(l,b,e){var t=e(0);t(t.P,"String",{repeat:e(93)})},function(l,b,e){var t=e(0),o=e(16),i=e(98),n="".startsWith;t(t.P+t.F*e(100)("startsWith"),"String",{startsWith:function(r){var c=i(this,r,"startsWith"),a=o(Math.min(arguments.length>1?arguments[1]:void 0,c.length)),s=String(r);return n?n.call(c,s,a):c.slice(a,a+s.length)===s}})},function(l,b,e){e(22)("anchor",function(t){return function(o){return t(this,"a","name",o)}})},function(l,b,e){e(22)("big",function(t){return function(){return t(this,"big","","")}})},function(l,b,e){e(22)("blink",function(t){return function(){return t(this,"blink","","")}})},function(l,b,e){e(22)("bold",function(t){return function(){return t(this,"b","","")}})},function(l,b,e){e(22)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(l,b,e){e(22)("fontcolor",function(t){return function(o){return t(this,"font","color",o)}})},function(l,b,e){e(22)("fontsize",function(t){return function(o){return t(this,"font","size",o)}})},function(l,b,e){e(22)("italics",function(t){return function(){return t(this,"i","","")}})},function(l,b,e){e(22)("link",function(t){return function(o){return t(this,"a","href",o)}})},function(l,b,e){e(22)("small",function(t){return function(){return t(this,"small","","")}})},function(l,b,e){e(22)("strike",function(t){return function(){return t(this,"strike","","")}})},function(l,b,e){e(22)("sub",function(t){return function(){return t(this,"sub","","")}})},function(l,b,e){e(22)("sup",function(t){return function(){return t(this,"sup","","")}})},function(l,b,e){var t=e(0);t(t.S,"Date",{now:function(){return new Date().getTime()}})},function(l,b,e){var t=e(0),o=e(20),i=e(40);t(t.P+t.F*e(11)(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(n){var r=o(this),c=i(r);return typeof c!="number"||isFinite(c)?r.toISOString():null}})},function(l,b,e){var t=e(0),o=e(271);t(t.P+t.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(l,b,e){var t=e(11),o=Date.prototype.getTime,i=Date.prototype.toISOString,n=function(r){return r>9?r:"0"+r};l.exports=t(function(){return i.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!t(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var r=this,c=r.getUTCFullYear(),a=r.getUTCMilliseconds(),s=c<0?"-":c>9999?"+":"";return s+("00000"+Math.abs(c)).slice(s?-6:-4)+"-"+n(r.getUTCMonth()+1)+"-"+n(r.getUTCDate())+"T"+n(r.getUTCHours())+":"+n(r.getUTCMinutes())+":"+n(r.getUTCSeconds())+"."+(a>99?a:"0"+n(a))+"Z"}:i},function(l,b,e){var t=Date.prototype,o=t.toString,i=t.getTime;new Date(NaN)+""!="Invalid Date"&&e(21)(t,"toString",function(){var n=i.call(this);return n==n?o.call(this):"Invalid Date"})},function(l,b,e){var t=e(15)("toPrimitive"),o=Date.prototype;t in o||e(27)(o,t,e(274))},function(l,b,e){var t=e(12),o=e(40);l.exports=function(i){if(i!=="string"&&i!=="number"&&i!=="default")throw TypeError("Incorrect hint");return o(t(this),i!="number")}},function(l,b,e){var t=e(0);t(t.S,"Array",{isArray:e(72)})},function(l,b,e){var t=e(31),o=e(0),i=e(20),n=e(131),r=e(101),c=e(16),a=e(102),s=e(103);o(o.S+o.F*!e(73)(function(u){Array.from(u)}),"Array",{from:function(u){var h,v,g,d,f=i(u),p=typeof this=="function"?this:Array,y=arguments.length,m=y>1?arguments[1]:void 0,k=m!==void 0,x=0,E=s(f);if(k&&(m=t(m,y>2?arguments[2]:void 0,2)),E==null||p==Array&&r(E))for(v=new p(h=c(f.length));h>x;x++)a(v,x,k?m(f[x],x):f[x]);else for(d=E.call(f),v=new p;!(g=d.next()).done;x++)a(v,x,k?n(d,m,[g.value,x],!0):g.value);return v.length=x,v}})},function(l,b,e){var t=e(0),o=e(102);t(t.S+t.F*e(11)(function(){function i(){}return!(Array.of.call(i)instanceof i)}),"Array",{of:function(){for(var i=0,n=arguments.length,r=new(typeof this=="function"?this:Array)(n);n>i;)o(r,i,arguments[i++]);return r.length=n,r}})},function(l,b,e){var t=e(0),o=e(28),i=[].join;t(t.P+t.F*(e(62)!=Object||!e(29)(i)),"Array",{join:function(n){return i.call(o(this),n===void 0?",":n)}})},function(l,b,e){var t=e(0),o=e(89),i=e(37),n=e(47),r=e(16),c=[].slice;t(t.P+t.F*e(11)(function(){o&&c.call(o)}),"Array",{slice:function(a,s){var u=r(this.length),h=i(this);if(s=s===void 0?u:s,h=="Array")return c.call(this,a,s);for(var v=n(a,u),g=n(s,u),d=r(g-v),f=new Array(d),p=0;p<d;p++)f[p]=h=="String"?this.charAt(v+p):this[v+p];return f}})},function(l,b,e){var t=e(0),o=e(32),i=e(20),n=e(11),r=[].sort,c=[1,2,3];t(t.P+t.F*(n(function(){c.sort(void 0)})||!n(function(){c.sort(null)})||!e(29)(r)),"Array",{sort:function(a){return a===void 0?r.call(i(this)):r.call(i(this),o(a))}})},function(l,b,e){var t=e(0),o=e(36)(0),i=e(29)([].forEach,!0);t(t.P+t.F*!i,"Array",{forEach:function(n){return o(this,n,arguments[1])}})},function(l,b,e){var t=e(13),o=e(72),i=e(15)("species");l.exports=function(n){var r;return o(n)&&(typeof(r=n.constructor)!="function"||r!==Array&&!o(r.prototype)||(r=void 0),t(r)&&(r=r[i])===null&&(r=void 0)),r===void 0?Array:r}},function(l,b,e){var t=e(0),o=e(36)(1);t(t.P+t.F*!e(29)([].map,!0),"Array",{map:function(i){return o(this,i,arguments[1])}})},function(l,b,e){var t=e(0),o=e(36)(2);t(t.P+t.F*!e(29)([].filter,!0),"Array",{filter:function(i){return o(this,i,arguments[1])}})},function(l,b,e){var t=e(0),o=e(36)(3);t(t.P+t.F*!e(29)([].some,!0),"Array",{some:function(i){return o(this,i,arguments[1])}})},function(l,b,e){var t=e(0),o=e(36)(4);t(t.P+t.F*!e(29)([].every,!0),"Array",{every:function(i){return o(this,i,arguments[1])}})},function(l,b,e){var t=e(0),o=e(133);t(t.P+t.F*!e(29)([].reduce,!0),"Array",{reduce:function(i){return o(this,i,arguments.length,arguments[1],!1)}})},function(l,b,e){var t=e(0),o=e(133);t(t.P+t.F*!e(29)([].reduceRight,!0),"Array",{reduceRight:function(i){return o(this,i,arguments.length,arguments[1],!0)}})},function(l,b,e){var t=e(0),o=e(70)(!1),i=[].indexOf,n=!!i&&1/[1].indexOf(1,-0)<0;t(t.P+t.F*(n||!e(29)(i)),"Array",{indexOf:function(r){return n?i.apply(this,arguments)||0:o(this,r,arguments[1])}})},function(l,b,e){var t=e(0),o=e(28),i=e(33),n=e(16),r=[].lastIndexOf,c=!!r&&1/[1].lastIndexOf(1,-0)<0;t(t.P+t.F*(c||!e(29)(r)),"Array",{lastIndexOf:function(a){if(c)return r.apply(this,arguments)||0;var s=o(this),u=n(s.length),h=u-1;for(arguments.length>1&&(h=Math.min(h,i(arguments[1]))),h<0&&(h=u+h);h>=0;h--)if(h in s&&s[h]===a)return h||0;return-1}})},function(l,b,e){var t=e(0);t(t.P,"Array",{copyWithin:e(134)}),e(51)("copyWithin")},function(l,b,e){var t=e(0);t(t.P,"Array",{fill:e(104)}),e(51)("fill")},function(l,b,e){var t=e(0),o=e(36)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),t(t.P+t.F*i,"Array",{find:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}}),e(51)("find")},function(l,b,e){var t=e(0),o=e(36)(6),i="findIndex",n=!0;i in[]&&Array(1)[i](function(){n=!1}),t(t.P+t.F*n,"Array",{findIndex:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}}),e(51)(i)},function(l,b,e){e(56)("Array")},function(l,b,e){var t=e(10),o=e(92),i=e(19).f,n=e(49).f,r=e(99),c=e(74),a=t.RegExp,s=a,u=a.prototype,h=/a/g,v=/a/g,g=new a(h)!==h;if(e(18)&&(!g||e(11)(function(){return v[e(15)("match")]=!1,a(h)!=h||a(v)==v||a(h,"i")!="/a/i"}))){a=function(y,m){var k=this instanceof a,x=r(y),E=m===void 0;return!k&&x&&y.constructor===a&&E?y:o(g?new s(x&&!E?y.source:y,m):s((x=y instanceof a)?y.source:y,x&&E?c.call(y):m),k?this:u,a)};for(var d=function(y){y in a||i(a,y,{configurable:!0,get:function(){return s[y]},set:function(m){s[y]=m}})},f=n(s),p=0;f.length>p;)d(f[p++]);u.constructor=a,a.prototype=u,e(21)(t,"RegExp",a)}e(56)("RegExp")},function(l,b,e){e(137);var t=e(12),o=e(74),i=e(18),n=/./.toString,r=function(c){e(21)(RegExp.prototype,"toString",c,!0)};e(11)(function(){return n.call({source:"a",flags:"b"})!="/a/b"})?r(function(){var c=t(this);return"/".concat(c.source,"/","flags"in c?c.flags:!i&&c instanceof RegExp?o.call(c):void 0)}):n.name!="toString"&&r(function(){return n.call(this)})},function(l,b,e){var t=e(12),o=e(16),i=e(107),n=e(75);e(76)("match",1,function(r,c,a,s){return[function(u){var h=r(this),v=u==null?void 0:u[c];return v!==void 0?v.call(u,h):new RegExp(u)[c](String(h))},function(u){var h=s(a,u,this);if(h.done)return h.value;var v=t(u),g=String(this);if(!v.global)return n(v,g);var d=v.unicode;v.lastIndex=0;for(var f,p=[],y=0;(f=n(v,g))!==null;){var m=String(f[0]);p[y]=m,m===""&&(v.lastIndex=i(g,o(v.lastIndex),d)),y++}return y===0?null:p}]})},function(l,b,e){var t=e(12),o=e(20),i=e(16),n=e(33),r=e(107),c=e(75),a=Math.max,s=Math.min,u=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g;e(76)("replace",2,function(g,d,f,p){return[function(m,k){var x=g(this),E=m==null?void 0:m[d];return E!==void 0?E.call(m,x,k):f.call(String(x),m,k)},function(m,k){var x=p(f,m,this,k);if(x.done)return x.value;var E=t(m),I=String(this),M=typeof k=="function";M||(k=String(k));var _=E.global;if(_){var T=E.unicode;E.lastIndex=0}for(var S=[];;){var R=c(E,I);if(R===null||(S.push(R),!_))break;String(R[0])===""&&(E.lastIndex=r(I,i(E.lastIndex),T))}for(var O,B="",C=0,w=0;w<S.length;w++){R=S[w];for(var L=String(R[0]),P=a(s(n(R.index),I.length),0),N=[],A=1;A<R.length;A++)N.push((O=R[A])===void 0?O:String(O));var D=R.groups;if(M){var H=[L].concat(N,P,I);D!==void 0&&H.push(D);var j=String(k.apply(void 0,H))}else j=y(L,I,P,N,D,k);P>=C&&(B+=I.slice(C,P)+j,C=P+L.length)}return B+I.slice(C)}];function y(m,k,x,E,I,M){var _=x+m.length,T=E.length,S=v;return I!==void 0&&(I=o(I),S=h),f.call(M,S,function(R,O){var B;switch(O.charAt(0)){case"$":return"$";case"&":return m;case"`":return k.slice(0,x);case"'":return k.slice(_);case"<":B=I[O.slice(1,-1)];break;default:var C=+O;if(C===0)return R;if(C>T){var w=u(C/10);return w===0?R:w<=T?E[w-1]===void 0?O.charAt(1):E[w-1]+O.charAt(1):R}B=E[C-1]}return B===void 0?"":B})}})},function(l,b,e){var t=e(12),o=e(122),i=e(75);e(76)("search",1,function(n,r,c,a){return[function(s){var u=n(this),h=s==null?void 0:s[r];return h!==void 0?h.call(s,u):new RegExp(s)[r](String(u))},function(s){var u=a(c,s,this);if(u.done)return u.value;var h=t(s),v=String(this),g=h.lastIndex;o(g,0)||(h.lastIndex=0);var d=i(h,v);return o(h.lastIndex,g)||(h.lastIndex=g),d===null?-1:d.index}]})},function(l,b,e){var t=e(99),o=e(12),i=e(65),n=e(107),r=e(16),c=e(75),a=e(106),s=e(11),u=Math.min,h=[].push,v="length",g=!s(function(){});e(76)("split",2,function(d,f,p,y){var m;return m="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1)[v]!=4||"ab".split(/(?:ab)*/)[v]!=2||".".split(/(.?)(.?)/)[v]!=4||".".split(/()()/)[v]>1||"".split(/.?/)[v]?function(k,x){var E=String(this);if(k===void 0&&x===0)return[];if(!t(k))return p.call(E,k,x);for(var I,M,_,T=[],S=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.unicode?"u":"")+(k.sticky?"y":""),R=0,O=x===void 0?4294967295:x>>>0,B=new RegExp(k.source,S+"g");(I=a.call(B,E))&&!((M=B.lastIndex)>R&&(T.push(E.slice(R,I.index)),I[v]>1&&I.index<E[v]&&h.apply(T,I.slice(1)),_=I[0][v],R=M,T[v]>=O));)B.lastIndex===I.index&&B.lastIndex++;return R===E[v]?!_&&B.test("")||T.push(""):T.push(E.slice(R)),T[v]>O?T.slice(0,O):T}:"0".split(void 0,0)[v]?function(k,x){return k===void 0&&x===0?[]:p.call(this,k,x)}:p,[function(k,x){var E=d(this),I=k==null?void 0:k[f];return I!==void 0?I.call(k,E,x):m.call(String(E),k,x)},function(k,x){var E=y(m,k,this,x,m!==p);if(E.done)return E.value;var I=o(k),M=String(this),_=i(I,RegExp),T=I.unicode,S=(I.ignoreCase?"i":"")+(I.multiline?"m":"")+(I.unicode?"u":"")+(g?"y":"g"),R=new _(g?I:"^(?:"+I.source+")",S),O=x===void 0?4294967295:x>>>0;if(O===0)return[];if(M.length===0)return c(R,M)===null?[M]:[];for(var B=0,C=0,w=[];C<M.length;){R.lastIndex=g?C:0;var L,P=c(R,g?M:M.slice(C));if(P===null||(L=u(r(R.lastIndex+(g?0:C)),M.length))===B)C=n(M,C,T);else{if(w.push(M.slice(B,C)),w.length===O)return w;for(var N=1;N<=P.length-1;N++)if(w.push(P[N]),w.length===O)return w;C=B=L}}return w.push(M.slice(B)),w}]})},function(l,b,e){var t=e(10),o=e(108).set,i=t.MutationObserver||t.WebKitMutationObserver,n=t.process,r=t.Promise,c=e(37)(n)=="process";l.exports=function(){var a,s,u,h=function(){var f,p;for(c&&(f=n.domain)&&f.exit();a;){p=a.fn,a=a.next;try{p()}catch(y){throw a?u():s=void 0,y}}s=void 0,f&&f.enter()};if(c)u=function(){n.nextTick(h)};else if(!i||t.navigator&&t.navigator.standalone)if(r&&r.resolve){var v=r.resolve(void 0);u=function(){v.then(h)}}else u=function(){o.call(t,h)};else{var g=!0,d=document.createTextNode("");new i(h).observe(d,{characterData:!0}),u=function(){d.data=g=!g}}return function(f){var p={fn:f,next:void 0};s&&(s.next=p),a||(a=p,u()),s=p}}},function(l,b){l.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(l,b,e){var t=e(141),o=e(52);l.exports=e(79)("Map",function(i){return function(){return i(this,arguments.length>0?arguments[0]:void 0)}},{get:function(i){var n=t.getEntry(o(this,"Map"),i);return n&&n.v},set:function(i,n){return t.def(o(this,"Map"),i===0?0:i,n)}},t,!0)},function(l,b,e){var t=e(141),o=e(52);l.exports=e(79)("Set",function(i){return function(){return i(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return t.def(o(this,"Set"),i=i===0?0:i,i)}},t)},function(l,b,e){var t,o=e(10),i=e(36)(0),n=e(21),r=e(41),c=e(121),a=e(142),s=e(13),u=e(52),h=e(52),v=!o.ActiveXObject&&"ActiveXObject"in o,g=r.getWeak,d=Object.isExtensible,f=a.ufstore,p=function(k){return function(){return k(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(k){if(s(k)){var x=g(k);return x===!0?f(u(this,"WeakMap")).get(k):x?x[this._i]:void 0}},set:function(k,x){return a.def(u(this,"WeakMap"),k,x)}},m=l.exports=e(79)("WeakMap",p,y,a,!0,!0);h&&v&&(c((t=a.getConstructor(p,"WeakMap")).prototype,y),r.NEED=!0,i(["delete","has","get","set"],function(k){var x=m.prototype,E=x[k];n(x,k,function(I,M){if(s(I)&&!d(I)){this._f||(this._f=new t);var _=this._f[k](I,M);return k=="set"?this:_}return E.call(this,I,M)})}))},function(l,b,e){var t=e(142),o=e(52);e(79)("WeakSet",function(i){return function(){return i(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return t.def(o(this,"WeakSet"),i,!0)}},t,!1,!0)},function(l,b,e){var t=e(0),o=e(80),i=e(109),n=e(12),r=e(47),c=e(16),a=e(13),s=e(10).ArrayBuffer,u=e(65),h=i.ArrayBuffer,v=i.DataView,g=o.ABV&&s.isView,d=h.prototype.slice,f=o.VIEW;t(t.G+t.W+t.F*(s!==h),{ArrayBuffer:h}),t(t.S+t.F*!o.CONSTR,"ArrayBuffer",{isView:function(p){return g&&g(p)||a(p)&&f in p}}),t(t.P+t.U+t.F*e(11)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(p,y){if(d!==void 0&&y===void 0)return d.call(n(this),p);for(var m=n(this).byteLength,k=r(p,m),x=r(y===void 0?m:y,m),E=new(u(this,h))(c(x-k)),I=new v(this),M=new v(E),_=0;k<x;)M.setUint8(_++,I.getUint8(k++));return E}}),e(56)("ArrayBuffer")},function(l,b,e){var t=e(0);t(t.G+t.W+t.F*!e(80).ABV,{DataView:e(109).DataView})},function(l,b,e){e(39)("Int8",1,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,b,e){e(39)("Uint8",1,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,b,e){e(39)("Uint8",1,function(t){return function(o,i,n){return t(this,o,i,n)}},!0)},function(l,b,e){e(39)("Int16",2,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,b,e){e(39)("Uint16",2,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,b,e){e(39)("Int32",4,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,b,e){e(39)("Uint32",4,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,b,e){e(39)("Float32",4,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,b,e){e(39)("Float64",8,function(t){return function(o,i,n){return t(this,o,i,n)}})},function(l,b,e){var t=e(0),o=e(32),i=e(12),n=(e(10).Reflect||{}).apply,r=Function.apply;t(t.S+t.F*!e(11)(function(){n(function(){})}),"Reflect",{apply:function(c,a,s){var u=o(c),h=i(s);return n?n(u,a,h):r.call(u,a,h)}})},function(l,b,e){var t=e(0),o=e(48),i=e(32),n=e(12),r=e(13),c=e(11),a=e(123),s=(e(10).Reflect||{}).construct,u=c(function(){function v(){}return!(s(function(){},[],v)instanceof v)}),h=!c(function(){s(function(){})});t(t.S+t.F*(u||h),"Reflect",{construct:function(v,g){i(v),n(g);var d=arguments.length<3?v:i(arguments[2]);if(h&&!u)return s(v,g,d);if(v==d){switch(g.length){case 0:return new v;case 1:return new v(g[0]);case 2:return new v(g[0],g[1]);case 3:return new v(g[0],g[1],g[2]);case 4:return new v(g[0],g[1],g[2],g[3])}var f=[null];return f.push.apply(f,g),new(a.apply(v,f))}var p=d.prototype,y=o(r(p)?p:Object.prototype),m=Function.apply.call(v,y,g);return r(m)?m:y}})},function(l,b,e){var t=e(19),o=e(0),i=e(12),n=e(40);o(o.S+o.F*e(11)(function(){Reflect.defineProperty(t.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(r,c,a){i(r),c=n(c,!0),i(a);try{return t.f(r,c,a),!0}catch{return!1}}})},function(l,b,e){var t=e(0),o=e(34).f,i=e(12);t(t.S,"Reflect",{deleteProperty:function(n,r){var c=o(i(n),r);return!(c&&!c.configurable)&&delete n[r]}})},function(l,b,e){var t=e(0),o=e(12),i=function(n){this._t=o(n),this._i=0;var r,c=this._k=[];for(r in n)c.push(r)};e(130)(i,"Object",function(){var n,r=this._k;do if(this._i>=r.length)return{value:void 0,done:!0};while(!((n=r[this._i++])in this._t));return{value:n,done:!1}}),t(t.S,"Reflect",{enumerate:function(n){return new i(n)}})},function(l,b,e){var t=e(34),o=e(50),i=e(26),n=e(0),r=e(13),c=e(12);n(n.S,"Reflect",{get:function a(s,u){var h,v,g=arguments.length<3?s:arguments[2];return c(s)===g?s[u]:(h=t.f(s,u))?i(h,"value")?h.value:h.get!==void 0?h.get.call(g):void 0:r(v=o(s))?a(v,u,g):void 0}})},function(l,b,e){var t=e(34),o=e(0),i=e(12);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(n,r){return t.f(i(n),r)}})},function(l,b,e){var t=e(0),o=e(50),i=e(12);t(t.S,"Reflect",{getPrototypeOf:function(n){return o(i(n))}})},function(l,b,e){var t=e(0);t(t.S,"Reflect",{has:function(o,i){return i in o}})},function(l,b,e){var t=e(0),o=e(12),i=Object.isExtensible;t(t.S,"Reflect",{isExtensible:function(n){return o(n),!i||i(n)}})},function(l,b,e){var t=e(0);t(t.S,"Reflect",{ownKeys:e(144)})},function(l,b,e){var t=e(0),o=e(12),i=Object.preventExtensions;t(t.S,"Reflect",{preventExtensions:function(n){o(n);try{return i&&i(n),!0}catch{return!1}}})},function(l,b,e){var t=e(19),o=e(34),i=e(50),n=e(26),r=e(0),c=e(43),a=e(12),s=e(13);r(r.S,"Reflect",{set:function u(h,v,g){var d,f,p=arguments.length<4?h:arguments[3],y=o.f(a(h),v);if(!y){if(s(f=i(h)))return u(f,v,g,p);y=c(0)}if(n(y,"value")){if(y.writable===!1||!s(p))return!1;if(d=o.f(p,v)){if(d.get||d.set||d.writable===!1)return!1;d.value=g,t.f(p,v,d)}else t.f(p,v,c(0,g));return!0}return y.set!==void 0&&(y.set.call(p,g),!0)}})},function(l,b,e){var t=e(0),o=e(90);o&&t(t.S,"Reflect",{setPrototypeOf:function(i,n){o.check(i,n);try{return o.set(i,n),!0}catch{return!1}}})},function(l,b,e){e(334),l.exports=e(17).Array.includes},function(l,b,e){var t=e(0),o=e(70)(!0);t(t.P,"Array",{includes:function(i){return o(this,i,arguments.length>1?arguments[1]:void 0)}}),e(51)("includes")},function(l,b,e){e(336),l.exports=e(17).Array.flatMap},function(l,b,e){var t=e(0),o=e(337),i=e(20),n=e(16),r=e(32),c=e(132);t(t.P,"Array",{flatMap:function(a){var s,u,h=i(this);return r(a),s=n(h.length),u=c(h,0),o(u,h,h,s,0,1,a,arguments[1]),u}}),e(51)("flatMap")},function(l,b,e){var t=e(72),o=e(13),i=e(16),n=e(31),r=e(15)("isConcatSpreadable");l.exports=function c(a,s,u,h,v,g,d,f){for(var p,y,m=v,k=0,x=!!d&&n(d,f,3);k<h;){if(k in u){if(p=x?x(u[k],k,s):u[k],y=!1,o(p)&&(y=(y=p[r])!==void 0?!!y:t(p)),y&&g>0)m=c(a,s,p,i(p.length),m,g-1)-1;else{if(m>=9007199254740991)throw TypeError();a[m]=p}m++}k++}return m}},function(l,b,e){e(339),l.exports=e(17).String.padStart},function(l,b,e){var t=e(0),o=e(145),i=e(78),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);t(t.P+t.F*n,"String",{padStart:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0,!0)}})},function(l,b,e){e(341),l.exports=e(17).String.padEnd},function(l,b,e){var t=e(0),o=e(145),i=e(78),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);t(t.P+t.F*n,"String",{padEnd:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0,!1)}})},function(l,b,e){e(343),l.exports=e(17).String.trimLeft},function(l,b,e){e(54)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(l,b,e){e(345),l.exports=e(17).String.trimRight},function(l,b,e){e(54)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(l,b,e){e(347),l.exports=e(86).f("asyncIterator")},function(l,b,e){e(117)("asyncIterator")},function(l,b,e){e(349),l.exports=e(17).Object.getOwnPropertyDescriptors},function(l,b,e){var t=e(0),o=e(144),i=e(28),n=e(34),r=e(102);t(t.S,"Object",{getOwnPropertyDescriptors:function(c){for(var a,s,u=i(c),h=n.f,v=o(u),g={},d=0;v.length>d;)(s=h(u,a=v[d++]))!==void 0&&r(g,a,s);return g}})},function(l,b,e){e(351),l.exports=e(17).Object.values},function(l,b,e){var t=e(0),o=e(146)(!1);t(t.S,"Object",{values:function(i){return o(i)}})},function(l,b,e){e(353),l.exports=e(17).Object.entries},function(l,b,e){var t=e(0),o=e(146)(!0);t(t.S,"Object",{entries:function(i){return o(i)}})},function(l,b,e){e(138),e(355),l.exports=e(17).Promise.finally},function(l,b,e){var t=e(0),o=e(17),i=e(10),n=e(65),r=e(140);t(t.P+t.R,"Promise",{finally:function(c){var a=n(this,o.Promise||i.Promise),s=typeof c=="function";return this.then(s?function(u){return r(a,c()).then(function(){return u})}:c,s?function(u){return r(a,c()).then(function(){throw u})}:c)}})},function(l,b,e){e(357),e(358),e(359),l.exports=e(17)},function(l,b,e){var t=e(10),o=e(0),i=e(78),n=[].slice,r=/MSIE .\./.test(i),c=function(a){return function(s,u){var h=arguments.length>2,v=!!h&&n.call(arguments,2);return a(h?function(){(typeof s=="function"?s:Function(s)).apply(this,v)}:s,u)}};o(o.G+o.B+o.F*r,{setTimeout:c(t.setTimeout),setInterval:c(t.setInterval)})},function(l,b,e){var t=e(0),o=e(108);t(t.G+t.B,{setImmediate:o.set,clearImmediate:o.clear})},function(l,b,e){for(var t=e(105),o=e(46),i=e(21),n=e(10),r=e(27),c=e(55),a=e(15),s=a("iterator"),u=a("toStringTag"),h=c.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(v),d=0;d<g.length;d++){var f,p=g[d],y=v[p],m=n[p],k=m&&m.prototype;if(k&&(k[s]||r(k,s,h),k[u]||r(k,u,p),c[p]=h,y))for(f in t)k[f]||i(k,f,t[f],!0)}},function(l,b,e){var t,o,i;o=[b,e(30),e(2),e(3),e(364),e(366),e(367),e(7)],(i=typeof(t=function(n,r,c,a,s,u,h,v){var g=e(8),d=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=d(r),c=d(c),a=d(a),h=d(h),v=g(v);var f=function(){function p(y){var m=this;(0,c.default)(this,p);var k=function(){};v.isObject(y)&&v.isFunction(y.onReady)&&(k=y.onReady);var x=new h.default(y);this.isReady=x.isReady.then(function(){m.exportAPI(x),k()})}return(0,a.default)(p,[{key:"exportAPI",value:function(y){var m=this;["configuration"].forEach(function(k){m[k]=y[k]}),this.destroy=function(){for(var k in Object.values(y.moduleInstances).forEach(function(x){v.isFunction(x.destroy)&&x.destroy(),x.listeners.removeAll()}),y=null,m)Object.prototype.hasOwnProperty.call(m,k)&&delete m[k];Object.setPrototypeOf(m,null)},Object.setPrototypeOf(this,y.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(function(k){var x=(0,r.default)(k,2),E=x[0],I=x[1];Object.entries(I).forEach(function(M){var _=(0,r.default)(M,2),T=_[0],S=_[1];m[S]=y.moduleInstances.API.methods[E][T]})})}}],[{key:"version",get:function(){return"2.24.3"}}]),p}();n.default=f,f.displayName="EditorJS",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b){l.exports=function(e){if(Array.isArray(e))return e}},function(l,b){l.exports=function(e,t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e)){var o=[],i=!0,n=!1,r=void 0;try{for(var c,a=e[Symbol.iterator]();!(i=(c=a.next()).done)&&(o.push(c.value),!t||o.length!==t);i=!0);}catch(s){n=!0,r=s}finally{try{i||a.return==null||a.return()}finally{if(n)throw r}}return o}}},function(l,b){l.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(l,b,e){(b=l.exports=function(...i){return o(...i)}).__esModule=!0;const t=e(365),o=t.default;Object.assign(b,t)},function(l,b,e){Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(){},b.revert=function(){}},function(l,b,e){var t,o,i;o=[],(i=typeof(t=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){for(var r=(this.document||this.ownerDocument).querySelectorAll(n),c=r.length;--c>=0&&r.item(c)!==this;);return c>-1}),Element.prototype.closest||(Element.prototype.closest=function(n){var r=this;if(!document.documentElement.contains(r))return null;do{if(r.matches(n))return r;r=r.parentElement||r.parentNode}while(r!==null);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(n){var r=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(function(c){var a=c instanceof Node;r.appendChild(a?c:document.createTextNode(c))}),this.insertBefore(r,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(n){n=arguments.length===0||!!n;var r=this.parentNode,c=window.getComputedStyle(r,null),a=parseInt(c.getPropertyValue("border-top-width")),s=parseInt(c.getPropertyValue("border-left-width")),u=this.offsetTop-r.offsetTop<r.scrollTop,h=this.offsetTop-r.offsetTop+this.clientHeight-a>r.scrollTop+r.clientHeight,v=this.offsetLeft-r.offsetLeft<r.scrollLeft,g=this.offsetLeft-r.offsetLeft+this.clientWidth-s>r.scrollLeft+r.clientWidth,d=u&&!h;(u||h)&&n&&(r.scrollTop=this.offsetTop-r.offsetTop-r.clientHeight/2-a+this.clientHeight/2),(v||g)&&n&&(r.scrollLeft=this.offsetLeft-r.offsetLeft-r.clientWidth/2-s+this.clientWidth/2),(u||h||v||g)&&!n&&this.scrollIntoView(d)})})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(23),e(24),e(2),e(3),e(14),e(7),e(60),e(151),e(81)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d){var f=e(8),p=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=p(r),c=p(c),a=p(a),s=p(s),u=p(u),h=f(h),v=p(v),d=p(d);var y=e(375),m=[];y.keys().forEach(function(x){x.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&m.push(y(x))});var k=function(){function x(M){var _,T,S=this;(0,a.default)(this,x),this.moduleInstances={},this.eventsDispatcher=new d.default,this.isReady=new Promise(function(R,O){_=R,T=O}),Promise.resolve().then((0,c.default)(r.default.mark(function R(){return r.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return S.configuration=M,O.next=3,S.validate();case 3:return O.next=5,S.init();case 5:return O.next=7,S.start();case 7:h.logLabeled("I'm ready! (\uFF89\u25D5\u30EE\u25D5)\uFF89*:\uFF65\uFF9F\u2727","log","","color: #E24A75"),setTimeout((0,c.default)(r.default.mark(function B(){var C,w,L;return r.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,S.render();case 2:S.configuration.autofocus&&(C=S.moduleInstances,w=C.BlockManager,(L=C.Caret).setToBlock(w.blocks[0],L.positions.START),w.highlightCurrentNode()),S.moduleInstances.UI.removeLoader(),_();case 5:case"end":return P.stop()}},B)})),500);case 9:case"end":return O.stop()}},R)}))).catch(function(R){h.log("Editor.js is not ready because of ".concat(R),"error"),T(R)})}var E,I;return(0,s.default)(x,[{key:"validate",value:(I=(0,c.default)(r.default.mark(function M(){var _,T,S;return r.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(_=this.config,T=_.holderId,S=_.holder,!T||!S){R.next=3;break}throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");case 3:if(!h.isString(S)||u.default.get(S)){R.next=5;break}throw Error("element with ID \xAB".concat(S,"\xBB is missing. Pass correct holder's ID."));case 5:if(!S||!h.isObject(S)||u.default.isElement(S)){R.next=7;break}throw Error("\xABholder\xBB value must be an Element node");case 7:case"end":return R.stop()}},M,this)})),function(){return I.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(E=(0,c.default)(r.default.mark(function M(){var _,T=this;return r.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return _=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],S.next=3,_.reduce(function(R,O){return R.then((0,c.default)(r.default.mark(function B(){return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,T.moduleInstances[O].prepare();case 3:C.next=10;break;case 5:if(C.prev=5,C.t0=C.catch(0),!(C.t0 instanceof g.CriticalError)){C.next=9;break}throw new Error(C.t0.message);case 9:h.log("Module ".concat(O," was skipped because of %o"),"warn",C.t0);case 10:case"end":return C.stop()}},B,null,[[0,5]])})))},Promise.resolve());case 3:case"end":return S.stop()}},M)})),function(){return E.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var M=this;m.forEach(function(_){var T=h.isFunction(_)?_:_.default;try{M.moduleInstances[T.displayName]=new T({config:M.configuration,eventsDispatcher:M.eventsDispatcher})}catch(S){h.log("Module ".concat(T.displayName," skipped because"),"error",S)}})}},{key:"configureModules",value:function(){for(var M in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,M)&&(this.moduleInstances[M].state=this.getModulesDiff(M))}},{key:"getModulesDiff",value:function(M){var _={};for(var T in this.moduleInstances)T!==M&&(_[T]=this.moduleInstances[T]);return _}},{key:"configuration",set:function(M){var _,T;h.isObject(M)?this.config=Object.assign({},M):this.config={holder:M},h.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=h.LogLevels.VERBOSE),h.setLogLevel(this.config.logLevel),h.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;var S={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=this.config.inlineToolbar===void 0||this.config.inlineToolbar,!h.isEmpty(this.config.data)&&this.config.data.blocks&&this.config.data.blocks.length!==0||(this.config.data={blocks:[S]}),this.config.readOnly=this.config.readOnly||!1,!((_=this.config.i18n)===null||_===void 0)&&_.messages&&v.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((T=this.config.i18n)===null||T===void 0?void 0:T.direction)||"ltr"},get:function(){return this.config}}]),x}();n.default=k,k.displayName="Core",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t=e(149);l.exports=function(o){if(Array.isArray(o))return t(o)}},function(l,b){l.exports=function(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}},function(l,b){l.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(l,b){l.exports=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},function(l,b){l.exports=function(e){return Function.toString.call(e).indexOf("[native code]")!==-1}},function(l,b,e){var t=e(110),o=e(374);function i(n,r,c){return o()?l.exports=i=Reflect.construct:l.exports=i=function(a,s,u){var h=[null];h.push.apply(h,s);var v=new(Function.bind.apply(a,h));return u&&t(v,u.prototype),v},i.apply(null,arguments)}l.exports=i},function(l,b){l.exports=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}},function(l,b,e){var t={"./api":82,"./api/":82,"./api/blocks":154,"./api/blocks.ts":154,"./api/caret":155,"./api/caret.ts":155,"./api/events":156,"./api/events.ts":156,"./api/i18n":157,"./api/i18n.ts":157,"./api/index":82,"./api/index.ts":82,"./api/inlineToolbar":158,"./api/inlineToolbar.ts":158,"./api/listeners":159,"./api/listeners.ts":159,"./api/notifier":160,"./api/notifier.ts":160,"./api/readonly":161,"./api/readonly.ts":161,"./api/sanitizer":162,"./api/sanitizer.ts":162,"./api/saver":163,"./api/saver.ts":163,"./api/selection":164,"./api/selection.ts":164,"./api/styles":165,"./api/styles.ts":165,"./api/toolbar":166,"./api/toolbar.ts":166,"./api/tooltip":167,"./api/tooltip.ts":167,"./api/ui":168,"./api/ui.ts":168,"./blockEvents":169,"./blockEvents.ts":169,"./blockManager":170,"./blockManager.ts":170,"./blockSelection":171,"./blockSelection.ts":171,"./caret":172,"./caret.ts":172,"./crossBlockSelection":173,"./crossBlockSelection.ts":173,"./dragNDrop":174,"./dragNDrop.ts":174,"./modificationsObserver":175,"./modificationsObserver.ts":175,"./paste":176,"./paste.ts":176,"./readonly":177,"./readonly.ts":177,"./rectangleSelection":178,"./rectangleSelection.ts":178,"./renderer":179,"./renderer.ts":179,"./saver":180,"./saver.ts":180,"./toolbar":83,"./toolbar/":83,"./toolbar/blockSettings":181,"./toolbar/blockSettings.ts":181,"./toolbar/conversion":182,"./toolbar/conversion.ts":182,"./toolbar/index":83,"./toolbar/index.ts":83,"./toolbar/inline":183,"./toolbar/inline.ts":183,"./tools":184,"./tools.ts":184,"./ui":186,"./ui.ts":186};function o(n){var r=i(n);return e(r)}function i(n){if(!e.o(t,n)){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}return t[n]}o.keys=function(){return Object.keys(t)},o.resolve=i,l.exports=o,o.id=375},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(377)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(){(0,r.default)(this,h)}return(0,c.default)(h,[{key:"show",value:function(v){a.default.show(v)}}]),h}();n.default=u,u.displayName="Notifier",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,c){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:c})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var a in n)i.d(c,a,function(s){return n[s]}.bind(null,a));return c},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="/",i(i.s=0)}([function(t,o,i){i(1),t.exports=function(){var n=i(6),r=null;return{show:function(c){if(c.message){(function(){if(r)return!0;r=n.getWrapper(),document.body.appendChild(r)})();var a=null,s=c.time||8e3;switch(c.type){case"confirm":a=n.confirm(c);break;case"prompt":a=n.prompt(c);break;default:a=n.alert(c),window.setTimeout(function(){a.remove()},s)}r.appendChild(a),a.classList.add("cdx-notify--bounce-in")}}}}()},function(t,o,i){var n=i(2);typeof n=="string"&&(n=[[t.i,n,""]]),i(4)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(t.exports=n.locals)},function(t,o,i){(t.exports=i(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,o){t.exports=function(i){var n=[];return n.toString=function(){return this.map(function(r){var c=function(a,s){var u,h=a[1]||"",v=a[3];if(!v)return h;if(s&&typeof btoa=="function"){var g=(u=v,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(u))))+" */"),d=v.sources.map(function(f){return"/*# sourceURL="+v.sourceRoot+f+" */"});return[h].concat(d).concat([g]).join(`
`)}return[h].join(`
`)}(r,i);return r[2]?"@media "+r[2]+"{"+c+"}":c}).join("")},n.i=function(r,c){typeof r=="string"&&(r=[[null,r,""]]);for(var a={},s=0;s<this.length;s++){var u=this[s][0];typeof u=="number"&&(a[u]=!0)}for(s=0;s<r.length;s++){var h=r[s];typeof h[0]=="number"&&a[h[0]]||(c&&!h[2]?h[2]=c:c&&(h[2]="("+h[2]+") and ("+c+")"),n.push(h))}},n}},function(t,o,i){var n,r,c={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),s=function(_){var T={};return function(S){if(typeof S=="function")return S();if(T[S]===void 0){var R=function(O){return document.querySelector(O)}.call(this,S);if(window.HTMLIFrameElement&&R instanceof window.HTMLIFrameElement)try{R=R.contentDocument.head}catch{R=null}T[S]=R}return T[S]}}(),u=null,h=0,v=[],g=i(5);function d(_,T){for(var S=0;S<_.length;S++){var R=_[S],O=c[R.id];if(O){O.refs++;for(var B=0;B<O.parts.length;B++)O.parts[B](R.parts[B]);for(;B<R.parts.length;B++)O.parts.push(x(R.parts[B],T))}else{var C=[];for(B=0;B<R.parts.length;B++)C.push(x(R.parts[B],T));c[R.id]={id:R.id,refs:1,parts:C}}}}function f(_,T){for(var S=[],R={},O=0;O<_.length;O++){var B=_[O],C=T.base?B[0]+T.base:B[0],w={css:B[1],media:B[2],sourceMap:B[3]};R[C]?R[C].parts.push(w):S.push(R[C]={id:C,parts:[w]})}return S}function p(_,T){var S=s(_.insertInto);if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=v[v.length-1];if(_.insertAt==="top")R?R.nextSibling?S.insertBefore(T,R.nextSibling):S.appendChild(T):S.insertBefore(T,S.firstChild),v.push(T);else if(_.insertAt==="bottom")S.appendChild(T);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var O=s(_.insertInto+" "+_.insertAt.before);S.insertBefore(T,O)}}function y(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var T=v.indexOf(_);T>=0&&v.splice(T,1)}function m(_){var T=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),k(T,_.attrs),p(_,T),T}function k(_,T){Object.keys(T).forEach(function(S){_.setAttribute(S,T[S])})}function x(_,T){var S,R,O,B;if(T.transform&&_.css){if(!(B=T.transform(_.css)))return function(){};_.css=B}if(T.singleton){var C=h++;S=u||(u=m(T)),R=M.bind(null,S,C,!1),O=M.bind(null,S,C,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(S=function(w){var L=document.createElement("link");return w.attrs.type===void 0&&(w.attrs.type="text/css"),w.attrs.rel="stylesheet",k(L,w.attrs),p(w,L),L}(T),R=function(w,L,P){var N=P.css,A=P.sourceMap,D=L.convertToAbsoluteUrls===void 0&&A;(L.convertToAbsoluteUrls||D)&&(N=g(N)),A&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */");var H=new Blob([N],{type:"text/css"}),j=w.href;w.href=URL.createObjectURL(H),j&&URL.revokeObjectURL(j)}.bind(null,S,T),O=function(){y(S),S.href&&URL.revokeObjectURL(S.href)}):(S=m(T),R=function(w,L){var P=L.css,N=L.media;if(N&&w.setAttribute("media",N),w.styleSheet)w.styleSheet.cssText=P;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(P))}}.bind(null,S),O=function(){y(S)});return R(_),function(w){if(w){if(w.css===_.css&&w.media===_.media&&w.sourceMap===_.sourceMap)return;R(_=w)}else O()}}t.exports=function(_,T){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=a()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var S=f(_,T);return d(S,T),function(R){for(var O=[],B=0;B<S.length;B++){var C=S[B];(w=c[C.id]).refs--,O.push(w)}for(R&&d(f(R,T),T),B=0;B<O.length;B++){var w;if((w=O[B]).refs===0){for(var L=0;L<w.parts.length;L++)w.parts[L]();delete c[w.id]}}}};var E,I=(E=[],function(_,T){return E[_]=T,E.filter(Boolean).join(`
`)});function M(_,T,S,R){var O=S?"":R.css;if(_.styleSheet)_.styleSheet.cssText=I(T,O);else{var B=document.createTextNode(O),C=_.childNodes;C[T]&&_.removeChild(C[T]),C.length?_.insertBefore(B,C[T]):_.appendChild(B)}}},function(t,o){t.exports=function(i){var n=typeof window!="undefined"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var r=n.protocol+"//"+n.host,c=r+n.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,s){var u,h=s.trim().replace(/^"(.*)"$/,function(v,g){return g}).replace(/^'(.*)'$/,function(v,g){return g});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?a:(u=h.indexOf("//")===0?h:h.indexOf("/")===0?r+h:c+h.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(t,o,i){var n,r,c,a,s,u;t.exports=(n="cdx-notify",r="cdx-notify__cross",c="cdx-notify__button--confirm",a="cdx-notify__button",s="cdx-notify__btns-wrapper",{alert:u=function(h){var v=document.createElement("DIV"),g=document.createElement("DIV"),d=h.message,f=h.style;return v.classList.add(n),f&&v.classList.add(n+"--"+f),v.innerHTML=d,g.classList.add(r),g.addEventListener("click",v.remove.bind(v)),v.appendChild(g),v},confirm:function(h){var v=u(h),g=document.createElement("div"),d=document.createElement("button"),f=document.createElement("button"),p=v.querySelector("."+r),y=h.cancelHandler,m=h.okHandler;return g.classList.add(s),d.innerHTML=h.okText||"Confirm",f.innerHTML=h.cancelText||"Cancel",d.classList.add(a),f.classList.add(a),d.classList.add(c),f.classList.add("cdx-notify__button--cancel"),y&&typeof y=="function"&&(f.addEventListener("click",y),p.addEventListener("click",y)),m&&typeof m=="function"&&d.addEventListener("click",m),d.addEventListener("click",v.remove.bind(v)),f.addEventListener("click",v.remove.bind(v)),g.appendChild(d),g.appendChild(f),v.appendChild(g),v},prompt:function(h){var v=u(h),g=document.createElement("div"),d=document.createElement("button"),f=document.createElement("input"),p=v.querySelector("."+r),y=h.cancelHandler,m=h.okHandler;return g.classList.add(s),d.innerHTML=h.okText||"Ok",d.classList.add(a),d.classList.add(c),f.classList.add("cdx-notify__input"),h.placeholder&&f.setAttribute("placeholder",h.placeholder),h.default&&(f.value=h.default),h.inputType&&(f.type=h.inputType),y&&typeof y=="function"&&p.addEventListener("click",y),m&&typeof m=="function"&&d.addEventListener("click",function(){m(f.value)}),d.addEventListener("click",v.remove.bind(v)),g.appendChild(f),g.appendChild(d),v.appendChild(g),v},getWrapper:function(){var h=document.createElement("DIV");return h.classList.add("cdx-notifies"),h}})}])},function(l,b,e){var t,o;(o=typeof(t=function(){function i(v){var g=v.tags;if(!Object.keys(g).map(function(d){return typeof g[d]}).every(function(d){return d==="object"||d==="boolean"||d==="function"}))throw new Error("The configuration was invalid");this.config=v}var n=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function r(v){return n.indexOf(v.nodeName)!==-1}var c=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function a(v){return c.indexOf(v.nodeName)!==-1}function s(v,g,d){return typeof v.tags[g]=="function"?v.tags[g](d):v.tags[g]}function u(v,g){return g===void 0||typeof g=="boolean"&&!g}function h(v,g,d){var f=v.name.toLowerCase();return g!==!0&&(typeof g[f]=="function"?!g[f](v.value,d):g[f]===void 0||g[f]===!1||typeof g[f]=="string"&&g[f]!==v.value)}return i.prototype.clean=function(v){const g=document.implementation.createHTMLDocument(),d=g.createElement("div");return d.innerHTML=v,this._sanitize(g,d),d.innerHTML},i.prototype._sanitize=function(v,g){var d=function(_,T){return _.createTreeWalker(T,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(v,g),f=d.firstChild();if(f)do if(f.nodeType!==Node.TEXT_NODE){if(f.nodeType===Node.COMMENT_NODE){g.removeChild(f),this._sanitize(v,g);break}var p,y=a(f);y&&(p=Array.prototype.some.call(f.childNodes,r));var m=!!g.parentNode,k=r(g)&&r(f)&&m,x=f.nodeName.toLowerCase(),E=s(this.config,x,f);if(y&&p||u(0,E)||!this.config.keepNestedBlockElements&&k){if(f.nodeName!=="SCRIPT"&&f.nodeName!=="STYLE")for(;f.childNodes.length>0;)g.insertBefore(f.childNodes[0],f);g.removeChild(f),this._sanitize(v,g);break}for(var I=0;I<f.attributes.length;I+=1){var M=f.attributes[I];h(M,E,f)&&(f.removeAttribute(M.name),I-=1)}this._sanitize(v,f)}else if(f.data.trim()===""&&(f.previousElementSibling&&r(f.previousElementSibling)||f.nextElementSibling&&r(f.nextElementSibling))){g.removeChild(f),this._sanitize(v,g);break}while(f=d.nextSibling())},i})=="function"?t.call(b,e,b,l):t)===void 0||(l.exports=o)},function(l,b,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,c){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:c})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var a in n)i.d(c,a,function(s){return n[s]}.bind(null,a));return c},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="",i(i.s=0)}([function(t,o,i){t.exports=i(1)},function(t,o,i){i.r(o),i.d(o,"default",function(){return n});class n{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(c,a,s){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},s);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof a=="string")this.nodes.content.appendChild(document.createTextNode(a));else{if(!(a instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof a+" given.");this.nodes.content.appendChild(a)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(c,u);break;case"left":this.placeLeft(c,u);break;case"right":this.placeRight(c,u);break;case"bottom":default:this.placeBottom(c,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(c=!1){if(this.hidingDelay&&!c)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(c,a,s){c.addEventListener("mouseenter",()=>{this.show(c,a,s)}),c.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const c="codex-tooltips-style";if(document.getElementById(c))return;const a=i(2),s=this.make("style",null,{textContent:a.toString(),id:c});this.prepend(document.head,s)}placeBottom(c,a){const s=c.getBoundingClientRect(),u=s.left+c.clientWidth/2-this.nodes.wrapper.offsetWidth/2,h=s.bottom+window.pageYOffset+this.offsetTop+a.marginTop;this.applyPlacement("bottom",u,h)}placeTop(c,a){const s=c.getBoundingClientRect(),u=s.left+c.clientWidth/2-this.nodes.wrapper.offsetWidth/2,h=s.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,h)}placeLeft(c,a){const s=c.getBoundingClientRect(),u=s.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-a.marginLeft,h=s.top+window.pageYOffset+c.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,h)}placeRight(c,a){const s=c.getBoundingClientRect(),u=s.right+this.offsetRight+a.marginRight,h=s.top+window.pageYOffset+c.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,h)}applyPlacement(c,a,s){this.nodes.wrapper.classList.add(this.CSS.placement[c]),this.nodes.wrapper.style.left=a+"px",this.nodes.wrapper.style.top=s+"px"}make(c,a=null,s={}){const u=document.createElement(c);Array.isArray(a)?u.classList.add(...a):a&&u.classList.add(a);for(const h in s)s.hasOwnProperty(h)&&(u[h]=s[h]);return u}append(c,a){Array.isArray(a)?a.forEach(s=>c.appendChild(s)):c.appendChild(a)}prepend(c,a){Array.isArray(a)?(a=a.reverse()).forEach(s=>c.prepend(s)):c.prepend(a)}}},function(t,o){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(14),e(7),e(25)],(i=typeof(t=function(n,r,c,a,s,u){var h=e(8),v=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=h(s),u=v(u);var g=function(){function d(f,p){(0,r.default)(this,d),this.cursor=-1,this.items=[],this.items=f||[],this.focusedCssClass=p}return(0,c.default)(d,[{key:"setItems",value:function(f){this.items=f}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(d.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(d.directions.LEFT)}},{key:"dropCursor",value:function(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(f){var p=this;if(this.items.length===0)return this.cursor;var y=this.cursor;return y===-1?y=f===d.directions.RIGHT?-1:0:this.items[y].classList.remove(this.focusedCssClass),y=f===d.directions.RIGHT?(y+1)%this.items.length:(this.items.length+y-1)%this.items.length,a.default.canSetCaret(this.items[y])&&s.delay(function(){return u.default.setCursor(p.items[y])},50)(),this.items[y].classList.add(this.focusedCssClass),y}},{key:"currentItem",get:function(){return this.cursor===-1?null:this.items[this.cursor]}}]),d}();n.default=g,g.displayName="DomIterator",g.directions={RIGHT:"right",LEFT:"left"},l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t=e(4);l.exports=function(o,i){for(;!Object.prototype.hasOwnProperty.call(o,i)&&(o=t(o))!==null;);return o}},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(7),e(14),e(67)],(i=typeof(t=function(n,r,c,a,s,u){var h=e(8),v=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=h(a),s=v(s);var g=function(){function d(f){(0,r.default)(this,d),this.blocks=[],this.workingArea=f}return(0,c.default)(d,[{key:"push",value:function(f){this.blocks.push(f),this.insertToDOM(f)}},{key:"swap",value:function(f,p){var y=this.blocks[p];s.default.swap(this.blocks[f].holder,y.holder),this.blocks[p]=this.blocks[f],this.blocks[f]=y}},{key:"move",value:function(f,p){var y=this.blocks.splice(p,1)[0],m=f-1,k=Math.max(0,m),x=this.blocks[k];f>0?this.insertToDOM(y,"afterend",x):this.insertToDOM(y,"beforebegin",x),this.blocks.splice(f,0,y);var E=this.composeBlockEvent("move",{fromIndex:p,toIndex:f});y.call(u.BlockToolAPI.MOVED,E)}},{key:"insert",value:function(f,p){var y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this.length){f>this.length&&(f=this.length),y&&(this.blocks[f].holder.remove(),this.blocks[f].call(u.BlockToolAPI.REMOVED));var m=y?1:0;if(this.blocks.splice(f,m,p),f>0){var k=this.blocks[f-1];this.insertToDOM(p,"afterend",k)}else{var x=this.blocks[f+1];x?this.insertToDOM(p,"beforebegin",x):this.insertToDOM(p)}}else this.push(p)}},{key:"remove",value:function(f){isNaN(f)&&(f=this.length-1),this.blocks[f].holder.remove(),this.blocks[f].call(u.BlockToolAPI.REMOVED),this.blocks.splice(f,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach(function(f){return f.call(u.BlockToolAPI.REMOVED)}),this.blocks.length=0}},{key:"insertAfter",value:function(f,p){var y=this.blocks.indexOf(f);this.insert(y+1,p)}},{key:"get",value:function(f){return this.blocks[f]}},{key:"indexOf",value:function(f){return this.blocks.indexOf(f)}},{key:"insertToDOM",value:function(f,p,y){p?y.holder.insertAdjacentElement(p,f.holder):this.workingArea.appendChild(f.holder),f.call(u.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(f,p){return new CustomEvent(f,{detail:p})}},{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return a.array(this.workingArea.children)}}],[{key:"set",value:function(f,p,y){return isNaN(Number(p))?(Reflect.set(f,p,y),!0):(f.insert(+p,y),!0)}},{key:"get",value:function(f,p){return isNaN(Number(p))?Reflect.get(f,p):f.get(+p)}}]),d}();n.default=g,g.displayName="Blocks",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b],(i=typeof(t=function(n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.BlockMutationType=void 0,n.BlockMutationType=r,function(c){c.Added="block-added",c.Removed="block-removed",c.Moved="block-moved",c.Changed="block-changed"}(r||(n.BlockMutationType=r={}))})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,c){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:c})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var a in n)i.d(c,a,function(s){return n[s]}.bind(null,a));return c},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="",i(i.s=0)}([function(t,o,i){function n(a,s){for(var u=0;u<s.length;u++){var h=s[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function r(a,s,u){return s&&n(a.prototype,s),u&&n(a,u),a}i.r(o);var c=function(){function a(s){var u=this;(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,a),this.commands={},this.keys={},this.name=s.name,this.parseShortcutName(s.name),this.element=s.on,this.callback=s.callback,this.executeShortcut=function(h){u.execute(h)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return r(a,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),r(a,[{key:"parseShortcutName",value:function(s){s=s.split("+");for(var u=0;u<s.length;u++){s[u]=s[u].toUpperCase();var h=!1;for(var v in a.supportedCommands)if(a.supportedCommands[v].includes(s[u])){h=this.commands[v]=!0;break}h||(this.keys[s[u]]=!0)}for(var g in a.supportedCommands)this.commands[g]||(this.commands[g]=!1)}},{key:"execute",value:function(s){var u,h={CMD:s.ctrlKey||s.metaKey,SHIFT:s.shiftKey,ALT:s.altKey},v=!0;for(u in this.commands)this.commands[u]!==h[u]&&(v=!1);var g,d=!0;for(g in this.keys)d=d&&s.keyCode===a.keyCodes[g];v&&d&&this.callback(s)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),a}();o.default=c}]).default},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(114),e(5),e(6),e(4),e(59),e(7),e(67),e(115),e(81),e(386),e(60),e(84)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m,k){var x=e(8),E=e(1);function I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ToolboxEvent=void 0,r=E(r),c=E(c),a=E(a),s=E(s),u=E(u),h=E(h),v=E(v),g=x(g),f=E(f),p=E(p),y=x(y),m=E(m);var M,_=function(S,R,O,B){var C,w=arguments.length,L=w<3?R:B===null?B=Object.getOwnPropertyDescriptor(R,O):B;if((typeof Reflect=="undefined"?"undefined":(0,v.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(S,R,O,B);else for(var P=S.length-1;P>=0;P--)(C=S[P])&&(L=(w<3?C(L):w>3?C(R,O,L):C(R,O))||L);return w>3&&L&&Object.defineProperty(R,O,L),L};n.ToolboxEvent=M,function(S){S.Opened="toolbox-opened",S.Closed="toolbox-closed",S.BlockAdded="toolbox-block-added"}(M||(n.ToolboxEvent=M={}));var T=function(S){(0,s.default)(B,S);var R,O=(R=B,function(){var C,w=(0,h.default)(R);if(I()){var L=(0,h.default)(this).constructor;C=Reflect.construct(w,arguments,L)}else C=w.apply(this,arguments);return(0,u.default)(this,C)});function B(C){var w,L=C.api,P=C.tools,N=C.i18nLabels;return(0,r.default)(this,B),(w=O.call(this)).opened=!1,w.nodes={toolbox:null},w.clickListenerId=null,w.onOverlayClicked=function(){w.close()},w.api=L,w.tools=P,w.i18nLabels=N,w}return(0,c.default)(B,[{key:"make",value:function(){var C=this;return this.popover=new y.default({className:B.CSS.toolbox,searchable:!0,filterLabel:this.i18nLabels.filter,nothingFoundLabel:this.i18nLabels.nothingFound,items:this.toolsToBeDisplayed.map(function(w){return{icon:w.toolbox.icon,label:m.default.t(k.I18nInternalNS.toolNames,w.toolbox.title||g.capitalize(w.name)),name:w.name,onClick:function(L){C.toolButtonActivated(w.name)},secondaryLabel:w.shortcut?g.beautifyShortcut(w.shortcut):""}})}),this.popover.on(y.PopoverEvent.OverlayClicked,this.onOverlayClicked),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox}},{key:"hasFocus",value:function(){return this.popover.hasFocus()}},{key:"destroy",value:function(){(0,a.default)((0,h.default)(B.prototype),"destroy",this).call(this),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.api.listeners.offById(this.clickListenerId),this.removeAllShortcuts(),this.popover.off(y.PopoverEvent.OverlayClicked,this.onOverlayClicked)}},{key:"toolButtonActivated",value:function(C){this.insertNewBlock(C)}},{key:"open",value:function(){this.isEmpty||(this.shouldOpenPopoverBottom||(this.nodes.toolbox.style.setProperty("--popover-height",this.popover.calculateHeight()+"px"),this.nodes.toolbox.classList.add(B.CSS.toolboxOpenedTop)),this.popover.show(),this.opened=!0,this.emit(M.Opened))}},{key:"close",value:function(){this.popover.hide(),this.opened=!1,this.nodes.toolbox.classList.remove(B.CSS.toolboxOpenedTop),this.emit(M.Closed)}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"enableShortcuts",value:function(){var C=this;this.toolsToBeDisplayed.forEach(function(w){var L=w.shortcut;L&&C.enableShortcutForTool(w.name,L)})}},{key:"enableShortcutForTool",value:function(C,w){var L=this;f.default.add({name:w,on:this.api.ui.nodes.redactor,handler:function(P){P.preventDefault(),L.insertNewBlock(C)}})}},{key:"removeAllShortcuts",value:function(){var C=this;this.toolsToBeDisplayed.forEach(function(w){var L=w.shortcut;L&&f.default.remove(C.api.ui.nodes.redactor,L)})}},{key:"insertNewBlock",value:function(C){var w=this.api.blocks.getCurrentBlockIndex(),L=this.api.blocks.getBlockByIndex(w);if(L){var P=L.isEmpty?w:w+1,N=this.api.blocks.insert(C,void 0,void 0,P,void 0,L.isEmpty);N.call(d.BlockToolAPI.APPEND_CALLBACK),this.api.caret.setToBlock(P),this.emit(M.BlockAdded,{block:N}),this.api.toolbar.close()}}},{key:"isEmpty",get:function(){return this.toolsToBeDisplayed.length===0}},{key:"shouldOpenPopoverBottom",get:function(){var C=this.nodes.toolbox.getBoundingClientRect(),w=this.api.ui.nodes.redactor.getBoundingClientRect(),L=this.popover.calculateHeight(),P=C.top+L,N=C.top-L,A=Math.min(window.innerHeight,w.bottom);return N<w.top||P<=A}},{key:"toolsToBeDisplayed",get:function(){return Array.from(this.tools.values()).filter(function(C){var w=C.toolbox;return!(!w||w&&!w.icon&&(g.log("Toolbar icon is missed. Tool %o skipped","warn",C.name),1))})}}],[{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxOpenedTop:"ce-toolbox--opened-top"}}}]),B}(p.default);n.default=T,T.displayName="Toolbox",_([g.cacheable],T.prototype,"toolsToBeDisplayed",null)})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(59),e(14),e(111),e(61),e(387),e(81),e(7),e(388)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f,p,y,m){var k=e(1);function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.PopoverEvent=void 0,r=k(r),c=k(c),a=k(a),s=k(s),u=k(u),h=k(h),v=k(v),g=k(g),d=k(d),f=k(f),p=k(p),m=k(m);var E,I=function(_,T,S,R){var O,B=arguments.length,C=B<3?T:R===null?R=Object.getOwnPropertyDescriptor(T,S):R;if((typeof Reflect=="undefined"?"undefined":(0,h.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(_,T,S,R);else for(var w=_.length-1;w>=0;w--)(O=_[w])&&(C=(B<3?O(C):B>3?O(T,S,C):O(T,S))||C);return B>3&&C&&Object.defineProperty(T,S,C),C};n.PopoverEvent=E,function(_){_.OverlayClicked="overlay-clicked"}(E||(n.PopoverEvent=E={}));var M=function(_){(0,a.default)(R,_);var T,S=(T=R,function(){var O,B=(0,u.default)(T);if(x()){var C=(0,u.default)(this).constructor;O=Reflect.construct(B,arguments,C)}else O=B.apply(this,arguments);return(0,s.default)(this,O)});function R(O){var B,C=O.items,w=O.className,L=O.searchable,P=O.filterLabel,N=O.nothingFoundLabel;return(0,r.default)(this,R),(B=S.call(this)).isShown=!1,B.nodes={wrapper:null,popover:null,items:null,nothingFound:null,overlay:null},B.scrollLocker=new m.default,B.items=C,B.className=w||"",B.searchable=L,B.listeners=new g.default,B.filterLabel=P,B.nothingFoundLabel=N,B.render(),B.enableFlipper(),B}return(0,c.default)(R,[{key:"getElement",value:function(){return this.nodes.wrapper}},{key:"show",value:function(){var O=this;this.search.clear(),this.nodes.items.scrollTop=0,this.nodes.popover.classList.add(R.CSS.popoverOpened),this.nodes.overlay.classList.remove(R.CSS.popoverOverlayHidden),this.flipper.activate(),this.searchable&&window.requestAnimationFrame(function(){O.search.focus()}),(0,y.isMobileScreen)()&&this.scrollLocker.lock(),this.isShown=!0}},{key:"hide",value:function(){this.isShown&&(this.nodes.popover.classList.remove(R.CSS.popoverOpened),this.nodes.overlay.classList.add(R.CSS.popoverOverlayHidden),this.flipper.deactivate(),(0,y.isMobileScreen)()&&this.scrollLocker.unlock(),this.isShown=!1)}},{key:"destroy",value:function(){this.listeners.removeAll()}},{key:"hasFocus",value:function(){return this.flipper.hasFocus()}},{key:"calculateHeight",value:function(){var O,B=this.nodes.popover.cloneNode(!0);return B.style.visibility="hidden",B.style.position="absolute",B.style.top="-1000px",B.classList.add(R.CSS.popoverOpened),document.body.appendChild(B),O=B.offsetHeight,B.remove(),O}},{key:"render",value:function(){var O=this;this.nodes.wrapper=v.default.make("div",this.className),this.nodes.popover=v.default.make("div",R.CSS.popover),this.nodes.wrapper.appendChild(this.nodes.popover),this.nodes.overlay=v.default.make("div",[R.CSS.popoverOverlay,R.CSS.popoverOverlayHidden]),this.nodes.wrapper.appendChild(this.nodes.overlay),this.searchable&&this.addSearch(this.nodes.popover),this.nodes.items=v.default.make("div",R.CSS.itemsWrapper),this.items.forEach(function(B){O.nodes.items.appendChild(O.createItem(B))}),this.nodes.popover.appendChild(this.nodes.items),this.nodes.nothingFound=v.default.make("div",[R.CSS.noFoundMessage],{textContent:this.nothingFoundLabel}),this.nodes.popover.appendChild(this.nodes.nothingFound),this.listeners.on(this.nodes.popover,"click",function(B){var C=B.target.closest(".".concat(R.CSS.item));C&&O.itemClicked(C)}),this.listeners.on(this.nodes.overlay,"click",function(){O.emit(E.OverlayClicked)})}},{key:"addSearch",value:function(O){var B=this;this.search=new f.default({items:this.items,placeholder:this.filterLabel,onSearch:function(w){var L=[];B.items.forEach(function(P,N){var A=B.nodes.items.children[N];w.includes(P)?(L.push(A),A.classList.remove(R.CSS.itemHidden)):A.classList.add(R.CSS.itemHidden)}),B.nodes.nothingFound.classList.toggle(R.CSS.noFoundMessageShown,L.length===0),B.flipper.deactivate(),B.flipper.activate(L),B.flipper.focusFirst()}});var C=this.search.getElement();O.appendChild(C)}},{key:"createItem",value:function(O){var B=v.default.make("div",R.CSS.item);B.dataset.itemName=O.name;var C=v.default.make("div",R.CSS.itemLabel,{innerHTML:O.label});return O.icon&&B.appendChild(v.default.make("div",R.CSS.itemIcon,{innerHTML:O.icon})),B.appendChild(C),O.secondaryLabel&&B.appendChild(v.default.make("div",R.CSS.itemSecondaryLabel,{textContent:O.secondaryLabel})),B}},{key:"itemClicked",value:function(O){var B=this.nodes.wrapper.querySelectorAll(".".concat(R.CSS.item)),C=Array.from(B).indexOf(O),w=this.items[C];w.onClick(w)}},{key:"enableFlipper",value:function(){var O=Array.from(this.nodes.wrapper.querySelectorAll(".".concat(R.CSS.item)));this.flipper=new d.default({items:O,focusedItemClass:R.CSS.itemFocused,allowedKeys:[y.keyCodes.TAB,y.keyCodes.UP,y.keyCodes.DOWN,y.keyCodes.ENTER]})}}],[{key:"CSS",get:function(){return{popover:"ce-popover",popoverOpened:"ce-popover--opened",itemsWrapper:"ce-popover__items",item:"ce-popover__item",itemHidden:"ce-popover__item--hidden",itemFocused:"ce-popover__item--focused",itemLabel:"ce-popover__item-label",itemIcon:"ce-popover__item-icon",itemSecondaryLabel:"ce-popover__item-secondary-label",noFoundMessage:"ce-popover__no-found",noFoundMessageShown:"ce-popover__no-found--shown",popoverOverlay:"ce-popover__overlay",popoverOverlayHidden:"ce-popover__overlay--hidden"}}}]),R}(p.default);n.default=M,M.displayName="Popover",I([y.cacheable],M.prototype,"calculateHeight",null)})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(14),e(111)],(i=typeof(t=function(n,r,c,a,s){var u=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=u(r),c=u(c),a=u(a),s=u(s);var h=function(){function v(g){var d=g.items,f=g.onSearch,p=g.placeholder;(0,r.default)(this,v),this.listeners=new s.default,this.items=d,this.onSearch=f,this.render(p)}return(0,c.default)(v,[{key:"getElement",value:function(){return this.wrapper}},{key:"focus",value:function(){this.input.focus()}},{key:"clear",value:function(){this.input.value="",this.searchQuery="",this.onSearch(this.foundItems)}},{key:"destroy",value:function(){this.listeners.removeAll()}},{key:"render",value:function(g){var d=this;this.wrapper=a.default.make("div",v.CSS.wrapper);var f=a.default.make("div",v.CSS.icon),p=a.default.svg("search",16,16);this.input=a.default.make("input",v.CSS.input,{placeholder:g}),f.appendChild(p),this.wrapper.appendChild(f),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",function(){d.searchQuery=d.input.value,d.onSearch(d.foundItems)})}},{key:"checkItem",value:function(g){var d=g.label.toLowerCase(),f=this.searchQuery.toLowerCase();return d.includes(f)}},{key:"foundItems",get:function(){var g=this;return this.items.filter(function(d){return g.checkItem(d)})}}],[{key:"CSS",get:function(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}}]),v}();n.default=h,h.displayName="SearchInput",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(7)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c);var u=function(){function h(){(0,r.default)(this,h)}return(0,c.default)(h,[{key:"lock",value:function(){a.isIosDevice?this.lockHard():document.body.classList.add(h.CSS.scrollLocked)}},{key:"unlock",value:function(){a.isIosDevice?this.unlockHard():document.body.classList.remove(h.CSS.scrollLocked)}},{key:"lockHard",value:function(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset","".concat(this.scrollPosition,"px")),document.body.classList.add(h.CSS.scrollLockedHard)}},{key:"unlockHard",value:function(){document.body.classList.remove(h.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}}]),h}();n.default=u,u.displayName="ScrollLocker",u.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"},l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,c){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:c})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var a in n)i.d(c,a,function(s){return n[s]}.bind(null,a));return c},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="/",i(i.s=0)}([function(t,o,i){function n(a,s){for(var u=0;u<s.length;u++){var h=s[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function r(a,s,u){return s&&n(a.prototype,s),u&&n(a,u),a}i(1).toString();var c=function(){function a(s){var u=s.data,h=s.config,v=s.api,g=s.readOnly;(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=v,this.readOnly=g,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=h.placeholder?h.placeholder:a.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=h.preserveBlank!==void 0&&h.preserveBlank,this.data=u}return r(a,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(a,[{key:"onKeyUp",value:function(s){s.code!=="Backspace"&&s.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var s=document.createElement("DIV");return s.classList.add(this._CSS.wrapper,this._CSS.block),s.contentEditable=!1,s.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(s.contentEditable=!0,s.addEventListener("keyup",this.onKeyUp)),s}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(s){var u={text:this.data.text+s.text};this.data=u}},{key:"validate",value:function(s){return!(s.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(s){return{text:s.innerHTML}}},{key:"onPaste",value:function(s){var u={text:s.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var s=this._element.innerHTML;return this._data.text=s,this._data},set:function(s){this._data=s||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:i(5).default,title:"Text"}}}]),a}();t.exports=c},function(t,o,i){var n=i(2),r=i(3);typeof(r=r.__esModule?r.default:r)=="string"&&(r=[[t.i,r,""]]),n(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,o,i){var n,r=function(){var m={};return function(k){if(m[k]===void 0){var x=document.querySelector(k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}m[k]=x}return m[k]}}(),c=[];function a(m){for(var k=-1,x=0;x<c.length;x++)if(c[x].identifier===m){k=x;break}return k}function s(m,k){for(var x={},E=[],I=0;I<m.length;I++){var M=m[I],_=k.base?M[0]+k.base:M[0],T=x[_]||0,S="".concat(_," ").concat(T);x[_]=T+1;var R=a(S),O={css:M[1],media:M[2],sourceMap:M[3]};R!==-1?(c[R].references++,c[R].updater(O)):c.push({identifier:S,updater:y(O,k),references:1}),E.push(S)}return E}function u(m){var k=document.createElement("style"),x=m.attributes||{};if(x.nonce===void 0){var E=i.nc;E&&(x.nonce=E)}if(Object.keys(x).forEach(function(M){k.setAttribute(M,x[M])}),typeof m.insert=="function")m.insert(k);else{var I=r(m.insert||"head");if(!I)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");I.appendChild(k)}return k}var h,v=(h=[],function(m,k){return h[m]=k,h.filter(Boolean).join(`
`)});function g(m,k,x,E){var I=x?"":E.media?"@media ".concat(E.media," {").concat(E.css,"}"):E.css;if(m.styleSheet)m.styleSheet.cssText=v(k,I);else{var M=document.createTextNode(I),_=m.childNodes;_[k]&&m.removeChild(_[k]),_.length?m.insertBefore(M,_[k]):m.appendChild(M)}}function d(m,k,x){var E=x.css,I=x.media,M=x.sourceMap;if(I?m.setAttribute("media",I):m.removeAttribute("media"),M&&btoa&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(M))))," */")),m.styleSheet)m.styleSheet.cssText=E;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(E))}}var f=null,p=0;function y(m,k){var x,E,I;if(k.singleton){var M=p++;x=f||(f=u(k)),E=g.bind(null,x,M,!1),I=g.bind(null,x,M,!0)}else x=u(k),E=d.bind(null,x,k),I=function(){(function(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_)})(x)};return E(m),function(_){if(_){if(_.css===m.css&&_.media===m.media&&_.sourceMap===m.sourceMap)return;E(m=_)}else I()}}t.exports=function(m,k){(k=k||{}).singleton||typeof k.singleton=="boolean"||(k.singleton=(n===void 0&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var x=s(m=m||[],k);return function(E){if(E=E||[],Object.prototype.toString.call(E)==="[object Array]"){for(var I=0;I<x.length;I++){var M=a(x[I]);c[M].references--}for(var _=s(E,k),T=0;T<x.length;T++){var S=a(x[T]);c[S].references===0&&(c[S].updater(),c.splice(S,1))}x=_}}}},function(t,o,i){(o=i(4)(!1)).push([t.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),t.exports=o},function(t,o,i){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(c){var a=function(s,u){var h,v,g,d=s[1]||"",f=s[3];if(!f)return d;if(u&&typeof btoa=="function"){var p=(h=f,v=btoa(unescape(encodeURIComponent(JSON.stringify(h)))),g="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(v),"/*# ".concat(g," */")),y=f.sources.map(function(m){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(m," */")});return[d].concat(y).concat([p]).join(`
`)}return[d].join(`
`)}(c,n);return c[2]?"@media ".concat(c[2]," {").concat(a,"}"):a}).join("")},r.i=function(c,a,s){typeof c=="string"&&(c=[[null,c,""]]);var u={};if(s)for(var h=0;h<this.length;h++){var v=this[h][0];v!=null&&(u[v]=!0)}for(var g=0;g<c.length;g++){var d=[].concat(c[g]);s&&u[d[0]]||(a&&(d[2]?d[2]="".concat(a," and ").concat(d[2]):d[2]=a),r.push(d))}},r}},function(t,o,i){i.r(o),o.default=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">
  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>
</svg>
`}])},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(14)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(){(0,r.default)(this,h),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,c.default)(h,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(a.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(v){document.execCommand(this.commandName)}},{key:"checkState",value:function(v){var g=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,g),g}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),h}();n.default=u,u.displayName="BoldInlineTool",u.isInline=!0,u.title="Bold",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(14)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(){(0,r.default)(this,h),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,c.default)(h,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(a.default.svg("italic",4,11)),this.nodes.button}},{key:"surround",value:function(v){document.execCommand(this.commandName)}},{key:"checkState",value:function(v){var g=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,g),g}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),h}();n.default=u,u.displayName="ItalicInlineTool",u.isInline=!0,u.title="Italic",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(25),e(14),e(7)],(i=typeof(t=function(n,r,c,a,s,u){var h=e(8),v=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),a=v(a),s=v(s),u=h(u);var g=function(){function d(f){var p=f.api;(0,r.default)(this,d),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=p.toolbar,this.inlineToolbar=p.inlineToolbar,this.notifier=p.notifier,this.i18n=p.i18n,this.selection=new a.default}return(0,c.default)(d,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(s.default.svg("link",14,10)),this.nodes.button.appendChild(s.default.svg("unlink",15,11)),this.nodes.button}},{key:"renderActions",value:function(){var f=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",function(p){p.keyCode===f.ENTER_KEY&&f.enterPressed(p)}),this.nodes.input}},{key:"surround",value:function(f){if(f){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var p=this.selection.findParentTag("A");if(p)return this.selection.expandToTag(p),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(f){var p=this.selection.findParentTag("A");if(p){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var y=p.getAttribute("href");this.nodes.input.value=y!=="null"?y:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!p}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var f=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),f&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.selection.isFakeBackgroundEnabled){var p=new a.default;p.save(),this.selection.restore(),this.selection.removeFakeBackground(),p.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",f&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(f){var p=this.nodes.input.value||"";return p.trim()?this.validateURL(p)?(p=this.prepareLink(p),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(p),f.preventDefault(),f.stopPropagation(),f.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void u.log("Incorrect Link pasted","warn",p)):(this.selection.restore(),this.unlink(),f.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(f){return!/\s/.test(f)}},{key:"prepareLink",value:function(f){return f=f.trim(),f=this.addProtocol(f)}},{key:"addProtocol",value:function(f){if(/^(\w+):(\/\/)?/.test(f))return f;var p=/^\/[^/\s]/.test(f),y=f.substring(0,1)==="#",m=/^\/\/[^/\s]/.test(f);return p||y||m||(f="http://"+f),f}},{key:"insertLink",value:function(f){var p=this.selection.findParentTag("A");p&&this.selection.expandToTag(p),document.execCommand(this.commandLink,!1,f)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),d}();n.default=g,g.displayName="LinkInlineTool",g.isInline=!0,g.title="Link",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(14)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(v){var g=v.data,d=v.api;(0,r.default)(this,h),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=d,this.title=g.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=g.savedData,this.wrapper=this.make()}return(0,c.default)(h,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var v=a.default.make("div",this.CSS.wrapper),g=a.default.svg("sad-face",52,52),d=a.default.make("div",this.CSS.info),f=a.default.make("div",this.CSS.title,{textContent:this.title}),p=a.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return v.appendChild(g),d.appendChild(f),d.appendChild(p),v.appendChild(d),v}}]),h}();n.default=u,u.displayName="Stub",u.isReadOnlySupported=!0,l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(68),e(395),e(396),e(397)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=v(r),c=v(c),s=v(s),u=v(u),h=v(h);var g=function(f,p){var y={};for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.indexOf(m)<0&&(y[m]=f[m]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var k=0;for(m=Object.getOwnPropertySymbols(f);k<m.length;k++)p.indexOf(m[k])<0&&Object.prototype.propertyIsEnumerable.call(f,m[k])&&(y[m[k]]=f[m[k]])}return y},d=function(){function f(p,y,m){(0,r.default)(this,f),this.api=m,this.config=p,this.editorConfig=y}return(0,c.default)(f,[{key:"get",value:function(p){var y=this.config[p],m=y.class,k=y.isInternal,x=k!==void 0&&k,E=g(y,["class","isInternal"]);return new(this.getConstructor(m))({name:p,constructable:m,config:E,api:this.api,isDefault:p===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:x})}},{key:"getConstructor",value:function(p){switch(!0){case p[a.InternalInlineToolSettings.IsInline]:return s.default;case p[a.InternalTuneSettings.IsTune]:return u.default;default:return h.default}}}]),f}();n.default=d,d.displayName="ToolsFactory",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(68)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(8),g=e(1);function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),c=g(c),a=g(a),s=g(s),u=g(u);var f=function(p){(0,a.default)(k,p);var y,m=(y=k,function(){var x,E=(0,u.default)(y);if(d()){var I=(0,u.default)(this).constructor;x=Reflect.construct(E,arguments,I)}else x=E.apply(this,arguments);return(0,s.default)(this,x)});function k(){var x;return(0,r.default)(this,k),(x=m.apply(this,arguments)).type=h.ToolType.Inline,x}return(0,c.default)(k,[{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"title",get:function(){return this.constructable[h.InternalInlineToolSettings.Title]}}]),k}((h=v(h)).default);n.default=f,f.displayName="InlineTool",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(5),e(6),e(4),e(68)],(i=typeof(t=function(n,r,c,a,s,u,h){var v=e(8),g=e(1);function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=g(r),c=g(c),a=g(a),s=g(s),u=g(u);var f=function(p){(0,a.default)(k,p);var y,m=(y=k,function(){var x,E=(0,u.default)(y);if(d()){var I=(0,u.default)(this).constructor;x=Reflect.construct(E,arguments,I)}else x=E.apply(this,arguments);return(0,s.default)(this,x)});function k(){var x;return(0,r.default)(this,k),(x=m.apply(this,arguments)).type=h.ToolType.Tune,x}return(0,c.default)(k,[{key:"create",value:function(x,E){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:E,data:x})}}]),k}((h=v(h)).default);n.default=f,f.displayName="BlockTune",l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(114),e(5),e(6),e(4),e(59),e(68),e(7),e(185)],(i=typeof(t=function(n,r,c,a,s,u,h,v,g,d,f){var p=e(8),y=e(1);function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=y(r),c=y(c),a=y(a),s=y(s),u=y(u),h=y(h),v=y(v),g=p(g),d=p(d),f=y(f);var k=function(E,I,M,_){var T,S=arguments.length,R=S<3?I:_===null?_=Object.getOwnPropertyDescriptor(I,M):_;if((typeof Reflect=="undefined"?"undefined":(0,v.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(E,I,M,_);else for(var O=E.length-1;O>=0;O--)(T=E[O])&&(R=(S<3?T(R):S>3?T(I,M,R):T(I,M))||R);return S>3&&R&&Object.defineProperty(I,M,R),R},x=function(E){(0,s.default)(_,E);var I,M=(I=_,function(){var T,S=(0,h.default)(I);if(m()){var R=(0,h.default)(this).constructor;T=Reflect.construct(S,arguments,R)}else T=S.apply(this,arguments);return(0,u.default)(this,T)});function _(){var T;return(0,r.default)(this,_),(T=M.apply(this,arguments)).type=g.ToolType.Block,T.inlineTools=new f.default,T.tunes=new f.default,T}return(0,c.default)(_,[{key:"create",value:function(T,S,R){return new this.constructable({data:T,block:S,readOnly:R,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return this.constructable[g.InternalBlockToolSettings.IsReadOnlySupported]===!0}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[g.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var T=this.constructable[g.InternalBlockToolSettings.Toolbox],S=this.config[g.UserSettings.Toolbox];if(!d.isEmpty(T)&&(S!=null?S:T)!==!1)return Object.assign({},T,S)}},{key:"conversionConfig",get:function(){return this.constructable[g.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[g.UserSettings.EnabledInlineTools]||!1}},{key:"enabledBlockTunes",get:function(){return this.config[g.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[g.InternalBlockToolSettings.PasteConfig]||{}}},{key:"sanitizeConfig",get:function(){var T=(0,a.default)((0,h.default)(_.prototype),"sanitizeConfig",this),S=this.baseSanitizeConfig;if(d.isEmpty(T))return S;var R={};for(var O in T)if(Object.prototype.hasOwnProperty.call(T,O)){var B=T[O];d.isObject(B)?R[O]=Object.assign({},S,B):R[O]=B}return R}},{key:"baseSanitizeConfig",get:function(){var T={};return Array.from(this.inlineTools.values()).forEach(function(S){return Object.assign(T,S.sanitizeConfig)}),Array.from(this.tunes.values()).forEach(function(S){return Object.assign(T,S.sanitizeConfig)}),T}}]),_}(g.default);n.default=x,x.displayName="BlockTool",k([d.cacheable],x.prototype,"sanitizeConfig",null),k([d.cacheable],x.prototype,"baseSanitizeConfig",null),l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(14)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(v){var g=v.api;(0,r.default)(this,h),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=g}return(0,c.default)(h,[{key:"render",value:function(){var v=this,g=a.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return g.appendChild(a.default.svg("arrow-down",14,14)),this.api.listeners.on(g,"click",function(d){return v.handleClick(d,g)},!1),this.api.tooltip.onHover(g,this.api.i18n.t("Move down"),{hidingDelay:300}),g}},{key:"handleClick",value:function(v,g){var d=this,f=this.api.blocks.getCurrentBlockIndex(),p=this.api.blocks.getBlockByIndex(f+1);if(!p)return g.classList.add(this.CSS.animation),void window.setTimeout(function(){g.classList.remove(d.CSS.animation)},500);var y=p.holder,m=y.getBoundingClientRect(),k=Math.abs(window.innerHeight-y.offsetHeight);m.top<window.innerHeight&&(k=window.scrollY+y.offsetHeight),window.scrollTo(0,k),this.api.blocks.move(f+1),this.api.toolbar.toggleBlockSettings(!0),this.api.tooltip.hide()}}]),h}();n.default=u,u.displayName="MoveDownTune",u.isTune=!0,l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(14)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(v){var g=this,d=v.api;(0,r.default)(this,h),this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=d,this.resetConfirmation=function(){g.setConfirmation(!1)}}return(0,c.default)(h,[{key:"render",value:function(){var v=this;return this.nodes.button=a.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(a.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",function(g){return v.handleClick(g)},!1),this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete"),{hidingDelay:300}),this.nodes.button}},{key:"handleClick",value:function(v){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),this.api.tooltip.hide(),v.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(v){this.needConfirmation=v,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),h}();n.default=u,u.displayName="DeleteTune",u.isTune=!0,l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){var t,o,i;o=[b,e(2),e(3),e(14)],(i=typeof(t=function(n,r,c,a){var s=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=s(r),c=s(c),a=s(a);var u=function(){function h(v){var g=v.api;(0,r.default)(this,h),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=g}return(0,c.default)(h,[{key:"render",value:function(){var v=this,g=a.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return g.appendChild(a.default.svg("arrow-up",14,14)),this.api.listeners.on(g,"click",function(d){return v.handleClick(d,g)},!1),this.api.tooltip.onHover(g,this.api.i18n.t("Move up"),{hidingDelay:300}),g}},{key:"handleClick",value:function(v,g){var d=this,f=this.api.blocks.getCurrentBlockIndex(),p=this.api.blocks.getBlockByIndex(f),y=this.api.blocks.getBlockByIndex(f-1);if(f===0||!p||!y)return g.classList.add(this.CSS.animation),void window.setTimeout(function(){g.classList.remove(d.CSS.animation)},500);var m,k=p.holder,x=y.holder,E=k.getBoundingClientRect(),I=x.getBoundingClientRect();m=I.top>0?Math.abs(E.top)-Math.abs(I.top):window.innerHeight-Math.abs(E.top)+Math.abs(I.top),window.scrollBy(0,-1*m),this.api.blocks.move(f-1),this.api.toolbar.toggleBlockSettings(!0),this.api.tooltip.hide()}}]),h}();n.default=u,u.displayName="MoveUpTune",u.isTune=!0,l.exports=b.default})=="function"?t.apply(b,o):t)===void 0||(l.exports=i)},function(l,b,e){e.r(b),b.default=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg">
<symbol id="arrow-down" viewBox="0 0 14 14">
  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="arrow-up" viewBox="0 0 14 14">
    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>
</symbol>
<symbol id="cross" viewBox="0 0 237 237">
  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>

</symbol>
<symbol id="dots" viewBox="0 0 16 16">
  <g transform="translate(4 1.5)" fill-rule="evenodd">
    <circle cx="1.3" cy="1.3" r="1.3"/>
    <circle cx="6.5" cy="1.3" r="1.3"/>
    <circle cx="6.5" cy="6.5" r="1.3"/>
    <circle cx="1.3" cy="6.5" r="1.3"/>
    <circle cx="6.5" cy="11.7" r="1.3"/>
    <circle cx="1.3" cy="11.7" r="1.3"/>
  </g>

</symbol>
<symbol id="italic" viewBox="0 0 4 11">
    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>

</symbol>
<symbol id="link" viewBox="0 0 14 10">
  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>

</symbol>
<symbol id="plus" viewBox="0 0 16 16">
  <g transform="translate(1 1.5)" fill-rule="evenodd">
    <rect x="6" width="2" height="13" rx="1"/>
    <rect x=".5" y="5.5" width="13" height="2" rx="1"/>
  </g>

</symbol>
<symbol id="sad-face" viewBox="0 0 52 52">
    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>

</symbol>
<symbol id="search" viewBox="0 0 16 16">
  <path d="M12.711 2.18a7.448 7.448 0 0 1 .79 9.603l2.143 2.144a1.214 1.214 0 1 1-1.717 1.717L11.783 13.5a7.446 7.446 0 1 1 .928-11.32ZM11.39 3.61a5.5 5.5 0 1 0-7.778 7.78 5.5 5.5 0 0 0 7.778-7.78Z" fill-rule="evenodd"/>

</symbol>
<symbol id="toggler-down">
  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>

</symbol>
<symbol id="unlink" viewBox="0 0 15 11">
  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>

</symbol></svg>`},function(l,b){l.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1*var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width:650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover:hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus{-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width:650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar__plus{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}@media (max-width:650px){.ce-toolbar__plus{position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width:650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover:hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn{margin-left:5px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width:651px){.ce-toolbar__settings-btn{width:18px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width:650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar__settings-btn{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}@media (max-width:650px){.ce-toolbar__settings-btn{position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{--gap:8px}@media (min-width:651px){.ce-toolbox{position:absolute;top:calc(26px + var(--gap));left:0}.ce-toolbox--opened-top{top:calc(-1*(var(--gap) + var(--popover-height)))}}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{left:auto;right:0}.codex-editor--narrow .ce-toolbox .ce-popover{right:0}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-settings{top:34px;left:0;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:auto;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:none}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.ce-popover{opacity:0;will-change:opacity,transform;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:6px;min-width:200px;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0;max-height:0;pointer-events:none;position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:650px){.ce-popover{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-popover{z-index:4;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.ce-popover--left-oriented:before{left:15px;margin-left:0}.ce-popover--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-popover--opened{opacity:1;max-height:270px;pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease}@media (max-width:650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover::-webkit-scrollbar{width:7px}.ce-popover::-webkit-scrollbar-thumb{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:inset 0 0 2px 2px #eff2f5;box-shadow:inset 0 0 2px 2px #eff2f5;border-color:transparent;border-style:solid;border-width:4px 3px 4px 0}@media (max-width:650px){.ce-popover{position:fixed;max-width:none;min-width:auto;left:5px;right:5px;bottom:calc(5px + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (min-width:651px){.ce-popover__items{margin-top:5px}}.ce-popover__item{display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;white-space:nowrap;padding:3px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:6px}.ce-popover__item:not(:last-of-type){margin-bottom:1px}@media (hover:hover){.ce-popover__item:hover{background-color:#eff2f5}}@media (max-width:650px){.ce-popover__item{font-size:16px;padding:4px}}.ce-popover__item--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-popover__item--hidden{display:none}.ce-popover__item-icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;border:1px solid rgba(201,201,204,.48);border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}@media (max-width:650px){.ce-popover__item-icon{width:36px;height:36px;border-radius:8px}}.ce-popover__item-icon svg{width:12px;height:12px}.ce-popover__item-label:after{content:"";width:25px;display:inline-block}.ce-popover__item-secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width:650px){.ce-popover__item-secondary-label{display:none}}.ce-popover__no-found{display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;white-space:nowrap;padding:3px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:6px}.ce-popover__no-found:not(:last-of-type){margin-bottom:1px}@media (hover:hover){.ce-popover__no-found:hover{background-color:#eff2f5}}@media (max-width:650px){.ce-popover__no-found{font-size:16px;padding:4px}}.ce-popover__no-found{color:#707684;display:none;cursor:default}.ce-popover__no-found--shown{display:block}.ce-popover__no-found:hover{background-color:transparent}@media (max-width:650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1d202b;opacity:.5;z-index:3;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}.ce-popover .cdx-search-field{display:none}}.ce-popover__overlay--hidden{z-index:0;opacity:0;visibility:hidden}.cdx-search-field{--icon-margin-right:10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon .icon{width:14px;height:14px;color:#707684;-ms-flex-negative:0;flex-shrink:0}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}'},function(l,b,e){e.r(b),e.d(b,"nanoid",function(){return r}),e.d(b,"customAlphabet",function(){return n}),e.d(b,"customRandom",function(){return i}),e.d(b,"urlAlphabet",function(){return t}),e.d(b,"random",function(){return o});let t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",o=c=>crypto.getRandomValues(new Uint8Array(c)),i=(c,a,s)=>{let u=(2<<Math.log(c.length-1)/Math.LN2)-1,h=-~(1.6*u*a/c.length);return()=>{let v="";for(;;){let g=s(h),d=h;for(;d--;)if(v+=c[g[d]&u]||"",v.length===a)return v}}},n=(c,a)=>i(c,a,o),r=(c=21)=>{let a="",s=crypto.getRandomValues(new Uint8Array(c));for(;c--;){let u=63&s[c];a+=u<36?u.toString(36):u<62?(u-26).toString(36).toUpperCase():u<63?"_":"-"}return a}}])})})(Tt);var Vt=Je(Tt.exports),Ct={exports:{}};(function(ye,xe){(function(l,b){ye.exports=b()})(window,function(){return function(l){var b={};function e(t){if(b[t])return b[t].exports;var o=b[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=b,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="/",e(e.s=25)}([function(l,b){function e(t,o){for(var i=0;i<o.length;i++){var n=o[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}l.exports=function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}},function(l,b){l.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(l,b,e){l.exports=function(t){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=o,i.d=function(n,r,c){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:c})},i.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(1&r&&(n=i(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var a in n)i.d(c,a,function(s){return n[s]}.bind(null,a));return c},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="",i(i.s=3)}([function(t,o){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}t.exports=i},function(t,o,i){(function(n){var r=i(2),c=setTimeout;function a(){}function s(p){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(p,this)}function u(p,y){for(;p._state===3;)p=p._value;p._state!==0?(p._handled=!0,s._immediateFn(function(){var m=p._state===1?y.onFulfilled:y.onRejected;if(m!==null){var k;try{k=m(p._value)}catch(x){return void v(y.promise,x)}h(y.promise,k)}else(p._state===1?h:v)(y.promise,p._value)})):p._deferreds.push(y)}function h(p,y){try{if(y===p)throw new TypeError("A promise cannot be resolved with itself.");if(y&&(typeof y=="object"||typeof y=="function")){var m=y.then;if(y instanceof s)return p._state=3,p._value=y,void g(p);if(typeof m=="function")return void f((k=m,x=y,function(){k.apply(x,arguments)}),p)}p._state=1,p._value=y,g(p)}catch(E){v(p,E)}var k,x}function v(p,y){p._state=2,p._value=y,g(p)}function g(p){p._state===2&&p._deferreds.length===0&&s._immediateFn(function(){p._handled||s._unhandledRejectionFn(p._value)});for(var y=0,m=p._deferreds.length;y<m;y++)u(p,p._deferreds[y]);p._deferreds=null}function d(p,y,m){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof y=="function"?y:null,this.promise=m}function f(p,y){var m=!1;try{p(function(k){m||(m=!0,h(y,k))},function(k){m||(m=!0,v(y,k))})}catch(k){if(m)return;m=!0,v(y,k)}}s.prototype.catch=function(p){return this.then(null,p)},s.prototype.then=function(p,y){var m=new this.constructor(a);return u(this,new d(p,y,m)),m},s.prototype.finally=r.a,s.all=function(p){return new s(function(y,m){if(!p||p.length===void 0)throw new TypeError("Promise.all accepts an array");var k=Array.prototype.slice.call(p);if(k.length===0)return y([]);var x=k.length;function E(M,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var T=_.then;if(typeof T=="function")return void T.call(_,function(S){E(M,S)},m)}k[M]=_,--x==0&&y(k)}catch(S){m(S)}}for(var I=0;I<k.length;I++)E(I,k[I])})},s.resolve=function(p){return p&&typeof p=="object"&&p.constructor===s?p:new s(function(y){y(p)})},s.reject=function(p){return new s(function(y,m){m(p)})},s.race=function(p){return new s(function(y,m){for(var k=0,x=p.length;k<x;k++)p[k].then(y,m)})},s._immediateFn=typeof n=="function"&&function(p){n(p)}||function(p){c(p,0)},s._unhandledRejectionFn=function(p){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)},o.a=s}).call(this,i(5).setImmediate)},function(t,o,i){o.a=function(n){var r=this.constructor;return this.then(function(c){return r.resolve(n()).then(function(){return c})},function(c){return r.resolve(n()).then(function(){return r.reject(c)})})}},function(t,o,i){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}i(4);var r,c,a,s,u,h,v,g=i(8),d=(c=function(f){return new Promise(function(p,y){f=s(f),(f=u(f)).beforeSend&&f.beforeSend();var m=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");m.open(f.method,f.url),m.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(f.headers).forEach(function(x){var E=f.headers[x];m.setRequestHeader(x,E)});var k=f.ratio;m.upload.addEventListener("progress",function(x){var E=Math.round(x.loaded/x.total*100),I=Math.ceil(E*k/100);f.progress(Math.min(I,100))},!1),m.addEventListener("progress",function(x){var E=Math.round(x.loaded/x.total*100),I=Math.ceil(E*(100-k)/100)+k;f.progress(Math.min(I,100))},!1),m.onreadystatechange=function(){if(m.readyState===4){var x=m.response;try{x=JSON.parse(x)}catch{}var E=g.parseHeaders(m.getAllResponseHeaders()),I={body:x,code:m.status,headers:E};v(m.status)?p(I):y(I)}},m.send(f.data)})},a=function(f){return f.method="POST",c(f)},s=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(f.url&&typeof f.url!="string")throw new Error("Url must be a string");if(f.url=f.url||"",f.method&&typeof f.method!="string")throw new Error("`method` must be a string or null");if(f.method=f.method?f.method.toUpperCase():"GET",f.headers&&n(f.headers)!=="object")throw new Error("`headers` must be an object or null");if(f.headers=f.headers||{},f.type&&(typeof f.type!="string"||!Object.values(r).includes(f.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(f.progress&&typeof f.progress!="function")throw new Error("`progress` must be a function or null");if(f.progress=f.progress||function(p){},f.beforeSend=f.beforeSend||function(p){},f.ratio&&typeof f.ratio!="number")throw new Error("`ratio` must be a number");if(f.ratio<0||f.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(f.ratio=f.ratio||90,f.accept&&typeof f.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(f.accept=f.accept||"*/*",f.multiple&&typeof f.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(f.multiple=f.multiple||!1,f.fieldName&&typeof f.fieldName!="string")throw new Error("`fieldName` must be a string");return f.fieldName=f.fieldName||"files",f},u=function(f){switch(f.method){case"GET":var p=h(f.data,r.URLENCODED);delete f.data,f.url=/\?/.test(f.url)?f.url+"&"+p:f.url+"?"+p;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var y=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||r.JSON}(f);(g.isFormData(f.data)||g.isFormElement(f.data))&&(y=r.FORM),f.data=h(f.data,y),y!==d.contentType.FORM&&(f.headers["content-type"]=y)}return f},h=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case r.URLENCODED:return g.urlEncode(f);case r.JSON:return g.jsonEncode(f);case r.FORM:return g.formEncode(f);default:return f}},v=function(f){return f>=200&&f<300},{contentType:r={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:c,get:function(f){return f.method="GET",c(f)},post:a,transport:function(f){return f=s(f),g.selectFiles(f).then(function(p){for(var y=new FormData,m=0;m<p.length;m++)y.append(f.fieldName,p[m],p[m].name);g.isObject(f.data)&&Object.keys(f.data).forEach(function(x){var E=f.data[x];y.append(x,E)});var k=f.beforeSend;return f.beforeSend=function(){return k(p)},f.data=y,a(f)})},selectFiles:function(f){return delete(f=s(f)).beforeSend,g.selectFiles(f)}});t.exports=d},function(t,o,i){i.r(o);var n=i(1);window.Promise=window.Promise||n.a},function(t,o,i){(function(n){var r=n!==void 0&&n||typeof self!="undefined"&&self||window,c=Function.prototype.apply;function a(s,u){this._id=s,this._clearFn=u}o.setTimeout=function(){return new a(c.call(setTimeout,r,arguments),clearTimeout)},o.setInterval=function(){return new a(c.call(setInterval,r,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(s){s&&s.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},o.enroll=function(s,u){clearTimeout(s._idleTimeoutId),s._idleTimeout=u},o.unenroll=function(s){clearTimeout(s._idleTimeoutId),s._idleTimeout=-1},o._unrefActive=o.active=function(s){clearTimeout(s._idleTimeoutId);var u=s._idleTimeout;u>=0&&(s._idleTimeoutId=setTimeout(function(){s._onTimeout&&s._onTimeout()},u))},i(6),o.setImmediate=typeof self!="undefined"&&self.setImmediate||n!==void 0&&n.setImmediate||this&&this.setImmediate,o.clearImmediate=typeof self!="undefined"&&self.clearImmediate||n!==void 0&&n.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(t,o,i){(function(n,r){(function(c,a){if(!c.setImmediate){var s,u,h,v,g,d=1,f={},p=!1,y=c.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(c);m=m&&m.setTimeout?m:c,{}.toString.call(c.process)==="[object process]"?s=function(E){r.nextTick(function(){x(E)})}:function(){if(c.postMessage&&!c.importScripts){var E=!0,I=c.onmessage;return c.onmessage=function(){E=!1},c.postMessage("","*"),c.onmessage=I,E}}()?(v="setImmediate$"+Math.random()+"$",g=function(E){E.source===c&&typeof E.data=="string"&&E.data.indexOf(v)===0&&x(+E.data.slice(v.length))},c.addEventListener?c.addEventListener("message",g,!1):c.attachEvent("onmessage",g),s=function(E){c.postMessage(v+E,"*")}):c.MessageChannel?((h=new MessageChannel).port1.onmessage=function(E){x(E.data)},s=function(E){h.port2.postMessage(E)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,s=function(E){var I=y.createElement("script");I.onreadystatechange=function(){x(E),I.onreadystatechange=null,u.removeChild(I),I=null},u.appendChild(I)}):s=function(E){setTimeout(x,0,E)},m.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var I=new Array(arguments.length-1),M=0;M<I.length;M++)I[M]=arguments[M+1];var _={callback:E,args:I};return f[d]=_,s(d),d++},m.clearImmediate=k}function k(E){delete f[E]}function x(E){if(p)setTimeout(x,0,E);else{var I=f[E];if(I){p=!0;try{(function(M){var _=M.callback,T=M.args;switch(T.length){case 0:_();break;case 1:_(T[0]);break;case 2:_(T[0],T[1]);break;case 3:_(T[0],T[1],T[2]);break;default:_.apply(void 0,T)}})(I)}finally{k(E),p=!1}}}}})(typeof self=="undefined"?n===void 0?this:n:self)}).call(this,i(0),i(7))},function(t,o){var i,n,r=t.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(m){if(i===setTimeout)return setTimeout(m,0);if((i===c||!i)&&setTimeout)return i=setTimeout,setTimeout(m,0);try{return i(m,0)}catch{try{return i.call(null,m,0)}catch{return i.call(this,m,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:c}catch{i=c}try{n=typeof clearTimeout=="function"?clearTimeout:a}catch{n=a}})();var u,h=[],v=!1,g=-1;function d(){v&&u&&(v=!1,u.length?h=u.concat(h):g=-1,h.length&&f())}function f(){if(!v){var m=s(d);v=!0;for(var k=h.length;k;){for(u=h,h=[];++g<k;)u&&u[g].run();g=-1,k=h.length}u=null,v=!1,function(x){if(n===clearTimeout)return clearTimeout(x);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(x);try{n(x)}catch{try{return n.call(null,x)}catch{return n.call(this,x)}}}(m)}}function p(m,k){this.fun=m,this.array=k}function y(){}r.nextTick=function(m){var k=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)k[x-1]=arguments[x];h.push(new p(m,k)),h.length!==1||v||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(m){return[]},r.binding=function(m){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(m){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,o,i){function n(c,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}var r=i(9);t.exports=function(){function c(){(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c)}var a,s;return a=c,(s=[{key:"urlEncode",value:function(u){return r(u)}},{key:"jsonEncode",value:function(u){return JSON.stringify(u)}},{key:"formEncode",value:function(u){if(this.isFormData(u))return u;if(this.isFormElement(u))return new FormData(u);if(this.isObject(u)){var h=new FormData;return Object.keys(u).forEach(function(v){var g=u[v];h.append(v,g)}),h}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(u){return Object.prototype.toString.call(u)==="[object Object]"}},{key:"isFormData",value:function(u){return u instanceof FormData}},{key:"isFormElement",value:function(u){return u instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(h,v){var g=document.createElement("INPUT");g.type="file",u.multiple&&g.setAttribute("multiple","multiple"),u.accept&&g.setAttribute("accept",u.accept),g.style.display="none",document.body.appendChild(g),g.addEventListener("change",function(d){var f=d.target.files;h(f),document.body.removeChild(g)},!1),g.click()})}},{key:"parseHeaders",value:function(u){var h=u.trim().split(/[\r\n]+/),v={};return h.forEach(function(g){var d=g.split(": "),f=d.shift(),p=d.join(": ");f&&(v[f]=p)}),v}}])&&n(a,s),c}()},function(t,o){var i=function(r){return encodeURIComponent(r).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},n=function(r,c,a,s){return c=c||null,a=a||"&",s=s||null,r?function(u){for(var h=new Array,v=0;v<u.length;v++)u[v]&&h.push(u[v]);return h}(Object.keys(r).map(function(u){var h,v,g=u;if(s&&(g=s+"["+g+"]"),typeof r[u]=="object"&&r[u]!==null)h=n(r[u],null,a,g);else{c&&(v=g,g=!isNaN(parseFloat(v))&&isFinite(v)?c+Number(g):g);var d=r[u];d=(d=(d=(d=d===!0?"1":d)===!1?"0":d)===0?"0":d)||"",h=i(g)+"="+i(d)}return h})).join(a).replace(/[!'()*]/g,""):""};t.exports=n}])},function(l,b,e){l.exports=e(14)},function(l,b){l.exports=function(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}},function(l,b,e){var t=e(4);l.exports=function(o,i){if(o){if(typeof o=="string")return t(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);return n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set"?Array.from(n):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(o,i):void 0}}},function(l,b){function e(t,o,i,n,r,c,a){try{var s=t[c](a),u=s.value}catch(h){return void i(h)}s.done?o(u):Promise.resolve(u).then(n,r)}l.exports=function(t){return function(){var o=this,i=arguments;return new Promise(function(n,r){var c=t.apply(o,i);function a(u){e(c,n,r,a,s,"next",u)}function s(u){e(c,n,r,a,s,"throw",u)}a(void 0)})}}},function(l,b,e){var t=e(19),o=e(20),i=e(5),n=e(21);l.exports=function(r){return t(r)||o(r)||i(r)||n()}},function(l,b){l.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(l,b){l.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(l,b){l.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(l,b){l.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(l,b){l.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(l,b,e){var t=e(22),o=e(23),i=e(5),n=e(24);l.exports=function(r,c){return t(r)||o(r,c)||i(r,c)||n()}},function(l,b,e){var t=function(o){var i=Object.prototype,n=i.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},c=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(O,B,C,w){var L=B&&B.prototype instanceof g?B:g,P=Object.create(L.prototype),N=new T(w||[]);return P._invoke=function(A,D,H){var j="suspendedStart";return function(F,U){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(F==="throw")throw U;return R()}for(H.method=F,H.arg=U;;){var z=H.delegate;if(z){var W=I(z,H);if(W){if(W===v)continue;return W}}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(j==="suspendedStart")throw j="completed",H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);j="executing";var G=h(A,D,H);if(G.type==="normal"){if(j=H.done?"completed":"suspendedYield",G.arg===v)continue;return{value:G.arg,done:H.done}}G.type==="throw"&&(j="completed",H.method="throw",H.arg=G.arg)}}}(O,C,N),P}function h(O,B,C){try{return{type:"normal",arg:O.call(B,C)}}catch(w){return{type:"throw",arg:w}}}o.wrap=u;var v={};function g(){}function d(){}function f(){}var p={};p[c]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==i&&n.call(m,c)&&(p=m);var k=f.prototype=g.prototype=Object.create(p);function x(O){["next","throw","return"].forEach(function(B){O[B]=function(C){return this._invoke(B,C)}})}function E(O,B){var C;this._invoke=function(w,L){function P(){return new B(function(N,A){(function D(H,j,F,U){var z=h(O[H],O,j);if(z.type!=="throw"){var W=z.arg,G=W.value;return G&&typeof G=="object"&&n.call(G,"__await")?B.resolve(G.__await).then(function(V){D("next",V,F,U)},function(V){D("throw",V,F,U)}):B.resolve(G).then(function(V){W.value=V,F(W)},function(V){return D("throw",V,F,U)})}U(z.arg)})(w,L,N,A)})}return C=C?C.then(P,P):P()}}function I(O,B){var C=O.iterator[B.method];if(C===void 0){if(B.delegate=null,B.method==="throw"){if(O.iterator.return&&(B.method="return",B.arg=void 0,I(O,B),B.method==="throw"))return v;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var w=h(C,O.iterator,B.arg);if(w.type==="throw")return B.method="throw",B.arg=w.arg,B.delegate=null,v;var L=w.arg;return L?L.done?(B[O.resultName]=L.value,B.next=O.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,v):L:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,v)}function M(O){var B={tryLoc:O[0]};1 in O&&(B.catchLoc=O[1]),2 in O&&(B.finallyLoc=O[2],B.afterLoc=O[3]),this.tryEntries.push(B)}function _(O){var B=O.completion||{};B.type="normal",delete B.arg,O.completion=B}function T(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(M,this),this.reset(!0)}function S(O){if(O){var B=O[c];if(B)return B.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var C=-1,w=function L(){for(;++C<O.length;)if(n.call(O,C))return L.value=O[C],L.done=!1,L;return L.value=void 0,L.done=!0,L};return w.next=w}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype=k.constructor=f,f.constructor=d,f[s]=d.displayName="GeneratorFunction",o.isGeneratorFunction=function(O){var B=typeof O=="function"&&O.constructor;return!!B&&(B===d||(B.displayName||B.name)==="GeneratorFunction")},o.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,f):(O.__proto__=f,s in O||(O[s]="GeneratorFunction")),O.prototype=Object.create(k),O},o.awrap=function(O){return{__await:O}},x(E.prototype),E.prototype[a]=function(){return this},o.AsyncIterator=E,o.async=function(O,B,C,w,L){L===void 0&&(L=Promise);var P=new E(u(O,B,C,w),L);return o.isGeneratorFunction(B)?P:P.next().then(function(N){return N.done?N.value:P.next()})},x(k),k[s]="Generator",k[c]=function(){return this},k.toString=function(){return"[object Generator]"},o.keys=function(O){var B=[];for(var C in O)B.push(C);return B.reverse(),function w(){for(;B.length;){var L=B.pop();if(L in O)return w.value=L,w.done=!1,w}return w.done=!0,w}},o.values=S,T.prototype={constructor:T,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!O)for(var B in this)B.charAt(0)==="t"&&n.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var B=this;function C(D,H){return P.type="throw",P.arg=O,B.next=D,H&&(B.method="next",B.arg=void 0),!!H}for(var w=this.tryEntries.length-1;w>=0;--w){var L=this.tryEntries[w],P=L.completion;if(L.tryLoc==="root")return C("end");if(L.tryLoc<=this.prev){var N=n.call(L,"catchLoc"),A=n.call(L,"finallyLoc");if(N&&A){if(this.prev<L.catchLoc)return C(L.catchLoc,!0);if(this.prev<L.finallyLoc)return C(L.finallyLoc)}else if(N){if(this.prev<L.catchLoc)return C(L.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return C(L.finallyLoc)}}}},abrupt:function(O,B){for(var C=this.tryEntries.length-1;C>=0;--C){var w=this.tryEntries[C];if(w.tryLoc<=this.prev&&n.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var L=w;break}}L&&(O==="break"||O==="continue")&&L.tryLoc<=B&&B<=L.finallyLoc&&(L=null);var P=L?L.completion:{};return P.type=O,P.arg=B,L?(this.method="next",this.next=L.finallyLoc,v):this.complete(P)},complete:function(O,B){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&B&&(this.next=B),v},finish:function(O){for(var B=this.tryEntries.length-1;B>=0;--B){var C=this.tryEntries[B];if(C.finallyLoc===O)return this.complete(C.completion,C.afterLoc),_(C),v}},catch:function(O){for(var B=this.tryEntries.length-1;B>=0;--B){var C=this.tryEntries[B];if(C.tryLoc===O){var w=C.completion;if(w.type==="throw"){var L=w.arg;_(C)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(O,B,C){return this.delegate={iterator:S(O),resultName:B,nextLoc:C},this.method==="next"&&(this.arg=void 0),v}},o}(l.exports);try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}},function(l,b,e){var t=e(16),o=e(17);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[l.i,o,""]]);var i={insert:"head",singleton:!1},n=(t(o,i),o.locals?o.locals:{});l.exports=n},function(l,b,e){var t,o=function(){return t===void 0&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},i=function(){var p={};return function(y){if(p[y]===void 0){var m=document.querySelector(y);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}p[y]=m}return p[y]}}(),n=[];function r(p){for(var y=-1,m=0;m<n.length;m++)if(n[m].identifier===p){y=m;break}return y}function c(p,y){for(var m={},k=[],x=0;x<p.length;x++){var E=p[x],I=y.base?E[0]+y.base:E[0],M=m[I]||0,_="".concat(I," ").concat(M);m[I]=M+1;var T=r(_),S={css:E[1],media:E[2],sourceMap:E[3]};T!==-1?(n[T].references++,n[T].updater(S)):n.push({identifier:_,updater:f(S,y),references:1}),k.push(_)}return k}function a(p){var y=document.createElement("style"),m=p.attributes||{};if(m.nonce===void 0){var k=e.nc;k&&(m.nonce=k)}if(Object.keys(m).forEach(function(E){y.setAttribute(E,m[E])}),typeof p.insert=="function")p.insert(y);else{var x=i(p.insert||"head");if(!x)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");x.appendChild(y)}return y}var s,u=(s=[],function(p,y){return s[p]=y,s.filter(Boolean).join(`
`)});function h(p,y,m,k){var x=m?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(p.styleSheet)p.styleSheet.cssText=u(y,x);else{var E=document.createTextNode(x),I=p.childNodes;I[y]&&p.removeChild(I[y]),I.length?p.insertBefore(E,I[y]):p.appendChild(E)}}function v(p,y,m){var k=m.css,x=m.media,E=m.sourceMap;if(x?p.setAttribute("media",x):p.removeAttribute("media"),E&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(E))))," */")),p.styleSheet)p.styleSheet.cssText=k;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(k))}}var g=null,d=0;function f(p,y){var m,k,x;if(y.singleton){var E=d++;m=g||(g=a(y)),k=h.bind(null,m,E,!1),x=h.bind(null,m,E,!0)}else m=a(y),k=v.bind(null,m,y),x=function(){(function(I){if(I.parentNode===null)return!1;I.parentNode.removeChild(I)})(m)};return k(p),function(I){if(I){if(I.css===p.css&&I.media===p.media&&I.sourceMap===p.sourceMap)return;k(p=I)}else x()}}l.exports=function(p,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=o());var m=c(p=p||[],y);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var x=0;x<m.length;x++){var E=r(m[x]);n[E].references--}for(var I=c(k,y),M=0;M<m.length;M++){var _=r(m[M]);n[_].references===0&&(n[_].updater(),n.splice(_,1))}m=I}}}},function(l,b,e){(b=e(18)(!1)).push([l.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;
}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),l.exports=b},function(l,b,e){l.exports=function(t){var o=[];return o.toString=function(){return this.map(function(i){var n=function(r,c){var a=r[1]||"",s=r[3];if(!s)return a;if(c&&typeof btoa=="function"){var u=(v=s,g=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(d," */")),h=s.sources.map(function(f){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(f," */")});return[a].concat(h).concat([u]).join(`
`)}var v,g,d;return[a].join(`
`)}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(n,"}"):n}).join("")},o.i=function(i,n,r){typeof i=="string"&&(i=[[null,i,""]]);var c={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];s!=null&&(c[s]=!0)}for(var u=0;u<i.length;u++){var h=[].concat(i[u]);r&&c[h[0]]||(n&&(h[2]?h[2]="".concat(n," and ").concat(h[2]):h[2]=n),o.push(h))}},o}},function(l,b,e){var t=e(4);l.exports=function(o){if(Array.isArray(o))return t(o)}},function(l,b){l.exports=function(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}},function(l,b){l.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(l,b){l.exports=function(e){if(Array.isArray(e))return e}},function(l,b){l.exports=function(e,t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e)){var o=[],i=!0,n=!1,r=void 0;try{for(var c,a=e[Symbol.iterator]();!(i=(c=a.next()).done)&&(o.push(c.value),!t||o.length!==t);i=!0);}catch(s){n=!0,r=s}finally{try{i||a.return==null||a.return()}finally{if(n)throw r}}return o}}},function(l,b){l.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(l,b,e){e.r(b),e.d(b,"default",function(){return w});var t=e(3),o=e.n(t),i=e(6),n=e.n(i),r=e(1),c=e.n(r),a=e(0),s=e.n(a),u=(e(15),e(7)),h=e.n(u),v=e(8),g=e.n(v),d=function(){function L(P){var N=P.api,A=P.config,D=P.onSelectFile,H=P.readOnly;c()(this,L),this.api=N,this.config=A,this.onSelectFile=D,this.readOnly=H,this.nodes={wrapper:f("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:f("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:f("div",this.CSS.imagePreloader),caption:f("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return s()(L,[{key:"render",value:function(P){return P.file&&Object.keys(P.file).length!==0?this.toggleStatus(L.status.UPLOADING):this.toggleStatus(L.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var P=this,N=f("div",[this.CSS.button]);return N.innerHTML=this.config.buttonContent||"".concat(g.a," ").concat(this.api.i18n.t("Select an Image")),N.addEventListener("click",function(){P.onSelectFile()}),N}},{key:"showPreloader",value:function(P){this.nodes.imagePreloader.style.backgroundImage="url(".concat(P,")"),this.toggleStatus(L.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(L.status.EMPTY)}},{key:"fillImage",value:function(P){var N=this,A=/\.mp4$/.test(P)?"VIDEO":"IMG",D={src:P},H="load";A==="VIDEO"&&(D.autoplay=!0,D.loop=!0,D.muted=!0,D.playsinline=!0,H="loadeddata"),this.nodes.imageEl=f(A,this.CSS.imageEl,D),this.nodes.imageEl.addEventListener(H,function(){N.toggleStatus(L.status.FILLED),N.nodes.imagePreloader&&(N.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(P){this.nodes.caption&&(this.nodes.caption.innerHTML=P)}},{key:"toggleStatus",value:function(P){for(var N in L.status)Object.prototype.hasOwnProperty.call(L.status,N)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(L.status[N]),P===L.status[N])}},{key:"applyTune",value:function(P,N){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(P),N)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),L}(),f=function(L){var P,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=document.createElement(L);Array.isArray(N)?(P=D.classList).add.apply(P,h()(N)):N&&D.classList.add(N);for(var H in A)D[H]=A[H];return D},p=e(9),y=e.n(p),m=e(10),k=e.n(m),x=e(11),E=e.n(x),I=function(){function L(P){var N=P.api,A=P.actions,D=P.onChange;c()(this,L),this.api=N,this.actions=A,this.onChange=D,this.buttons=[]}return s()(L,[{key:"render",value:function(P){var N=this,A=f("div",this.CSS.wrapper);return this.buttons=[],L.tunes.concat(this.actions).forEach(function(D){var H=N.api.i18n.t(D.title),j=f("div",[N.CSS.buttonBase,N.CSS.button],{innerHTML:D.icon,title:H});j.addEventListener("click",function(){N.tuneClicked(D.name,D.action)}),j.dataset.tune=D.name,j.classList.toggle(N.CSS.buttonActive,P[D.name]),N.buttons.push(j),N.api.tooltip.onHover(j,H,{placement:"top"}),A.appendChild(j)}),A}},{key:"tuneClicked",value:function(P,N){if(typeof N=="function"&&!N(P))return!1;var A=this.buttons.find(function(D){return D.dataset.tune===P});A.classList.toggle(this.CSS.buttonActive,!A.classList.contains(this.CSS.buttonActive)),this.onChange(P)}},{key:"CSS",get:function(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}}],[{key:"tunes",get:function(){return[{name:"withBorder",icon:k.a,title:"With border"},{name:"stretched",icon:E.a,title:"Stretch image"},{name:"withBackground",icon:y.a,title:"With background"}]}}]),L}(),M=e(12),_=e.n(M),T=e(13),S=e.n(T),R=e(2),O=e.n(R),B=function(){function L(P){var N=P.config,A=P.onUpload,D=P.onError;c()(this,L),this.config=N,this.onUpload=A,this.onError=D}return s()(L,[{key:"uploadSelectedFile",value:function(P){var N=this,A=P.onPreview,D=function(H){var j=new FileReader;j.readAsDataURL(H),j.onload=function(F){A(F.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?O.a.selectFiles({accept:this.config.types}).then(function(H){D(H[0]);var j=N.config.uploader.uploadByFile(H[0]);return C(j)||console.warn("Custom uploader method uploadByFile should return a Promise"),j}):O.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(H){D(H[0])},fieldName:this.config.field}).then(function(H){return H.body})).then(function(H){N.onUpload(H)}).catch(function(H){N.onError(H)})}},{key:"uploadByUrl",value:function(P){var N,A=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?C(N=this.config.uploader.uploadByUrl(P))||console.warn("Custom uploader method uploadByUrl should return a Promise"):N=O.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:P},this.config.additionalRequestData),type:O.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(D){return D.body}),N.then(function(D){A.onUpload(D)}).catch(function(D){A.onError(D)})}},{key:"uploadByFile",value:function(P,N){var A,D=this,H=N.onPreview,j=new FileReader;if(j.readAsDataURL(P),j.onload=function(U){H(U.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")C(A=this.config.uploader.uploadByFile(P))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var F=new FormData;F.append(this.config.field,P),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(U){var z=S()(U,2),W=z[0],G=z[1];F.append(W,G)}),A=O.a.post({url:this.config.endpoints.byFile,data:F,type:O.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(U){return U.body})}A.then(function(U){D.onUpload(U)}).catch(function(U){D.onError(U)})}}]),L}();function C(L){return L&&typeof L.then=="function"}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */var w=function(){function L(N){var A=this,D=N.data,H=N.config,j=N.api,F=N.readOnly;c()(this,L),this.api=j,this.readOnly=F,this.config={endpoints:H.endpoints||"",additionalRequestData:H.additionalRequestData||{},additionalRequestHeaders:H.additionalRequestHeaders||{},field:H.field||"image",types:H.types||"image/*",captionPlaceholder:this.api.i18n.t(H.captionPlaceholder||"Caption"),buttonContent:H.buttonContent||"",uploader:H.uploader||void 0,actions:H.actions||[]},this.uploader=new B({config:this.config,onUpload:function(U){return A.onUpload(U)},onError:function(U){return A.uploadingFailed(U)}}),this.ui=new d({api:j,config:this.config,onSelectFile:function(){A.uploader.uploadSelectedFile({onPreview:function(U){A.ui.showPreloader(U)}})},readOnly:F}),this.tunes=new I({api:j,actions:this.config.actions,onChange:function(U){return A.tuneToggled(U)}}),this._data={},this.data=D}var P;return s()(L,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:_.a,title:"Image"}}}]),s()(L,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(N){return N.file&&N.file.url}},{key:"save",value:function(){var N=this.ui.nodes.caption;return this._data.caption=N.innerHTML,this.data}},{key:"renderSettings",value:function(){return this.tunes.render(this.data)}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(P=n()(o.a.mark(function N(A){var D,H,j,F,U;return o.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:z.t0=A.type,z.next=z.t0==="tag"?3:z.t0==="pattern"?15:z.t0==="file"?18:21;break;case 3:if(D=A.detail.data,!/^blob:/.test(D.src)){z.next=13;break}return z.next=7,fetch(D.src);case 7:return H=z.sent,z.next=10,H.blob();case 10:return j=z.sent,this.uploadFile(j),z.abrupt("break",21);case 13:return this.uploadUrl(D.src),z.abrupt("break",21);case 15:return F=A.detail.data,this.uploadUrl(F),z.abrupt("break",21);case 18:return U=A.detail.file,this.uploadFile(U),z.abrupt("break",21);case 21:case"end":return z.stop()}},N,this)})),function(N){return P.apply(this,arguments)})},{key:"onUpload",value:function(N){N.success&&N.file?this.image=N.file:this.uploadingFailed("incorrect response: "+JSON.stringify(N))}},{key:"uploadingFailed",value:function(N){console.log("Image Tool: uploading failed because of",N),this.api.notifier.show({message:this.api.i18n.t("Couldn\u2019t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(N){this.setTune(N,!this._data[N])}},{key:"setTune",value:function(N,A){var D=this;this._data[N]=A,this.ui.applyTune(N,A),N==="stretched"&&Promise.resolve().then(function(){var H=D.api.blocks.getCurrentBlockIndex();D.api.blocks.stretchBlock(H,A)}).catch(function(H){console.error(H)})}},{key:"uploadFile",value:function(N){var A=this;this.uploader.uploadByFile(N,{onPreview:function(D){A.ui.showPreloader(D)}})}},{key:"uploadUrl",value:function(N){this.ui.showPreloader(N),this.uploader.uploadByUrl(N)}},{key:"data",set:function(N){var A=this;this.image=N.file,this._data.caption=N.caption||"",this.ui.fillCaption(this._data.caption),I.tunes.forEach(function(D){var H=D.name,j=N[H]!==void 0&&(N[H]===!0||N[H]==="true");A.setTune(H,j)})},get:function(){return this._data}},{key:"image",set:function(N){this._data.file=N||{},N&&N.url&&this.ui.fillImage(N.url)}}],[{key:"pasteConfig",get:function(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}}]),L}()}]).default})})(Ct);var Gt=Je(Ct.exports),_t={exports:{}};(function(ye,xe){(function(l,b){ye.exports=b()})(window,function(){return function(l){var b={};function e(t){if(b[t])return b[t].exports;var o=b[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=b,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="/",e(e.s=0)}([function(l,b,e){function t(n,r){for(var c=0;c<r.length;c++){var a=r[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function o(n,r,c){return r&&t(n.prototype,r),c&&t(n,c),n}e(1).toString();var i=function(){function n(r){var c=r.api;(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,n),this.api=c,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return o(n,null,[{key:"CSS",get:function(){return"cdx-underline"}}]),o(n,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(r){if(r){var c=this.api.selection.findParentTag(this.tag,n.CSS);c?this.unwrap(c):this.wrap(r)}}},{key:"wrap",value:function(r){var c=document.createElement(this.tag);c.classList.add(n.CSS),c.appendChild(r.extractContents()),r.insertNode(c),this.api.selection.expandToTag(c)}},{key:"unwrap",value:function(r){this.api.selection.expandToTag(r);var c=window.getSelection(),a=c.getRangeAt(0),s=a.extractContents();r.parentNode.removeChild(r),a.insertNode(s),c.removeAllRanges(),c.addRange(a)}},{key:"checkState",value:function(){var r=this.api.selection.findParentTag(this.tag,n.CSS);this.button.classList.toggle(this.iconClasses.active,!!r)}},{key:"toolboxIcon",get:function(){return e(5).default}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:n.CSS}}}}]),n}();l.exports=i},function(l,b,e){var t=e(2),o=e(3);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[l.i,o,""]]);var i={insert:"head",singleton:!1};t(o,i),l.exports=o.locals||{}},function(l,b,e){var t,o=function(){return t===void 0&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},i=function(){var p={};return function(y){if(p[y]===void 0){var m=document.querySelector(y);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}p[y]=m}return p[y]}}(),n=[];function r(p){for(var y=-1,m=0;m<n.length;m++)if(n[m].identifier===p){y=m;break}return y}function c(p,y){for(var m={},k=[],x=0;x<p.length;x++){var E=p[x],I=y.base?E[0]+y.base:E[0],M=m[I]||0,_="".concat(I," ").concat(M);m[I]=M+1;var T=r(_),S={css:E[1],media:E[2],sourceMap:E[3]};T!==-1?(n[T].references++,n[T].updater(S)):n.push({identifier:_,updater:f(S,y),references:1}),k.push(_)}return k}function a(p){var y=document.createElement("style"),m=p.attributes||{};if(m.nonce===void 0){var k=e.nc;k&&(m.nonce=k)}if(Object.keys(m).forEach(function(E){y.setAttribute(E,m[E])}),typeof p.insert=="function")p.insert(y);else{var x=i(p.insert||"head");if(!x)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");x.appendChild(y)}return y}var s,u=(s=[],function(p,y){return s[p]=y,s.filter(Boolean).join(`
`)});function h(p,y,m,k){var x=m?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(p.styleSheet)p.styleSheet.cssText=u(y,x);else{var E=document.createTextNode(x),I=p.childNodes;I[y]&&p.removeChild(I[y]),I.length?p.insertBefore(E,I[y]):p.appendChild(E)}}function v(p,y,m){var k=m.css,x=m.media,E=m.sourceMap;if(x?p.setAttribute("media",x):p.removeAttribute("media"),E&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(E))))," */")),p.styleSheet)p.styleSheet.cssText=k;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(k))}}var g=null,d=0;function f(p,y){var m,k,x;if(y.singleton){var E=d++;m=g||(g=a(y)),k=h.bind(null,m,E,!1),x=h.bind(null,m,E,!0)}else m=a(y),k=v.bind(null,m,y),x=function(){(function(I){if(I.parentNode===null)return!1;I.parentNode.removeChild(I)})(m)};return k(p),function(I){if(I){if(I.css===p.css&&I.media===p.media&&I.sourceMap===p.sourceMap)return;k(p=I)}else x()}}l.exports=function(p,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=o());var m=c(p=p||[],y);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var x=0;x<m.length;x++){var E=r(m[x]);n[E].references--}for(var I=c(k,y),M=0;M<m.length;M++){var _=r(m[M]);n[_].references===0&&(n[_].updater(),n.splice(_,1))}m=I}}}},function(l,b,e){(b=e(4)(!1)).push([l.i,`.cdx-underline {
    text-decoration: underline;
}
`,""]),l.exports=b},function(l,b,e){l.exports=function(t){var o=[];return o.toString=function(){return this.map(function(i){var n=function(r,c){var a=r[1]||"",s=r[3];if(!s)return a;if(c&&typeof btoa=="function"){var u=(v=s,g=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(d," */")),h=s.sources.map(function(f){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(f," */")});return[a].concat(h).concat([u]).join(`
`)}var v,g,d;return[a].join(`
`)}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(n,"}"):n}).join("")},o.i=function(i,n,r){typeof i=="string"&&(i=[[null,i,""]]);var c={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];s!=null&&(c[s]=!0)}for(var u=0;u<i.length;u++){var h=[].concat(i[u]);r&&c[h[0]]||(n&&(h[2]?h[2]="".concat(n," and ").concat(h[2]):h[2]=n),o.push(h))}},o}},function(l,b,e){e.r(b),b.default=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -1 8 13" width="8" height="13">
  <path d="M5.48 7.34v-.27c-.25.32-.51.58-.79.8a2.9 2.9 0 01-.9.48c-.32.1-.7.15-1.11.15-.5 0-.96-.1-1.36-.31a2.3 2.3 0 01-.93-.87A3.85 3.85 0 010 5.4V1.25C0 .83.1.52.28.31.48.11.72 0 1.03 0a1 1 0 01.77.31c.2.21.29.53.29.94v3.36c0 .48.04.89.12 1.22.08.33.23.59.44.77.21.2.5.29.86.29.35 0 .68-.11 1-.32.3-.2.53-.48.67-.82.12-.3.18-.95.18-1.95V1.25c0-.41.1-.73.3-.94.18-.2.44-.31.75-.31.3 0 .56.1.75.31.19.2.28.52.28.94v6.07c0 .4-.09.7-.27.9a.9.9 0 01-.7.3.9.9 0 01-.7-.31c-.2-.2-.29-.5-.29-.87zM.72 9.68h6.36a.72.72 0 010 1.44H.72a.72.72 0 010-1.44z"/>
</svg>
`}])})})(_t);var Xt=Je(_t.exports),Bt={exports:{}};(function(ye,xe){(function(l,b){ye.exports=b()})(window,function(){return function(l){var b={};function e(t){if(b[t])return b[t].exports;var o=b[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=b,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(i,n,function(r){return t[r]}.bind(null,n));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="/",e(e.s=0)}([function(l,b,e){function t(c){return function(a){if(Array.isArray(a))return o(a)}(c)||function(a){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(a))return Array.from(a)}(c)||function(a,s){if(!!a){if(typeof a=="string")return o(a,s);var u=Object.prototype.toString.call(a).slice(8,-1);if(u==="Object"&&a.constructor&&(u=a.constructor.name),u==="Map"||u==="Set")return Array.from(a);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return o(a,s)}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(c,a){(a==null||a>c.length)&&(a=c.length);for(var s=0,u=new Array(a);s<a;s++)u[s]=c[s];return u}function i(c,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(c,u.key,u)}}function n(c,a,s){return a&&i(c.prototype,a),s&&i(c,s),c}e(1).toString();var r=function(){function c(a){var s=a.data,u=a.config,h=a.api,v=a.readOnly;(function(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")})(this,c),this._elements={wrapper:null},this.api=h,this.readOnly=v,this.settings=[{name:"unordered",title:this.api.i18n.t("Unordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',default:u.defaultStyle==="unordered"||!1},{name:"ordered",title:this.api.i18n.t("Ordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M5.819 4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0-4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0 9.357h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 0 1 0-2.137zM1.468 4.155V1.33c-.554.404-.926.606-1.118.606a.338.338 0 0 1-.244-.104A.327.327 0 0 1 0 1.59c0-.107.035-.184.105-.234.07-.05.192-.114.369-.192.264-.118.475-.243.633-.373.158-.13.298-.276.42-.438a3.94 3.94 0 0 1 .238-.298C1.802.019 1.872 0 1.975 0c.115 0 .208.042.277.127.07.085.105.202.105.351v3.556c0 .416-.15.624-.448.624a.421.421 0 0 1-.32-.127c-.08-.085-.121-.21-.121-.376zm-.283 6.664h1.572c.156 0 .275.03.358.091a.294.294 0 0 1 .123.25.323.323 0 0 1-.098.238c-.065.065-.164.097-.296.097H.629a.494.494 0 0 1-.353-.119.372.372 0 0 1-.126-.28c0-.068.027-.16.081-.273a.977.977 0 0 1 .178-.268c.267-.264.507-.49.722-.678.215-.188.368-.312.46-.371.165-.11.302-.222.412-.334.109-.112.192-.226.25-.344a.786.786 0 0 0 .085-.345.6.6 0 0 0-.341-.553.75.75 0 0 0-.345-.08c-.263 0-.47.11-.62.329-.02.029-.054.107-.101.235a.966.966 0 0 1-.16.295c-.059.069-.145.103-.26.103a.348.348 0 0 1-.25-.094.34.34 0 0 1-.099-.258c0-.132.031-.27.093-.413.063-.143.155-.273.279-.39.123-.116.28-.21.47-.282.189-.072.411-.107.666-.107.307 0 .569.045.786.137a1.182 1.182 0 0 1 .618.623 1.18 1.18 0 0 1-.096 1.083 2.03 2.03 0 0 1-.378.457c-.128.11-.344.282-.646.517-.302.235-.509.417-.621.547a1.637 1.637 0 0 0-.148.187z"/></svg>',default:u.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(function(g){return g.default===!0}).name,items:[]},this.data=s}return n(c,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',title:"List"}}}]),n(c,[{key:"render",value:function(){var a=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(s){a._elements.wrapper.appendChild(a._make("li",a.CSS.item,{innerHTML:s}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(s){switch(s.keyCode){case 13:a.getOutofList(s);break;case 8:a.backspace(s)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var a=this,s=this._make("div",[this.CSS.settingsWrapper],{});return this.settings.forEach(function(u){var h=a._make("div",a.CSS.settingsButton,{innerHTML:u.icon});h.addEventListener("click",function(){a.toggleTune(u.name);var v=h.parentNode.querySelectorAll("."+a.CSS.settingsButton);Array.from(v).forEach(function(g){return g.classList.remove(a.CSS.settingsButtonActive)}),h.classList.toggle(a.CSS.settingsButtonActive)}),a.api.tooltip.onHover(h,u.title,{placement:"top",hidingDelay:500}),a._data.style===u.name&&h.classList.add(a.CSS.settingsButtonActive),s.appendChild(h)}),s}},{key:"onPaste",value:function(a){var s=a.detail.data;this.data=this.pasteHandler(s)}},{key:"makeMainTag",value:function(a){var s=a==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,u=a==="ordered"?"ol":"ul";return this._make(u,[this.CSS.baseBlock,this.CSS.wrapper,s],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(a){for(var s=this.makeMainTag(a);this._elements.wrapper.hasChildNodes();)s.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(s),this._elements.wrapper=s,this._data.style=a}},{key:"_make",value:function(a){var s,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=document.createElement(a);Array.isArray(u)?(s=v.classList).add.apply(s,t(u)):u&&v.classList.add(u);for(var g in h)v[g]=h[g];return v}},{key:"getOutofList",value:function(a){var s=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(s.length<2)){var u=s[s.length-1],h=this.currentItem;h!==u||u.textContent.trim().length||(h.parentElement.removeChild(h),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),a.preventDefault(),a.stopPropagation())}}},{key:"backspace",value:function(a){var s=this._elements.wrapper.querySelectorAll("."+this.CSS.item),u=s[0];u&&s.length<2&&!u.innerHTML.replace("<br>"," ").trim()&&a.preventDefault()}},{key:"selectItem",value:function(a){a.preventDefault();var s=window.getSelection(),u=s.anchorNode.parentNode.closest("."+this.CSS.item),h=new Range;h.selectNodeContents(u),s.removeAllRanges(),s.addRange(h)}},{key:"pasteHandler",value:function(a){var s,u=a.tagName;switch(u){case"OL":s="ordered";break;case"UL":case"LI":s="unordered"}var h={style:s,items:[]};if(u==="LI")h.items=[a.innerHTML];else{var v=Array.from(a.querySelectorAll("LI"));h.items=v.map(function(g){return g.innerHTML}).filter(function(g){return!!g.trim()})}return h}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item",settingsWrapper:"cdx-list-settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}},{key:"data",set:function(a){a||(a={}),this._data.style=a.style||this.settings.find(function(u){return u.default===!0}).name,this._data.items=a.items||[];var s=this._elements.wrapper;s&&s.parentNode.replaceChild(this.render(),s)},get:function(){this._data.items=[];for(var a=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),s=0;s<a.length;s++)a[s].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(a[s].innerHTML);return this._data}},{key:"currentItem",get:function(){var a=window.getSelection().anchorNode;return a.nodeType!==Node.ELEMENT_NODE&&(a=a.parentNode),a.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(a){return a.items.join(". ")},import:function(a){return{items:[a],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),c}();l.exports=r},function(l,b,e){var t=e(2),o=e(3);typeof(o=o.__esModule?o.default:o)=="string"&&(o=[[l.i,o,""]]);var i={insert:"head",singleton:!1};t(o,i),l.exports=o.locals||{}},function(l,b,e){var t,o=function(){return t===void 0&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},i=function(){var p={};return function(y){if(p[y]===void 0){var m=document.querySelector(y);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}p[y]=m}return p[y]}}(),n=[];function r(p){for(var y=-1,m=0;m<n.length;m++)if(n[m].identifier===p){y=m;break}return y}function c(p,y){for(var m={},k=[],x=0;x<p.length;x++){var E=p[x],I=y.base?E[0]+y.base:E[0],M=m[I]||0,_="".concat(I," ").concat(M);m[I]=M+1;var T=r(_),S={css:E[1],media:E[2],sourceMap:E[3]};T!==-1?(n[T].references++,n[T].updater(S)):n.push({identifier:_,updater:f(S,y),references:1}),k.push(_)}return k}function a(p){var y=document.createElement("style"),m=p.attributes||{};if(m.nonce===void 0){var k=e.nc;k&&(m.nonce=k)}if(Object.keys(m).forEach(function(E){y.setAttribute(E,m[E])}),typeof p.insert=="function")p.insert(y);else{var x=i(p.insert||"head");if(!x)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");x.appendChild(y)}return y}var s,u=(s=[],function(p,y){return s[p]=y,s.filter(Boolean).join(`
`)});function h(p,y,m,k){var x=m?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(p.styleSheet)p.styleSheet.cssText=u(y,x);else{var E=document.createTextNode(x),I=p.childNodes;I[y]&&p.removeChild(I[y]),I.length?p.insertBefore(E,I[y]):p.appendChild(E)}}function v(p,y,m){var k=m.css,x=m.media,E=m.sourceMap;if(x?p.setAttribute("media",x):p.removeAttribute("media"),E&&btoa&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(E))))," */")),p.styleSheet)p.styleSheet.cssText=k;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(k))}}var g=null,d=0;function f(p,y){var m,k,x;if(y.singleton){var E=d++;m=g||(g=a(y)),k=h.bind(null,m,E,!1),x=h.bind(null,m,E,!0)}else m=a(y),k=v.bind(null,m,y),x=function(){(function(I){if(I.parentNode===null)return!1;I.parentNode.removeChild(I)})(m)};return k(p),function(I){if(I){if(I.css===p.css&&I.media===p.media&&I.sourceMap===p.sourceMap)return;k(p=I)}else x()}}l.exports=function(p,y){(y=y||{}).singleton||typeof y.singleton=="boolean"||(y.singleton=o());var m=c(p=p||[],y);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var x=0;x<m.length;x++){var E=r(m[x]);n[E].references--}for(var I=c(k,y),M=0;M<m.length;M++){var _=r(m[M]);n[_].references===0&&(n[_].updater(),n.splice(_,1))}m=I}}}},function(l,b,e){(b=e(4)(!1)).push([l.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),l.exports=b},function(l,b,e){l.exports=function(t){var o=[];return o.toString=function(){return this.map(function(i){var n=function(r,c){var a=r[1]||"",s=r[3];if(!s)return a;if(c&&typeof btoa=="function"){var u=(v=s,g=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(d," */")),h=s.sources.map(function(f){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(f," */")});return[a].concat(h).concat([u]).join(`
`)}var v,g,d;return[a].join(`
`)}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(n,"}"):n}).join("")},o.i=function(i,n,r){typeof i=="string"&&(i=[[null,i,""]]);var c={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];s!=null&&(c[s]=!0)}for(var u=0;u<i.length;u++){var h=[].concat(i[u]);r&&c[h[0]]||(n&&(h[2]?h[2]="".concat(n," and ").concat(h[2]):h[2]=n),o.push(h))}},o}}])})})(Bt);var Kt=Je(Bt.exports);class it extends st{constructor(){super(...arguments);we(this,"editorArea",jt("editor"));we(this,"editor")}setup(){wt(()=>{this.initialize(),this.props.instanceGetter&&this.props.instanceGetter(this.editor)}),Dt(()=>{this.editor&&this.editor.destroy()})}initialize(){const l=this.editorArea.el;!l||(this.editor=new Vt({holder:l,tools:{underline:Xt,list:{class:Kt,inlineToolbar:!0,config:{defaultStyle:"unordered"}},image:{class:Gt,config:{uploader:{uploadByFile:b=>new Promise((e,t)=>{const o=new FileReader;o.readAsDataURL(b),o.onerror=t,o.onload=()=>e({success:1,file:{url:o.result}})})}}}}}))}}we(it,"template",at`
    <div t-ref="editor" class="border border-solid border-slate-300 p-4 text-sm rounded-sm shadow-sm bg-white" />
  `),we(it,"props",{instanceGetter:{type:Function,optional:!0}});class Ze extends st{constructor(){super(...arguments);we(this,"editor");we(this,"state",Et({loading:!1}))}async sendEmail(){if(!this.editor)return;const l=await this.editor.save(),b={paragraph:e=>`<p>${e.data.text}</p>`,image:e=>`<img src="${e.data.file.url}" alt="${e.data.caption}" />`,list:e=>{const t=e.data.style==="ordered"?"ol":"ul";return`<${t}>${e.data.items.map(o=>`<li>${o}</li>`).join("")}</${t}>`}};try{const e=l.blocks.map(o=>Object.keys(b).includes(o.type)?b[o.type](o):"").join("");this.state.loading=!0;const t=await Fe.letters.replyToComments(this.props.letter,e);this.state.loading=!1,t?(Te.success(ke("Reply successfully sent")),this.props.onSent?this.props.onSent():this.props.onClose()):Te.error(ke("Unable to send reply, please retry later"))}catch(e){console.error(e),Te.error(ke('Unable to generate e-mail from text, please try to rewrite it "simpler"'))}}}we(Ze,"props",{letter:{type:Object},show:{type:Boolean,optional:!0},onSent:{type:Function,optional:!0},onClose:{type:Function}}),we(Ze,"template",at`
    <Modal active="props.show" title="'Reply to Comment'" onClose="props.onClose" loading="state.loading">
      <div class="w-310 grid grid-cols-2">
        <div class="p-4 bg-slate-100 border-r border-solid border-slate-200">
          <p class="text-slate-800 font-medium text-lg mb-2">Comments</p>
          <t t-foreach="props.letter.translatedElements" t-as="item" t-key="item.id">
            <div t-if="item.type === 'paragraph' and item.comments !== false" class="mb-3 bg-white rounded-sm border border-solid border-slate-300 shadow-xs">
              <p class="text-slate-700 text-sm bg-slate-200 p-3 max-h-32 overflow-auto" t-esc="item.content" />
              <div class="p-3 border-t border-solid border-slate-300">
                <p class="text-slate-700 font-medium">Comment</p>
                <p class="text-slate-700 text-sm" t-esc="item.comments" />
              </div>
            </div>
          </t>
        </div>
        <div class="p-4">
          <p class="text-slate-800 font-medium mb-2">Your Reply</p>
          <RichEditor instanceGetter="(editor) => this.editor = editor" />
          <p class="text-xs text-slate-600 mt-2">The reply e-mail will include the comments.</p>
        </div>
      </div>
      <t t-set-slot="footer-buttons">
        <Button color="'compassion'" size="'sm'" icon="'paper-plane'" onClick="() => this.sendEmail()">Send Reply</Button>
      </t>
    </Modal>
  `),we(Ze,"components",{Modal:Ft,Button:St,RichEditor:it,ModalLoader:Ht});class rt extends st{constructor(){super(...arguments);we(this,"state",Et({loading:!1,letter:void 0,showReplyModal:!1}))}setup(){this.state.loading=!0,wt(()=>this.refreshLetter())}async refreshLetter(){this.state.loading=!0,Fe.letters.find(this.props.letterId).then(l=>{l?this.state.letter=l:Te.error(ke("Unable to find letter with identifier")+this.props.letterId),this.state.loading=!1})}async markCommentsRead(){if(!this.state.letter){Te.error(ke("Letter not found"));return}this.state.loading=!0,await Fe.letters.markCommentsAsRead(this.state.letter)?(await this.refreshLetter(),Te.success(ke("Comments marked as read"))):Te.error(ke("Unable to mark comments as read"))}mailSent(){this.state.showReplyModal=!1,this.markCommentsRead()}async putBackToTranslate(){if(!this.state.letter){Te.error(ke("Letter not found"));return}if(!window.confirm(ke("Are you sure you want to put back this letter to translate ?")))return;if(this.state.loading=!0,await Fe.letters.makeTranslatable(this.state.letter))return Te.success(ke("Letter is back to translate")),this.state.letter=void 0,this.refreshLetter();Te.error(ke("Operation failed, letter remains in current state")),this.state.loading=!1}async deleteLetter(){if(!this.state.letter){Te.error(ke("Letter not found"));return}if(!window.confirm(ke("Are you sure you want to delete this letter ?")))return;this.state.loading=!0;const b=await Fe.letters.deleteLetter(this.state.letter);this.state.loading=!1,b?(Te.success(ke("Successfully removed letter")),zt("/letters")):Te.error(ke("Unable to delete letter"))}}we(rt,"template",Yt),we(rt,"props",{letterId:{type:String}}),we(rt,"components",{CommentReplyModal:Ze,RouterLink:Ut,LetterViewer:Wt,Button:St});export{rt as default};
